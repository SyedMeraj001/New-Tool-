{"version":3,"file":"static/js/127.228d4f59.chunk.js","mappings":"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","sources":["utils/AuditTrail.js","components/ApprovalWorkflow.js","utils/NotificationSystem.js","components/WorkflowDashboard.js","utils/dataValidation.js","components/ProfessionalUX.js","utils/themeUtils.js"],"sourcesContent":["// ESG Data Audit Trail and Change Tracking System\nexport class AuditTrail {\n  static auditLog = [];\n  static maxLogSize = 1000;\n\n  static logChange(action, data, user = 'system', metadata = {}) {\n    const auditEntry = {\n      id: this.generateAuditId(),\n      timestamp: new Date().toISOString(),\n      action,\n      user,\n      data: this.sanitizeData(data),\n      metadata,\n      sessionId: this.getSessionId(),\n      ipAddress: this.getClientIP(),\n      userAgent: navigator.userAgent\n    };\n\n    this.auditLog.unshift(auditEntry);\n    \n    // Maintain log size limit\n    if (this.auditLog.length > this.maxLogSize) {\n      this.auditLog = this.auditLog.slice(0, this.maxLogSize);\n    }\n\n    // Persist to localStorage\n    this.persistAuditLog();\n    \n    return auditEntry.id;\n  }\n\n  static generateAuditId() {\n    return `audit_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  static getSessionId() {\n    let sessionId = sessionStorage.getItem('esg_session_id');\n    if (!sessionId) {\n      sessionId = `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n      sessionStorage.setItem('esg_session_id', sessionId);\n    }\n    return sessionId;\n  }\n\n  static getClientIP() {\n    // In a real application, this would be handled by the backend\n    return 'client_ip_masked';\n  }\n\n  static sanitizeData(data) {\n    // Remove sensitive information and limit data size\n    if (!data) return null;\n    \n    const sanitized = JSON.parse(JSON.stringify(data));\n    \n    // Remove sensitive fields\n    const sensitiveFields = ['password', 'token', 'secret', 'key'];\n    this.removeSensitiveFields(sanitized, sensitiveFields);\n    \n    // Limit data size\n    const dataString = JSON.stringify(sanitized);\n    if (dataString.length > 5000) {\n      return { \n        _truncated: true, \n        _originalSize: dataString.length,\n        summary: this.createDataSummary(sanitized)\n      };\n    }\n    \n    return sanitized;\n  }\n\n  static removeSensitiveFields(obj, sensitiveFields) {\n    if (typeof obj !== 'object' || obj === null) return;\n    \n    Object.keys(obj).forEach(key => {\n      if (sensitiveFields.some(field => key.toLowerCase().includes(field))) {\n        obj[key] = '[REDACTED]';\n      } else if (typeof obj[key] === 'object') {\n        this.removeSensitiveFields(obj[key], sensitiveFields);\n      }\n    });\n  }\n\n  static createDataSummary(data) {\n    if (Array.isArray(data)) {\n      return {\n        type: 'array',\n        length: data.length,\n        sample: data.slice(0, 2)\n      };\n    } else if (typeof data === 'object') {\n      return {\n        type: 'object',\n        keys: Object.keys(data),\n        sampleValues: Object.fromEntries(\n          Object.entries(data).slice(0, 3)\n        )\n      };\n    }\n    return data;\n  }\n\n  static persistAuditLog() {\n    try {\n      localStorage.setItem('esg_audit_log', JSON.stringify(this.auditLog));\n    } catch (error) {\n      console.warn('Failed to persist audit log:', error);\n    }\n  }\n\n  static loadAuditLog() {\n    try {\n      const stored = localStorage.getItem('esg_audit_log');\n      if (stored) {\n        this.auditLog = JSON.parse(stored);\n      }\n    } catch (error) {\n      console.warn('Failed to load audit log:', error);\n      this.auditLog = [];\n    }\n  }\n\n  static getAuditLog(filters = {}) {\n    let filtered = [...this.auditLog];\n\n    // Apply filters\n    if (filters.user) {\n      filtered = filtered.filter(entry => \n        entry.user.toLowerCase().includes(filters.user.toLowerCase())\n      );\n    }\n\n    if (filters.action) {\n      filtered = filtered.filter(entry => \n        entry.action.toLowerCase().includes(filters.action.toLowerCase())\n      );\n    }\n\n    if (filters.startDate) {\n      filtered = filtered.filter(entry => \n        new Date(entry.timestamp) >= new Date(filters.startDate)\n      );\n    }\n\n    if (filters.endDate) {\n      filtered = filtered.filter(entry => \n        new Date(entry.timestamp) <= new Date(filters.endDate)\n      );\n    }\n\n    if (filters.sessionId) {\n      filtered = filtered.filter(entry => entry.sessionId === filters.sessionId);\n    }\n\n    return filtered;\n  }\n\n  static trackDataEntry(data, user) {\n    return this.logChange('DATA_ENTRY', data, user, {\n      category: 'esg_data',\n      recordCount: Array.isArray(data) ? data.length : 1,\n      categories: this.extractCategories(data)\n    });\n  }\n\n  static trackDataUpdate(oldData, newData, user) {\n    const changes = this.detectChanges(oldData, newData);\n    return this.logChange('DATA_UPDATE', { changes, newData }, user, {\n      category: 'esg_data',\n      changeCount: changes.length,\n      fieldsChanged: changes.map(c => c.field)\n    });\n  }\n\n  static trackDataDeletion(data, user) {\n    return this.logChange('DATA_DELETE', data, user, {\n      category: 'esg_data',\n      recordCount: Array.isArray(data) ? data.length : 1\n    });\n  }\n\n  static trackApproval(data, approver, decision) {\n    return this.logChange('APPROVAL_ACTION', { data, decision }, approver, {\n      category: 'workflow',\n      decision,\n      recordCount: Array.isArray(data) ? data.length : 1\n    });\n  }\n\n  static trackLogin(user) {\n    return this.logChange('USER_LOGIN', null, user, {\n      category: 'authentication'\n    });\n  }\n\n  static trackLogout(user) {\n    return this.logChange('USER_LOGOUT', null, user, {\n      category: 'authentication'\n    });\n  }\n\n  static trackReportGeneration(reportType, user, parameters) {\n    return this.logChange('REPORT_GENERATED', parameters, user, {\n      category: 'reporting',\n      reportType\n    });\n  }\n\n  static detectChanges(oldData, newData) {\n    const changes = [];\n    \n    if (!oldData || !newData) return changes;\n\n    const compareObjects = (old, current, path = '') => {\n      Object.keys(current).forEach(key => {\n        const currentPath = path ? `${path}.${key}` : key;\n        \n        if (old[key] !== current[key]) {\n          if (typeof current[key] === 'object' && current[key] !== null && \n              typeof old[key] === 'object' && old[key] !== null) {\n            compareObjects(old[key], current[key], currentPath);\n          } else {\n            changes.push({\n              field: currentPath,\n              oldValue: old[key],\n              newValue: current[key],\n              changeType: old[key] === undefined ? 'added' : 'modified'\n            });\n          }\n        }\n      });\n\n      // Check for deleted fields\n      Object.keys(old).forEach(key => {\n        if (!(key in current)) {\n          const currentPath = path ? `${path}.${key}` : key;\n          changes.push({\n            field: currentPath,\n            oldValue: old[key],\n            newValue: undefined,\n            changeType: 'deleted'\n          });\n        }\n      });\n    };\n\n    compareObjects(oldData, newData);\n    return changes;\n  }\n\n  static extractCategories(data) {\n    if (!data) return [];\n    \n    if (Array.isArray(data)) {\n      return [...new Set(data.map(item => item.category).filter(Boolean))];\n    } else if (data.category) {\n      return [data.category];\n    } else {\n      return Object.keys(data).filter(key => \n        ['environmental', 'social', 'governance'].includes(key)\n      );\n    }\n  }\n\n  static generateAuditReport(filters = {}) {\n    const entries = this.getAuditLog(filters);\n    \n    const report = {\n      generatedAt: new Date().toISOString(),\n      totalEntries: entries.length,\n      dateRange: {\n        start: entries.length > 0 ? entries[entries.length - 1].timestamp : null,\n        end: entries.length > 0 ? entries[0].timestamp : null\n      },\n      summary: this.generateAuditSummary(entries),\n      entries: entries.map(entry => ({\n        ...entry,\n        data: entry.data?._truncated ? '[TRUNCATED]' : entry.data\n      }))\n    };\n\n    return report;\n  }\n\n  static generateAuditSummary(entries) {\n    const summary = {\n      actionCounts: {},\n      userCounts: {},\n      categoryCounts: {},\n      dailyActivity: {}\n    };\n\n    entries.forEach(entry => {\n      // Action counts\n      summary.actionCounts[entry.action] = (summary.actionCounts[entry.action] || 0) + 1;\n      \n      // User counts\n      summary.userCounts[entry.user] = (summary.userCounts[entry.user] || 0) + 1;\n      \n      // Category counts\n      if (entry.metadata?.category) {\n        summary.categoryCounts[entry.metadata.category] = \n          (summary.categoryCounts[entry.metadata.category] || 0) + 1;\n      }\n      \n      // Daily activity\n      const date = entry.timestamp.split('T')[0];\n      summary.dailyActivity[date] = (summary.dailyActivity[date] || 0) + 1;\n    });\n\n    return summary;\n  }\n\n  static exportAuditLog(format = 'json', filters = {}) {\n    const report = this.generateAuditReport(filters);\n    \n    if (format === 'csv') {\n      return this.convertToCSV(report.entries);\n    }\n    \n    return JSON.stringify(report, null, 2);\n  }\n\n  static convertToCSV(entries) {\n    if (entries.length === 0) return '';\n    \n    const headers = ['Timestamp', 'Action', 'User', 'Session ID', 'Metadata'];\n    const rows = entries.map(entry => [\n      entry.timestamp,\n      entry.action,\n      entry.user,\n      entry.sessionId,\n      JSON.stringify(entry.metadata || {})\n    ]);\n    \n    return [headers, ...rows].map(row => \n      row.map(field => `\"${String(field).replace(/\"/g, '\"\"')}\"`).join(',')\n    ).join('\\n');\n  }\n\n  static clearAuditLog() {\n    this.auditLog = [];\n    localStorage.removeItem('esg_audit_log');\n  }\n\n  static getAuditStats() {\n    return {\n      totalEntries: this.auditLog.length,\n      oldestEntry: this.auditLog.length > 0 ? this.auditLog[this.auditLog.length - 1].timestamp : null,\n      newestEntry: this.auditLog.length > 0 ? this.auditLog[0].timestamp : null,\n      uniqueUsers: [...new Set(this.auditLog.map(entry => entry.user))].length,\n      uniqueSessions: [...new Set(this.auditLog.map(entry => entry.sessionId))].length\n    };\n  }\n}\n\n// Initialize audit log on module load\nAuditTrail.loadAuditLog();\n\nexport default AuditTrail;","import React, { useState, useEffect } from 'react';\nimport { useTheme } from '../contexts/ThemeContext';\nimport { getThemeClasses } from '../utils/themeUtils';\nimport { Alert, Button, Modal } from './ProfessionalUX';\n\nconst ApprovalWorkflow = ({ data, onApprove, onReject, onClose }) => {\n  const { isDark } = useTheme();\n  const theme = getThemeClasses(isDark);\n  const [currentStep, setCurrentStep] = useState('maker');\n  const [approvalHistory, setApprovalHistory] = useState([]);\n  const [comments, setComments] = useState('');\n  const [selectedItems, setSelectedItems] = useState([]);\n\n  const workflowSteps = [\n    { id: 'maker', name: 'Data Entry', status: 'completed', user: 'Data Analyst' },\n    { id: 'checker', name: 'Review & Validation', status: 'pending', user: 'ESG Manager' },\n    { id: 'approver', name: 'Final Approval', status: 'waiting', user: 'ESG Director' }\n  ];\n\n  const handleApproval = (action) => {\n    const newEntry = {\n      step: currentStep,\n      action,\n      user: getCurrentUser(),\n      timestamp: new Date().toISOString(),\n      comments\n    };\n    \n    setApprovalHistory([...approvalHistory, newEntry]);\n    \n    if (action === 'approve') {\n      if (currentStep === 'checker') {\n        setCurrentStep('approver');\n      } else if (currentStep === 'approver') {\n        onApprove?.(selectedItems, comments);\n      }\n    } else {\n      onReject?.(selectedItems, comments);\n    }\n    \n    setComments('');\n  };\n\n  const getCurrentUser = () => {\n    const userMap = {\n      maker: 'Data Analyst',\n      checker: 'ESG Manager', \n      approver: 'ESG Director'\n    };\n    return userMap[currentStep] || 'Unknown User';\n  };\n\n  const getStepStatus = (stepId) => {\n    if (stepId === currentStep) return 'active';\n    const stepIndex = workflowSteps.findIndex(s => s.id === stepId);\n    const currentIndex = workflowSteps.findIndex(s => s.id === currentStep);\n    return stepIndex < currentIndex ? 'completed' : 'pending';\n  };\n\n  return (\n    <Modal isOpen={true} onClose={onClose} title=\"ESG Data Approval Workflow\" size=\"xl\">\n      <div className=\"space-y-6\">\n        {/* Workflow Progress */}\n        <div className=\"flex items-center justify-between\">\n          {workflowSteps.map((step, index) => (\n            <div key={step.id} className=\"flex items-center\">\n              <div className={`flex items-center justify-center w-10 h-10 rounded-full ${\n                getStepStatus(step.id) === 'completed' ? 'bg-green-500 text-white' :\n                getStepStatus(step.id) === 'active' ? 'bg-blue-500 text-white' :\n                'bg-gray-300 text-gray-600'\n              }`}>\n                {getStepStatus(step.id) === 'completed' ? 'âœ“' : index + 1}\n              </div>\n              <div className=\"ml-3\">\n                <p className={`font-medium ${theme.text.primary}`}>{step.name}</p>\n                <p className={`text-sm ${theme.text.secondary}`}>{step.user}</p>\n              </div>\n              {index < workflowSteps.length - 1 && (\n                <div className={`w-16 h-1 mx-4 ${\n                  getStepStatus(step.id) === 'completed' ? 'bg-green-500' : 'bg-gray-300'\n                }`} />\n              )}\n            </div>\n          ))}\n        </div>\n\n        {/* Data Summary */}\n        <div className={`p-4 rounded-lg ${theme.bg.subtle}`}>\n          <h3 className={`font-semibold mb-3 ${theme.text.primary}`}>Data Summary</h3>\n          <div className=\"grid grid-cols-3 gap-4\">\n            <div>\n              <p className={`text-sm ${theme.text.secondary}`}>Total Entries</p>\n              <p className={`text-lg font-bold ${theme.text.primary}`}>{data?.length || 0}</p>\n            </div>\n            <div>\n              <p className={`text-sm ${theme.text.secondary}`}>Categories</p>\n              <p className={`text-lg font-bold ${theme.text.primary}`}>\n                {data ? [...new Set(data.map(d => d.category))].length : 0}\n              </p>\n            </div>\n            <div>\n              <p className={`text-sm ${theme.text.secondary}`}>Status</p>\n              <p className={`text-lg font-bold text-yellow-600`}>Pending Approval</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Data Items */}\n        <div className=\"max-h-60 overflow-y-auto\">\n          <table className={`min-w-full text-sm ${theme.text.primary}`}>\n            <thead className={`${theme.bg.subtle}`}>\n              <tr>\n                <th className=\"px-4 py-2 text-left\">\n                  <input\n                    type=\"checkbox\"\n                    onChange={(e) => {\n                      if (e.target.checked) {\n                        setSelectedItems(data?.map((_, i) => i) || []);\n                      } else {\n                        setSelectedItems([]);\n                      }\n                    }}\n                  />\n                </th>\n                <th className=\"px-4 py-2 text-left\">Category</th>\n                <th className=\"px-4 py-2 text-left\">Metric</th>\n                <th className=\"px-4 py-2 text-left\">Value</th>\n                <th className=\"px-4 py-2 text-left\">Company</th>\n              </tr>\n            </thead>\n            <tbody>\n              {data?.map((item, index) => (\n                <tr key={index} className={`hover:${theme.bg.subtle}`}>\n                  <td className=\"px-4 py-2\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedItems.includes(index)}\n                      onChange={(e) => {\n                        if (e.target.checked) {\n                          setSelectedItems([...selectedItems, index]);\n                        } else {\n                          setSelectedItems(selectedItems.filter(i => i !== index));\n                        }\n                      }}\n                    />\n                  </td>\n                  <td className=\"px-4 py-2 capitalize\">{item.category}</td>\n                  <td className=\"px-4 py-2\">{item.metric}</td>\n                  <td className=\"px-4 py-2 font-bold\">{item.value}</td>\n                  <td className=\"px-4 py-2\">{item.companyName}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n\n        {/* Comments */}\n        <div>\n          <label className={`block text-sm font-medium mb-2 ${theme.text.primary}`}>\n            Comments\n          </label>\n          <textarea\n            value={comments}\n            onChange={(e) => setComments(e.target.value)}\n            className={`w-full p-3 border rounded-lg ${theme.bg.input} ${theme.border.input}`}\n            rows={3}\n            placeholder=\"Add comments for this approval step...\"\n          />\n        </div>\n\n        {/* Approval History */}\n        {approvalHistory.length > 0 && (\n          <div>\n            <h3 className={`font-semibold mb-3 ${theme.text.primary}`}>Approval History</h3>\n            <div className=\"space-y-2\">\n              {approvalHistory.map((entry, index) => (\n                <div key={index} className={`p-3 rounded-lg ${theme.bg.subtle}`}>\n                  <div className=\"flex justify-between items-start\">\n                    <div>\n                      <p className={`font-medium ${theme.text.primary}`}>\n                        {entry.user} - {entry.action}\n                      </p>\n                      <p className={`text-sm ${theme.text.secondary}`}>\n                        {new Date(entry.timestamp).toLocaleString()}\n                      </p>\n                    </div>\n                    <span className={`px-2 py-1 rounded text-xs ${\n                      entry.action === 'approve' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                    }`}>\n                      {entry.action}\n                    </span>\n                  </div>\n                  {entry.comments && (\n                    <p className={`mt-2 text-sm ${theme.text.secondary}`}>{entry.comments}</p>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Action Buttons */}\n        <div className=\"flex justify-end gap-3\">\n          <Button variant=\"outline\" onClick={onClose}>\n            Cancel\n          </Button>\n          <Button \n            variant=\"danger\" \n            onClick={() => handleApproval('reject')}\n            disabled={selectedItems.length === 0}\n          >\n            Reject Selected\n          </Button>\n          <Button \n            variant=\"success\" \n            onClick={() => handleApproval('approve')}\n            disabled={selectedItems.length === 0}\n          >\n            {currentStep === 'approver' ? 'Final Approve' : 'Approve & Forward'}\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ApprovalWorkflow;","// ESG Notification and Reminder System\nexport class NotificationSystem {\n  static notifications = [];\n  static subscribers = new Map();\n  static reminderSchedules = [];\n\n  static initialize() {\n    this.loadNotifications();\n    this.loadReminderSchedules();\n    this.startReminderEngine();\n  }\n\n  static subscribe(userId, callback) {\n    if (!this.subscribers.has(userId)) {\n      this.subscribers.set(userId, []);\n    }\n    this.subscribers.get(userId).push(callback);\n  }\n\n  static unsubscribe(userId, callback) {\n    if (this.subscribers.has(userId)) {\n      const callbacks = this.subscribers.get(userId);\n      const index = callbacks.indexOf(callback);\n      if (index > -1) {\n        callbacks.splice(index, 1);\n      }\n    }\n  }\n\n  static createNotification(type, title, message, userId, priority = 'medium', data = {}) {\n    const notification = {\n      id: this.generateNotificationId(),\n      type,\n      title,\n      message,\n      userId,\n      priority,\n      data,\n      timestamp: new Date().toISOString(),\n      read: false,\n      dismissed: false,\n      actions: this.getNotificationActions(type)\n    };\n\n    this.notifications.unshift(notification);\n    this.persistNotifications();\n    this.notifySubscribers(userId, notification);\n    \n    return notification.id;\n  }\n\n  static generateNotificationId() {\n    return `notif_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  static getNotificationActions(type) {\n    const actionMap = {\n      'data_validation_failed': [\n        { id: 'review', label: 'Review Data', action: 'navigate', target: '/data-entry' },\n        { id: 'dismiss', label: 'Dismiss', action: 'dismiss' }\n      ],\n      'approval_pending': [\n        { id: 'approve', label: 'Review & Approve', action: 'navigate', target: '/workflow' },\n        { id: 'remind_later', label: 'Remind Later', action: 'snooze', duration: 3600000 }\n      ],\n      'deadline_approaching': [\n        { id: 'complete', label: 'Complete Now', action: 'navigate', target: '/data-entry' },\n        { id: 'extend', label: 'Request Extension', action: 'custom', handler: 'requestExtension' }\n      ],\n      'report_ready': [\n        { id: 'view', label: 'View Report', action: 'navigate', target: '/reports' },\n        { id: 'download', label: 'Download', action: 'custom', handler: 'downloadReport' }\n      ]\n    };\n\n    return actionMap[type] || [\n      { id: 'dismiss', label: 'Dismiss', action: 'dismiss' }\n    ];\n  }\n\n  static notifySubscribers(userId, notification) {\n    const userCallbacks = this.subscribers.get(userId) || [];\n    const allCallbacks = this.subscribers.get('*') || [];\n    \n    [...userCallbacks, ...allCallbacks].forEach(callback => {\n      try {\n        callback(notification);\n      } catch (error) {\n        console.error('Notification callback error:', error);\n      }\n    });\n  }\n\n  static markAsRead(notificationId, userId) {\n    const notification = this.notifications.find(n => \n      n.id === notificationId && n.userId === userId\n    );\n    \n    if (notification) {\n      notification.read = true;\n      notification.readAt = new Date().toISOString();\n      this.persistNotifications();\n      return true;\n    }\n    \n    return false;\n  }\n\n  static markAsDismissed(notificationId, userId) {\n    const notification = this.notifications.find(n => \n      n.id === notificationId && n.userId === userId\n    );\n    \n    if (notification) {\n      notification.dismissed = true;\n      notification.dismissedAt = new Date().toISOString();\n      this.persistNotifications();\n      return true;\n    }\n    \n    return false;\n  }\n\n  static getNotifications(userId, filters = {}) {\n    let userNotifications = this.notifications.filter(n => \n      n.userId === userId || n.userId === '*'\n    );\n\n    // Apply filters\n    if (filters.unreadOnly) {\n      userNotifications = userNotifications.filter(n => !n.read);\n    }\n\n    if (filters.type) {\n      userNotifications = userNotifications.filter(n => n.type === filters.type);\n    }\n\n    if (filters.priority) {\n      userNotifications = userNotifications.filter(n => n.priority === filters.priority);\n    }\n\n    if (!filters.includeDismissed) {\n      userNotifications = userNotifications.filter(n => !n.dismissed);\n    }\n\n    return userNotifications.slice(0, filters.limit || 50);\n  }\n\n  static getUnreadCount(userId) {\n    return this.notifications.filter(n => \n      (n.userId === userId || n.userId === '*') && !n.read && !n.dismissed\n    ).length;\n  }\n\n  // Automated notification triggers\n  static notifyDataValidationFailed(userId, validationResults) {\n    const errorCount = validationResults.errors?.length || 0;\n    const warningCount = validationResults.warnings?.length || 0;\n    \n    return this.createNotification(\n      'data_validation_failed',\n      'Data Validation Issues',\n      `Found ${errorCount} errors and ${warningCount} warnings in your ESG data submission.`,\n      userId,\n      errorCount > 0 ? 'high' : 'medium',\n      { validationResults }\n    );\n  }\n\n  static notifyApprovalPending(userId, pendingItems) {\n    const count = Array.isArray(pendingItems) ? pendingItems.length : 1;\n    \n    return this.createNotification(\n      'approval_pending',\n      'Approval Required',\n      `${count} ESG data ${count === 1 ? 'entry' : 'entries'} pending your approval.`,\n      userId,\n      'high',\n      { pendingItems, count }\n    );\n  }\n\n  static notifyDeadlineApproaching(userId, deadline, taskType) {\n    const daysLeft = Math.ceil((new Date(deadline) - new Date()) / (1000 * 60 * 60 * 24));\n    \n    return this.createNotification(\n      'deadline_approaching',\n      'Deadline Approaching',\n      `${taskType} deadline is in ${daysLeft} days (${new Date(deadline).toLocaleDateString()}).`,\n      userId,\n      daysLeft <= 3 ? 'high' : 'medium',\n      { deadline, taskType, daysLeft }\n    );\n  }\n\n  static notifyReportReady(userId, reportType, reportId) {\n    return this.createNotification(\n      'report_ready',\n      'Report Generated',\n      `Your ${reportType} report has been generated and is ready for review.`,\n      userId,\n      'medium',\n      { reportType, reportId }\n    );\n  }\n\n  static notifyDataSubmitted(userId, submissionData) {\n    const categoryCount = submissionData.categories?.length || 0;\n    \n    return this.createNotification(\n      'data_submitted',\n      'Data Submitted Successfully',\n      `ESG data for ${categoryCount} categories has been submitted for review.`,\n      userId,\n      'low',\n      { submissionData }\n    );\n  }\n\n  // Reminder system\n  static scheduleReminder(userId, type, scheduledFor, data = {}) {\n    const reminder = {\n      id: this.generateNotificationId(),\n      userId,\n      type,\n      scheduledFor: new Date(scheduledFor).toISOString(),\n      data,\n      active: true,\n      created: new Date().toISOString()\n    };\n\n    this.reminderSchedules.push(reminder);\n    this.persistReminderSchedules();\n    \n    return reminder.id;\n  }\n\n  static cancelReminder(reminderId) {\n    const reminder = this.reminderSchedules.find(r => r.id === reminderId);\n    if (reminder) {\n      reminder.active = false;\n      this.persistReminderSchedules();\n      return true;\n    }\n    return false;\n  }\n\n  static startReminderEngine() {\n    // Check for due reminders every minute\n    setInterval(() => {\n      this.processReminders();\n    }, 60000);\n  }\n\n  static processReminders() {\n    const now = new Date();\n    \n    this.reminderSchedules\n      .filter(r => r.active && new Date(r.scheduledFor) <= now)\n      .forEach(reminder => {\n        this.triggerReminder(reminder);\n        reminder.active = false;\n      });\n    \n    this.persistReminderSchedules();\n  }\n\n  static triggerReminder(reminder) {\n    const reminderTypes = {\n      'data_entry_due': () => this.notifyDeadlineApproaching(\n        reminder.userId, \n        reminder.data.deadline, \n        'ESG Data Entry'\n      ),\n      'approval_reminder': () => this.notifyApprovalPending(\n        reminder.userId, \n        reminder.data.pendingItems\n      ),\n      'report_generation': () => this.createNotification(\n        'report_reminder',\n        'Report Generation Reminder',\n        `Time to generate your ${reminder.data.reportType} report.`,\n        reminder.userId,\n        'medium',\n        reminder.data\n      )\n    };\n\n    const handler = reminderTypes[reminder.type];\n    if (handler) {\n      handler();\n    }\n  }\n\n  // Bulk operations\n  static markAllAsRead(userId) {\n    let count = 0;\n    this.notifications\n      .filter(n => (n.userId === userId || n.userId === '*') && !n.read)\n      .forEach(n => {\n        n.read = true;\n        n.readAt = new Date().toISOString();\n        count++;\n      });\n    \n    this.persistNotifications();\n    return count;\n  }\n\n  static clearDismissed(userId) {\n    const originalLength = this.notifications.length;\n    this.notifications = this.notifications.filter(n => \n      !n.dismissed || (n.userId !== userId && n.userId !== '*')\n    );\n    \n    this.persistNotifications();\n    return originalLength - this.notifications.length;\n  }\n\n  // Persistence\n  static persistNotifications() {\n    try {\n      localStorage.setItem('esg_notifications', JSON.stringify(this.notifications));\n    } catch (error) {\n      console.error('Failed to persist notifications:', error);\n    }\n  }\n\n  static loadNotifications() {\n    try {\n      const stored = localStorage.getItem('esg_notifications');\n      if (stored) {\n        this.notifications = JSON.parse(stored);\n      }\n    } catch (error) {\n      console.error('Failed to load notifications:', error);\n      this.notifications = [];\n    }\n  }\n\n  static persistReminderSchedules() {\n    try {\n      localStorage.setItem('esg_reminders', JSON.stringify(this.reminderSchedules));\n    } catch (error) {\n      console.error('Failed to persist reminders:', error);\n    }\n  }\n\n  static loadReminderSchedules() {\n    try {\n      const stored = localStorage.getItem('esg_reminders');\n      if (stored) {\n        this.reminderSchedules = JSON.parse(stored);\n      }\n    } catch (error) {\n      console.error('Failed to load reminders:', error);\n      this.reminderSchedules = [];\n    }\n  }\n\n  // Statistics and analytics\n  static getNotificationStats(userId) {\n    const userNotifications = this.getNotifications(userId, { includeDismissed: true });\n    \n    return {\n      total: userNotifications.length,\n      unread: userNotifications.filter(n => !n.read).length,\n      dismissed: userNotifications.filter(n => n.dismissed).length,\n      byType: this.groupBy(userNotifications, 'type'),\n      byPriority: this.groupBy(userNotifications, 'priority'),\n      recentActivity: userNotifications.filter(n => \n        new Date(n.timestamp) > new Date(Date.now() - 7 * 24 * 60 * 60 * 1000)\n      ).length\n    };\n  }\n\n  static groupBy(array, key) {\n    return array.reduce((groups, item) => {\n      const group = item[key] || 'unknown';\n      groups[group] = (groups[group] || 0) + 1;\n      return groups;\n    }, {});\n  }\n\n  static clearAllNotifications(userId) {\n    this.notifications = this.notifications.filter(n => \n      n.userId !== userId && n.userId !== '*'\n    );\n    this.persistNotifications();\n  }\n}\n\n// Initialize the notification system\nNotificationSystem.initialize();\n\nexport default NotificationSystem;","import React, { useState, useEffect } from 'react';\nimport { useTheme } from '../contexts/ThemeContext';\nimport { getThemeClasses } from '../utils/themeUtils';\nimport { Alert, Button, Modal, Toast } from './ProfessionalUX';\nimport ApprovalWorkflow from './ApprovalWorkflow';\nimport DataValidation from '../utils/dataValidation';\nimport AuditTrail from '../utils/AuditTrail';\nimport NotificationSystem from '../utils/NotificationSystem';\n\nconst WorkflowDashboard = () => {\n  const { isDark } = useTheme();\n  const theme = getThemeClasses(isDark);\n  const [showApprovalModal, setShowApprovalModal] = useState(false);\n  const [pendingApprovals, setPendingApprovals] = useState([]);\n  const [notifications, setNotifications] = useState([]);\n  const [auditEntries, setAuditEntries] = useState([]);\n  const [validationResults, setValidationResults] = useState(null);\n  const [toast, setToast] = useState(null);\n  const [currentUser] = useState('esg_manager');\n\n  useEffect(() => {\n    loadWorkflowData();\n    setupNotificationSubscription();\n  }, []);\n\n  const loadWorkflowData = () => {\n    // Load pending approvals from localStorage\n    const esgData = JSON.parse(localStorage.getItem('esgData') || '[]');\n    const pending = esgData.filter(item => item.status === 'Pending' || !item.status);\n    setPendingApprovals(pending);\n\n    // Load notifications\n    const userNotifications = NotificationSystem.getNotifications(currentUser);\n    setNotifications(userNotifications);\n\n    // Load recent audit entries\n    const recentAudit = AuditTrail.getAuditLog({ \n      user: currentUser,\n      startDate: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()\n    });\n    setAuditEntries(recentAudit.slice(0, 10));\n\n    // Validate recent data\n    if (pending.length > 0) {\n      const validation = DataValidation.validateESGData(pending[0]);\n      setValidationResults(validation);\n    }\n  };\n\n  const setupNotificationSubscription = () => {\n    NotificationSystem.subscribe(currentUser, (notification) => {\n      setNotifications(prev => [notification, ...prev.slice(0, 9)]);\n      showToast(notification.title, 'info');\n    });\n  };\n\n  const handleApproveItems = (selectedItems, comments) => {\n    const approvedData = selectedItems.map(index => pendingApprovals[index]);\n    \n    // Update status\n    approvedData.forEach(item => {\n      item.status = 'Approved';\n      item.approvedBy = currentUser;\n      item.approvedAt = new Date().toISOString();\n      item.approvalComments = comments;\n    });\n\n    // Update localStorage\n    const allData = JSON.parse(localStorage.getItem('esgData') || '[]');\n    const updatedData = allData.map(item => {\n      const approved = approvedData.find(a => a.id === item.id);\n      return approved || item;\n    });\n    localStorage.setItem('esgData', JSON.stringify(updatedData));\n\n    // Log audit trail\n    AuditTrail.trackApproval(approvedData, currentUser, 'approve');\n\n    // Create notification\n    NotificationSystem.createNotification(\n      'approval_completed',\n      'Items Approved',\n      `${approvedData.length} ESG data entries have been approved.`,\n      currentUser,\n      'low'\n    );\n\n    setPendingApprovals(prev => prev.filter((_, index) => !selectedItems.includes(index)));\n    setShowApprovalModal(false);\n    showToast('Items approved successfully', 'success');\n  };\n\n  const handleRejectItems = (selectedItems, comments) => {\n    const rejectedData = selectedItems.map(index => pendingApprovals[index]);\n    \n    // Update status\n    rejectedData.forEach(item => {\n      item.status = 'Rejected';\n      item.rejectedBy = currentUser;\n      item.rejectedAt = new Date().toISOString();\n      item.rejectionComments = comments;\n    });\n\n    // Log audit trail\n    AuditTrail.trackApproval(rejectedData, currentUser, 'reject');\n\n    // Create notification\n    NotificationSystem.createNotification(\n      'approval_rejected',\n      'Items Rejected',\n      `${rejectedData.length} ESG data entries have been rejected and require revision.`,\n      currentUser,\n      'medium'\n    );\n\n    setPendingApprovals(prev => prev.filter((_, index) => !selectedItems.includes(index)));\n    setShowApprovalModal(false);\n    showToast('Items rejected', 'warning');\n  };\n\n  const runDataValidation = () => {\n    const esgData = JSON.parse(localStorage.getItem('esgData') || '[]');\n    if (esgData.length === 0) {\n      showToast('No data available for validation', 'warning');\n      return;\n    }\n\n    const validation = DataValidation.generateValidationReport(esgData[0]);\n    setValidationResults(validation);\n    \n    AuditTrail.logChange('VALIDATION_RUN', validation, currentUser);\n    \n    if (validation.status === 'failed') {\n      NotificationSystem.notifyDataValidationFailed(currentUser, validation.details);\n    }\n    \n    showToast(`Validation completed with ${validation.summary.totalErrors} errors`, \n      validation.status === 'passed' ? 'success' : 'error');\n  };\n\n  const markNotificationRead = (notificationId) => {\n    NotificationSystem.markAsRead(notificationId, currentUser);\n    setNotifications(prev => \n      prev.map(n => n.id === notificationId ? { ...n, read: true } : n)\n    );\n  };\n\n  const dismissNotification = (notificationId) => {\n    NotificationSystem.markAsDismissed(notificationId, currentUser);\n    setNotifications(prev => prev.filter(n => n.id !== notificationId));\n  };\n\n  const showToast = (message, type = 'info') => {\n    setToast({ message, type });\n    setTimeout(() => setToast(null), 3000);\n  };\n\n  const getValidationStatusColor = (status) => {\n    switch (status) {\n      case 'passed': return 'text-green-600';\n      case 'failed': return 'text-red-600';\n      default: return 'text-yellow-600';\n    }\n  };\n\n  const getPriorityColor = (priority) => {\n    switch (priority) {\n      case 'high': return 'bg-red-100 text-red-800';\n      case 'medium': return 'bg-yellow-100 text-yellow-800';\n      case 'low': return 'bg-green-100 text-green-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  return (\n    <div className={`min-h-screen p-6 ${theme.bg.gradient}`}>\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"mb-8\">\n          <h1 className={`text-3xl font-bold ${theme.text.primary}`}>\n            Workflow & Approval Dashboard\n          </h1>\n          <p className={`text-lg ${theme.text.secondary}`}>\n            Manage ESG data approvals, validation, and audit trail\n          </p>\n        </div>\n\n        {/* Stats Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <div className={`p-6 rounded-xl shadow-lg ${theme.bg.card}`}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className={`text-sm ${theme.text.secondary}`}>Pending Approvals</p>\n                <p className={`text-2xl font-bold ${theme.text.primary}`}>\n                  {pendingApprovals.length}\n                </p>\n              </div>\n              <div className=\"text-3xl\">â³</div>\n            </div>\n          </div>\n\n          <div className={`p-6 rounded-xl shadow-lg ${theme.bg.card}`}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className={`text-sm ${theme.text.secondary}`}>Unread Notifications</p>\n                <p className={`text-2xl font-bold ${theme.text.primary}`}>\n                  {notifications.filter(n => !n.read).length}\n                </p>\n              </div>\n              <div className=\"text-3xl\">ðŸ””</div>\n            </div>\n          </div>\n\n          <div className={`p-6 rounded-xl shadow-lg ${theme.bg.card}`}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className={`text-sm ${theme.text.secondary}`}>Validation Status</p>\n                <p className={`text-lg font-bold ${\n                  validationResults ? getValidationStatusColor(validationResults.status) : theme.text.primary\n                }`}>\n                  {validationResults ? validationResults.status.toUpperCase() : 'NOT RUN'}\n                </p>\n              </div>\n              <div className=\"text-3xl\">âœ…</div>\n            </div>\n          </div>\n\n          <div className={`p-6 rounded-xl shadow-lg ${theme.bg.card}`}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className={`text-sm ${theme.text.secondary}`}>Audit Entries</p>\n                <p className={`text-2xl font-bold ${theme.text.primary}`}>\n                  {auditEntries.length}\n                </p>\n              </div>\n              <div className=\"text-3xl\">ðŸ“‹</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Action Buttons */}\n        <div className=\"flex flex-wrap gap-4 mb-8\">\n          <Button\n            variant=\"primary\"\n            onClick={() => setShowApprovalModal(true)}\n            disabled={pendingApprovals.length === 0}\n          >\n            Review Approvals ({pendingApprovals.length})\n          </Button>\n          <Button variant=\"outline\" onClick={runDataValidation}>\n            Run Data Validation\n          </Button>\n          <Button variant=\"outline\" onClick={loadWorkflowData}>\n            Refresh Dashboard\n          </Button>\n        </div>\n\n        {/* Main Content Grid */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n          {/* Notifications Panel */}\n          <div className={`p-6 rounded-xl shadow-lg ${theme.bg.card}`}>\n            <h2 className={`text-xl font-bold mb-4 ${theme.text.primary}`}>\n              Recent Notifications\n            </h2>\n            <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n              {notifications.length > 0 ? (\n                notifications.map((notification) => (\n                  <div\n                    key={notification.id}\n                    className={`p-4 rounded-lg border-l-4 ${\n                      notification.read ? theme.bg.subtle : 'bg-blue-50 border-blue-500'\n                    }`}\n                  >\n                    <div className=\"flex justify-between items-start\">\n                      <div className=\"flex-1\">\n                        <div className=\"flex items-center gap-2\">\n                          <h3 className={`font-semibold ${theme.text.primary}`}>\n                            {notification.title}\n                          </h3>\n                          <span className={`px-2 py-1 rounded text-xs ${getPriorityColor(notification.priority)}`}>\n                            {notification.priority}\n                          </span>\n                        </div>\n                        <p className={`text-sm mt-1 ${theme.text.secondary}`}>\n                          {notification.message}\n                        </p>\n                        <p className={`text-xs mt-2 ${theme.text.muted}`}>\n                          {new Date(notification.timestamp).toLocaleString()}\n                        </p>\n                      </div>\n                      <div className=\"flex gap-2 ml-4\">\n                        {!notification.read && (\n                          <button\n                            onClick={() => markNotificationRead(notification.id)}\n                            className=\"text-blue-600 hover:text-blue-800 text-sm\"\n                          >\n                            Mark Read\n                          </button>\n                        )}\n                        <button\n                          onClick={() => dismissNotification(notification.id)}\n                          className=\"text-gray-600 hover:text-gray-800 text-sm\"\n                        >\n                          Dismiss\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                ))\n              ) : (\n                <p className={`text-center py-8 ${theme.text.secondary}`}>\n                  No notifications available\n                </p>\n              )}\n            </div>\n          </div>\n\n          {/* Validation Results Panel */}\n          <div className={`p-6 rounded-xl shadow-lg ${theme.bg.card}`}>\n            <h2 className={`text-xl font-bold mb-4 ${theme.text.primary}`}>\n              Data Validation Results\n            </h2>\n            {validationResults ? (\n              <div className=\"space-y-4\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <p className={`text-sm ${theme.text.secondary}`}>Validation Score</p>\n                    <p className={`text-2xl font-bold ${getValidationStatusColor(validationResults.status)}`}>\n                      {validationResults.validationScore}%\n                    </p>\n                  </div>\n                  <div>\n                    <p className={`text-sm ${theme.text.secondary}`}>Completeness</p>\n                    <p className={`text-2xl font-bold ${theme.text.primary}`}>\n                      {validationResults.completenessScore}%\n                    </p>\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-3 gap-4 text-center\">\n                  <div className={`p-3 rounded-lg ${theme.bg.subtle}`}>\n                    <p className=\"text-red-600 font-bold text-lg\">\n                      {validationResults.summary.totalErrors}\n                    </p>\n                    <p className={`text-sm ${theme.text.secondary}`}>Errors</p>\n                  </div>\n                  <div className={`p-3 rounded-lg ${theme.bg.subtle}`}>\n                    <p className=\"text-yellow-600 font-bold text-lg\">\n                      {validationResults.summary.totalWarnings}\n                    </p>\n                    <p className={`text-sm ${theme.text.secondary}`}>Warnings</p>\n                  </div>\n                  <div className={`p-3 rounded-lg ${theme.bg.subtle}`}>\n                    <p className=\"text-blue-600 font-bold text-lg\">\n                      {validationResults.summary.totalSuggestions}\n                    </p>\n                    <p className={`text-sm ${theme.text.secondary}`}>Suggestions</p>\n                  </div>\n                </div>\n\n                {validationResults.details.errors.length > 0 && (\n                  <div>\n                    <h3 className={`font-semibold mb-2 text-red-600`}>Critical Errors</h3>\n                    <ul className=\"space-y-1\">\n                      {validationResults.details.errors.slice(0, 3).map((error, index) => (\n                        <li key={index} className={`text-sm ${theme.text.secondary}`}>\n                          â€¢ {error}\n                        </li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n              </div>\n            ) : (\n              <div className=\"text-center py-8\">\n                <p className={`${theme.text.secondary} mb-4`}>\n                  No validation results available\n                </p>\n                <Button variant=\"outline\" onClick={runDataValidation}>\n                  Run Validation\n                </Button>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Audit Trail */}\n        <div className={`mt-8 p-6 rounded-xl shadow-lg ${theme.bg.card}`}>\n          <h2 className={`text-xl font-bold mb-4 ${theme.text.primary}`}>\n            Recent Audit Trail\n          </h2>\n          <div className=\"overflow-x-auto\">\n            <table className={`min-w-full text-sm ${theme.text.primary}`}>\n              <thead className={`${theme.bg.subtle}`}>\n                <tr>\n                  <th className=\"px-4 py-3 text-left\">Timestamp</th>\n                  <th className=\"px-4 py-3 text-left\">Action</th>\n                  <th className=\"px-4 py-3 text-left\">User</th>\n                  <th className=\"px-4 py-3 text-left\">Category</th>\n                  <th className=\"px-4 py-3 text-left\">Details</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-200\">\n                {auditEntries.map((entry) => (\n                  <tr key={entry.id} className={`hover:${theme.bg.subtle}`}>\n                    <td className=\"px-4 py-3\">\n                      {new Date(entry.timestamp).toLocaleString()}\n                    </td>\n                    <td className=\"px-4 py-3 font-medium\">{entry.action}</td>\n                    <td className=\"px-4 py-3\">{entry.user}</td>\n                    <td className=\"px-4 py-3\">\n                      <span className={`px-2 py-1 rounded text-xs ${\n                        entry.metadata?.category === 'esg_data' ? 'bg-green-100 text-green-800' :\n                        entry.metadata?.category === 'workflow' ? 'bg-blue-100 text-blue-800' :\n                        'bg-gray-100 text-gray-800'\n                      }`}>\n                        {entry.metadata?.category || 'system'}\n                      </span>\n                    </td>\n                    <td className=\"px-4 py-3 text-sm\">\n                      {entry.metadata?.recordCount && `${entry.metadata.recordCount} records`}\n                      {entry.metadata?.decision && ` - ${entry.metadata.decision}`}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* Approval Workflow Modal */}\n        {showApprovalModal && (\n          <ApprovalWorkflow\n            data={pendingApprovals}\n            onApprove={handleApproveItems}\n            onReject={handleRejectItems}\n            onClose={() => setShowApprovalModal(false)}\n          />\n        )}\n\n        {/* Toast Notifications */}\n        {toast && (\n          <Toast\n            message={toast.message}\n            type={toast.type}\n            onClose={() => setToast(null)}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default WorkflowDashboard;","// ESG Data Validation Engine\nexport class DataValidation {\n  static validationRules = {\n    environmental: {\n      energyConsumption: { min: 0, max: 1000000, unit: 'kWh', required: true },\n      carbonEmissions: { min: 0, max: 100000, unit: 'T CO2e', required: true },\n      waterUsage: { min: 0, max: 1000000, unit: 'mÂ³', required: false },\n      wasteGenerated: { min: 0, max: 10000, unit: 'tons', required: false },\n      renewableEnergyRatio: { min: 0, max: 100, unit: '%', required: false }\n    },\n    social: {\n      totalEmployees: { min: 1, max: 1000000, unit: 'count', required: true },\n      femaleEmployeesPercentage: { min: 0, max: 100, unit: '%', required: false },\n      trainingHours: { min: 0, max: 1000, unit: 'hours', required: false },\n      communityInvestment: { min: 0, max: 10000000, unit: 'USD', required: false },\n      employeeTurnover: { min: 0, max: 100, unit: '%', required: false }\n    },\n    governance: {\n      boardSize: { min: 3, max: 20, unit: 'count', required: true },\n      independentDirectors: { min: 0, max: 100, unit: '%', required: true },\n      ethicsTraining: { min: 0, max: 100, unit: '%', required: false },\n      dataBreaches: { min: 0, max: 1000, unit: 'count', required: false },\n      regulatoryFines: { min: 0, max: 100000000, unit: 'USD', required: false }\n    }\n  };\n\n  static validateESGData(data) {\n    const results = {\n      isValid: true,\n      errors: [],\n      warnings: [],\n      suggestions: [],\n      score: 100\n    };\n\n    if (!data || typeof data !== 'object') {\n      results.isValid = false;\n      results.errors.push('Invalid data format provided');\n      results.score = 0;\n      return results;\n    }\n\n    // Validate each category\n    ['environmental', 'social', 'governance'].forEach(category => {\n      if (data[category]) {\n        const categoryResults = this.validateCategory(category, data[category]);\n        results.errors.push(...categoryResults.errors);\n        results.warnings.push(...categoryResults.warnings);\n        results.suggestions.push(...categoryResults.suggestions);\n        \n        if (categoryResults.errors.length > 0) {\n          results.isValid = false;\n        }\n      }\n    });\n\n    // Calculate validation score\n    results.score = this.calculateValidationScore(results);\n    \n    // Add cross-category validations\n    this.performCrossValidation(data, results);\n    \n    return results;\n  }\n\n  static validateCategory(category, categoryData) {\n    const results = { errors: [], warnings: [], suggestions: [] };\n    const rules = this.validationRules[category] || {};\n\n    Object.entries(categoryData).forEach(([metric, value]) => {\n      if (metric === 'description') return; // Skip description fields\n      \n      const rule = rules[metric];\n      if (!rule) {\n        results.warnings.push(`Unknown metric '${metric}' in ${category} category`);\n        return;\n      }\n\n      // Required field validation\n      if (rule.required && (value === null || value === undefined || value === '')) {\n        results.errors.push(`${metric} is required in ${category} category`);\n        return;\n      }\n\n      // Skip validation for empty optional fields\n      if (!rule.required && (value === null || value === undefined || value === '')) {\n        return;\n      }\n\n      // Numeric validation\n      const numValue = parseFloat(value);\n      if (isNaN(numValue)) {\n        results.errors.push(`${metric} must be a valid number`);\n        return;\n      }\n\n      // Range validation\n      if (numValue < rule.min) {\n        results.errors.push(`${metric} cannot be less than ${rule.min} ${rule.unit}`);\n      }\n      \n      if (numValue > rule.max) {\n        results.errors.push(`${metric} cannot exceed ${rule.max} ${rule.unit}`);\n      }\n\n      // Business logic validations\n      this.performBusinessLogicValidation(category, metric, numValue, results);\n    });\n\n    return results;\n  }\n\n  static performBusinessLogicValidation(category, metric, value, results) {\n    // Environmental validations\n    if (category === 'environmental') {\n      if (metric === 'renewableEnergyRatio' && value > 95) {\n        results.warnings.push('Renewable energy ratio above 95% is exceptional - please verify');\n      }\n      \n      if (metric === 'carbonEmissions' && value === 0) {\n        results.warnings.push('Zero carbon emissions reported - please confirm accuracy');\n      }\n    }\n\n    // Social validations\n    if (category === 'social') {\n      if (metric === 'femaleEmployeesPercentage' && (value < 10 || value > 90)) {\n        results.warnings.push('Gender distribution appears imbalanced - consider diversity initiatives');\n      }\n      \n      if (metric === 'employeeTurnover' && value > 30) {\n        results.warnings.push('High employee turnover detected - may indicate retention issues');\n      }\n    }\n\n    // Governance validations\n    if (category === 'governance') {\n      if (metric === 'independentDirectors' && value < 30) {\n        results.warnings.push('Low board independence - consider increasing independent directors');\n      }\n      \n      if (metric === 'dataBreaches' && value > 0) {\n        results.warnings.push('Data breaches reported - ensure proper cybersecurity measures');\n      }\n    }\n  }\n\n  static performCrossValidation(data, results) {\n    // Cross-category consistency checks\n    const env = data.environmental || {};\n    const social = data.social || {};\n    const gov = data.governance || {};\n\n    // Energy vs Emissions consistency\n    if (env.energyConsumption && env.carbonEmissions) {\n      const emissionRatio = env.carbonEmissions / env.energyConsumption;\n      if (emissionRatio > 1) {\n        results.warnings.push('Carbon emissions seem high relative to energy consumption');\n      }\n    }\n\n    // Company size consistency\n    if (social.totalEmployees && gov.boardSize) {\n      if (social.totalEmployees < 50 && gov.boardSize > 10) {\n        results.warnings.push('Board size appears large for company size');\n      }\n    }\n\n    // Investment vs Revenue consistency\n    if (social.communityInvestment && data.totalRevenue) {\n      const investmentRatio = (social.communityInvestment / data.totalRevenue) * 100;\n      if (investmentRatio > 10) {\n        results.warnings.push('Community investment ratio is exceptionally high');\n      }\n    }\n  }\n\n  static calculateValidationScore(results) {\n    let score = 100;\n    \n    // Deduct points for errors and warnings\n    score -= results.errors.length * 20;\n    score -= results.warnings.length * 5;\n    \n    return Math.max(0, score);\n  }\n\n  static validateDataCompleteness(data) {\n    const completeness = {\n      environmental: 0,\n      social: 0,\n      governance: 0,\n      overall: 0\n    };\n\n    ['environmental', 'social', 'governance'].forEach(category => {\n      const categoryData = data[category] || {};\n      const rules = this.validationRules[category] || {};\n      const totalFields = Object.keys(rules).length;\n      const filledFields = Object.keys(categoryData).filter(key => \n        key !== 'description' && categoryData[key] !== null && categoryData[key] !== undefined && categoryData[key] !== ''\n      ).length;\n      \n      completeness[category] = totalFields > 0 ? Math.round((filledFields / totalFields) * 100) : 0;\n    });\n\n    completeness.overall = Math.round(\n      (completeness.environmental + completeness.social + completeness.governance) / 3\n    );\n\n    return completeness;\n  }\n\n  static generateValidationReport(data) {\n    const validation = this.validateESGData(data);\n    const completeness = this.validateDataCompleteness(data);\n    \n    return {\n      timestamp: new Date().toISOString(),\n      validationScore: validation.score,\n      completenessScore: completeness.overall,\n      status: validation.isValid ? 'passed' : 'failed',\n      summary: {\n        totalErrors: validation.errors.length,\n        totalWarnings: validation.warnings.length,\n        totalSuggestions: validation.suggestions.length\n      },\n      details: {\n        errors: validation.errors,\n        warnings: validation.warnings,\n        suggestions: validation.suggestions,\n        completeness\n      },\n      recommendations: this.generateRecommendations(validation, completeness)\n    };\n  }\n\n  static generateRecommendations(validation, completeness) {\n    const recommendations = [];\n\n    // Completeness recommendations\n    if (completeness.overall < 70) {\n      recommendations.push({\n        type: 'completeness',\n        priority: 'high',\n        message: 'Data completeness is below 70%. Consider filling missing fields for better ESG reporting.'\n      });\n    }\n\n    // Error recommendations\n    if (validation.errors.length > 0) {\n      recommendations.push({\n        type: 'validation',\n        priority: 'critical',\n        message: 'Critical validation errors found. Please address all errors before submission.'\n      });\n    }\n\n    // Warning recommendations\n    if (validation.warnings.length > 3) {\n      recommendations.push({\n        type: 'quality',\n        priority: 'medium',\n        message: 'Multiple data quality warnings detected. Review and verify data accuracy.'\n      });\n    }\n\n    return recommendations;\n  }\n\n  static getValidationRulesForCategory(category) {\n    return this.validationRules[category] || {};\n  }\n\n  static isValidMetric(category, metric) {\n    return !!(this.validationRules[category] && this.validationRules[category][metric]);\n  }\n}\n\nexport default DataValidation;","import React, { useState, useEffect } from 'react';\r\n\r\n// Professional UX Components Library\r\nexport const LoadingSpinner = ({ size = 'md', color = 'blue', isDark = false }) => {\r\n  const sizes = { sm: 'w-4 h-4', md: 'w-6 h-6', lg: 'w-8 h-8' };\r\n  const colors = { \r\n    blue: 'border-blue-500', \r\n    green: 'border-green-500', \r\n    red: 'border-red-500',\r\n    white: 'border-white'\r\n  };\r\n  \r\n  return (\r\n    <div className={`${sizes[size]} border-2 ${colors[color]} border-t-transparent rounded-full animate-spin`} />\r\n  );\r\n};\r\n\r\nexport const Toast = ({ message, type = 'success', onClose }) => {\r\n  useEffect(() => {\r\n    const timer = setTimeout(onClose, 3000);\r\n    return () => clearTimeout(timer);\r\n  }, [onClose]);\r\n\r\n  const styles = {\r\n    success: 'bg-green-500 text-white',\r\n    error: 'bg-red-500 text-white',\r\n    warning: 'bg-yellow-500 text-black',\r\n    info: 'bg-blue-500 text-white'\r\n  };\r\n\r\n  return (\r\n    <div className={`fixed top-4 right-4 px-6 py-3 rounded-lg shadow-lg z-50 animate-slide-up ${styles[type]}`}>\r\n      <div className=\"flex items-center space-x-2\">\r\n        <span>{message}</span>\r\n        <button onClick={onClose} className=\"ml-2 text-lg\">Ã—</button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const ProgressBar = ({ progress, label, showPercentage = true }) => (\r\n  <div className=\"w-full\">\r\n    {label && <div className=\"flex justify-between text-sm mb-1\">\r\n      <span>{label}</span>\r\n      {showPercentage && <span>{progress}%</span>}\r\n    </div>}\r\n    <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n      <div \r\n        className=\"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-500\"\r\n        style={{ width: `${progress}%` }}\r\n      />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport const Skeleton = ({ className = \"h-4 bg-gray-200 rounded\" }) => (\r\n  <div className={`animate-pulse ${className}`} />\r\n);\r\n\r\nexport const Modal = ({ isOpen, onClose, title, children, isDark = false }) => {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      <div className=\"absolute inset-0 bg-black bg-opacity-50\" onClick={onClose} />\r\n      <div className={`relative rounded-2xl p-6 max-w-md w-full mx-4 animate-fade-in ${\r\n        isDark ? 'bg-gray-800 text-white' : 'bg-white text-gray-900'\r\n      }`}>\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">{title}</h3>\r\n          <button onClick={onClose} className={`text-2xl ${\r\n            isDark ? 'text-gray-400 hover:text-gray-200' : 'text-gray-400 hover:text-gray-600'\r\n          }`}>Ã—</button>\r\n        </div>\r\n        {children}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Tooltip = ({ children, content, position = 'top' }) => {\r\n  const [isVisible, setIsVisible] = useState(false);\r\n\r\n  return (\r\n    <div className=\"relative inline-block\">\r\n      <div\r\n        onMouseEnter={() => setIsVisible(true)}\r\n        onMouseLeave={() => setIsVisible(false)}\r\n      >\r\n        {children}\r\n      </div>\r\n      {isVisible && (\r\n        <div className={`absolute z-10 px-2 py-1 text-sm text-white bg-gray-900 rounded shadow-lg ${\r\n          position === 'top' ? 'bottom-full mb-2' : 'top-full mt-2'\r\n        } left-1/2 transform -translate-x-1/2`}>\r\n          {content}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Badge = ({ children, variant = 'default', size = 'md' }) => {\r\n  const variants = {\r\n    default: 'bg-gray-100 text-gray-800',\r\n    success: 'bg-green-100 text-green-800',\r\n    warning: 'bg-yellow-100 text-yellow-800',\r\n    error: 'bg-red-100 text-red-800',\r\n    info: 'bg-blue-100 text-blue-800'\r\n  };\r\n  \r\n  const sizes = {\r\n    sm: 'px-2 py-1 text-xs',\r\n    md: 'px-3 py-1 text-sm',\r\n    lg: 'px-4 py-2 text-base'\r\n  };\r\n\r\n  return (\r\n    <span className={`inline-flex items-center font-medium rounded-full ${variants[variant]} ${sizes[size]}`}>\r\n      {children}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport const Button = ({ \r\n  children, \r\n  variant = 'primary', \r\n  size = 'md', \r\n  loading = false, \r\n  disabled = false,\r\n  onClick,\r\n  icon,\r\n  type = 'button',\r\n  ...props \r\n}) => {\r\n  const variants = {\r\n    primary: 'bg-blue-600 hover:bg-blue-700 text-white',\r\n    secondary: 'bg-gray-200 hover:bg-gray-300 text-gray-900',\r\n    success: 'bg-green-600 hover:bg-green-700 text-white',\r\n    danger: 'bg-red-600 hover:bg-red-700 text-white',\r\n    outline: 'border border-gray-300 bg-white hover:bg-gray-50 text-gray-700'\r\n  };\r\n  \r\n  const sizes = {\r\n    sm: 'px-3 py-1.5 text-sm',\r\n    md: 'px-4 py-2 text-base',\r\n    lg: 'px-6 py-3 text-lg'\r\n  };\r\n\r\n  return (\r\n    <button\r\n      type={type}\r\n      className={`\r\n        inline-flex items-center justify-center font-medium rounded-lg\r\n        transition-all duration-200 hover:scale-105 active:scale-95\r\n        ${variants[variant]} ${sizes[size]}\r\n        ${disabled || loading ? 'opacity-50 cursor-not-allowed' : ''}\r\n      `}\r\n      disabled={disabled || loading}\r\n      onClick={onClick}\r\n      {...props}\r\n    >\r\n      {loading && <LoadingSpinner size=\"sm\" />}\r\n      {icon && <span className=\"mr-2\">{icon}</span>}\r\n      <span className={loading ? 'ml-2' : ''}>{children}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport const Input = ({ \r\n  label, \r\n  error, \r\n  icon, \r\n  className = '', \r\n  isDark = false,\r\n  ...props \r\n}) => (\r\n  <div className=\"w-full\">\r\n    {label && (\r\n      <label className={`block text-sm font-medium mb-1 ${\r\n        isDark ? 'text-gray-300' : 'text-gray-700'\r\n      }`}>\r\n        {label}\r\n      </label>\r\n    )}\r\n    <div className=\"relative\">\r\n      {icon && (\r\n        <div className={`absolute left-3 top-1/2 transform -translate-y-1/2 ${\r\n          isDark ? 'text-gray-500' : 'text-gray-400'\r\n        }`}>\r\n          {icon}\r\n        </div>\r\n      )}\r\n      <input\r\n        className={`\r\n          w-full px-3 py-2 border rounded-lg transition-all duration-200\r\n          focus:ring-2 focus:ring-blue-500 focus:border-blue-500\r\n          ${isDark ? 'bg-gray-700 border-gray-600 text-white' : 'bg-white border-gray-300 text-gray-900'}\r\n          ${icon ? 'pl-10' : ''}\r\n          ${error ? 'border-red-500 focus:ring-red-500' : ''}\r\n          ${className}\r\n        `}\r\n        {...props}\r\n      />\r\n    </div>\r\n    {error && (\r\n      <p className=\"mt-1 text-sm text-red-600\">{error}</p>\r\n    )}\r\n  </div>\r\n);\r\n\r\nexport const Select = ({ \r\n  label, \r\n  error, \r\n  options = [], \r\n  className = '', \r\n  ...props \r\n}) => (\r\n  <div className=\"w-full\">\r\n    {label && (\r\n      <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n        {label}\r\n      </label>\r\n    )}\r\n    <select\r\n      className={`\r\n        w-full px-3 py-2 border rounded-lg transition-all duration-200\r\n        focus:ring-2 focus:ring-blue-500 focus:border-blue-500\r\n        ${error ? 'border-red-500 focus:ring-red-500' : 'border-gray-300'}\r\n        ${className}\r\n      `}\r\n      {...props}\r\n    >\r\n      {options.map((option, index) => (\r\n        <option key={index} value={option.value}>\r\n          {option.label}\r\n        </option>\r\n      ))}\r\n    </select>\r\n    {error && (\r\n      <p className=\"mt-1 text-sm text-red-600\">{error}</p>\r\n    )}\r\n  </div>\r\n);\r\n\r\nexport const Card = ({ \r\n  children, \r\n  className = '', \r\n  hover = false, \r\n  onClick,\r\n  isDark = false \r\n}) => (\r\n  <div \r\n    className={`\r\n      ${isDark ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'} \r\n      rounded-xl border shadow-sm transition-colors duration-300\r\n      ${hover ? 'hover:shadow-md hover:scale-105 transition-all duration-200 cursor-pointer' : ''}\r\n      ${className}\r\n    `}\r\n    onClick={onClick}\r\n  >\r\n    {children}\r\n  </div>\r\n);\r\n\r\nexport const Tabs = ({ tabs, activeTab, onTabChange }) => (\r\n  <div className=\"border-b border-gray-200\">\r\n    <nav className=\"flex space-x-8\">\r\n      {tabs.map((tab) => (\r\n        <button\r\n          key={tab.id}\r\n          onClick={() => onTabChange(tab.id)}\r\n          className={`\r\n            py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200\r\n            ${activeTab === tab.id\r\n              ? 'border-blue-500 text-blue-600'\r\n              : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n            }\r\n          `}\r\n        >\r\n          {tab.label}\r\n        </button>\r\n      ))}\r\n    </nav>\r\n  </div>\r\n);\r\n\r\nexport const Alert = ({ type = 'info', title, message, children, onClose, isDark = false, className = '' }) => {\r\n  const styles = {\r\n    info: isDark ? 'bg-blue-900/30 border-blue-700 text-blue-300' : 'bg-blue-50 border-blue-200 text-blue-800',\r\n    success: isDark ? 'bg-green-900/30 border-green-700 text-green-300' : 'bg-green-50 border-green-200 text-green-800',\r\n    warning: isDark ? 'bg-yellow-900/30 border-yellow-700 text-yellow-300' : 'bg-yellow-50 border-yellow-200 text-yellow-800',\r\n    error: isDark ? 'bg-red-900/30 border-red-700 text-red-300' : 'bg-red-50 border-red-200 text-red-800'\r\n  };\r\n\r\n  const icons = {\r\n    info: 'â„¹ï¸',\r\n    success: 'âœ…',\r\n    warning: 'âš ï¸',\r\n    error: 'âŒ'\r\n  };\r\n\r\n  return (\r\n    <div className={`border rounded-lg p-4 transition-colors duration-300 ${styles[type]}`}>\r\n      <div className=\"flex items-start\">\r\n        <span className=\"text-lg mr-3\">{icons[type]}</span>\r\n        <div className=\"flex-1\">\r\n          {title && <h4 className=\"font-medium mb-1\">{title}</h4>}\r\n          <div>{message || children}</div>\r\n        </div>\r\n        {onClose && (\r\n          <button onClick={onClose} className=\"ml-3 text-lg hover:opacity-70\">\r\n            Ã—\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};","// Optimized Theme Utilities for Light and Dark Mode\r\nexport const getThemeClasses = (isDark) => ({\r\n  // Background classes\r\n  bg: {\r\n    primary: isDark ? 'bg-gray-900' : 'bg-white',\r\n    secondary: isDark ? 'bg-gray-800' : 'bg-gray-50',\r\n    tertiary: isDark ? 'bg-gray-700' : 'bg-gray-100',\r\n    gradient: isDark ? 'bg-gradient-to-br from-gray-900 to-gray-800' : 'bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-100',\r\n    card: isDark ? 'bg-gray-800' : 'bg-white',\r\n    input: isDark ? 'bg-gray-700' : 'bg-white',\r\n    subtle: isDark ? 'bg-gray-700' : 'bg-gray-50',\r\n    accent: isDark ? 'bg-blue-900/30' : 'bg-blue-50'\r\n  },\r\n  \r\n  // Text classes\r\n  text: {\r\n    primary: isDark ? 'text-white' : 'text-gray-900',\r\n    secondary: isDark ? 'text-gray-300' : 'text-gray-700',\r\n    tertiary: isDark ? 'text-gray-400' : 'text-gray-600',\r\n    muted: isDark ? 'text-gray-500' : 'text-gray-500',\r\n    accent: 'text-blue-500'\r\n  },\r\n  \r\n  // Border classes\r\n  border: {\r\n    primary: isDark ? 'border-gray-700' : 'border-gray-200',\r\n    secondary: isDark ? 'border-gray-600' : 'border-gray-300',\r\n    input: isDark ? 'border-gray-600' : 'border-gray-300'\r\n  },\r\n  \r\n  // Hover states\r\n  hover: {\r\n    bg: isDark ? 'hover:bg-gray-700' : 'hover:bg-gray-100',\r\n    text: isDark ? 'hover:text-white' : 'hover:text-gray-900',\r\n    border: isDark ? 'hover:border-gray-500' : 'hover:border-gray-400',\r\n    subtle: isDark ? 'hover:bg-gray-600' : 'hover:bg-gray-200',\r\n    card: isDark ? 'hover:bg-gray-700' : 'hover:bg-gray-50'\r\n  },\r\n  \r\n  // Focus states\r\n  focus: {\r\n    ring: 'focus:ring-2 focus:ring-blue-500 focus:border-blue-500'\r\n  }\r\n});\r\n\r\nexport const getStatusColors = (status, isDark) => {\r\n  const colors = {\r\n    success: {\r\n      bg: isDark ? 'bg-green-900/50' : 'bg-green-100',\r\n      text: isDark ? 'text-green-300' : 'text-green-800',\r\n      border: isDark ? 'border-green-700' : 'border-green-200'\r\n    },\r\n    warning: {\r\n      bg: isDark ? 'bg-yellow-900/50' : 'bg-yellow-100',\r\n      text: isDark ? 'text-yellow-300' : 'text-yellow-800',\r\n      border: isDark ? 'border-yellow-700' : 'border-yellow-200'\r\n    },\r\n    error: {\r\n      bg: isDark ? 'bg-red-900/50' : 'bg-red-100',\r\n      text: isDark ? 'text-red-300' : 'text-red-800',\r\n      border: isDark ? 'border-red-700' : 'border-red-200'\r\n    },\r\n    info: {\r\n      bg: isDark ? 'bg-blue-900/50' : 'bg-blue-100',\r\n      text: isDark ? 'text-blue-300' : 'text-blue-800',\r\n      border: isDark ? 'border-blue-700' : 'border-blue-200'\r\n    }\r\n  };\r\n  return colors[status] || colors.info;\r\n};"],"names":["AuditTrail","logChange","action","data","user","arguments","length","undefined","metadata","auditEntry","id","this","generateAuditId","timestamp","Date","toISOString","sanitizeData","sessionId","getSessionId","ipAddress","getClientIP","userAgent","navigator","auditLog","unshift","maxLogSize","slice","persistAuditLog","now","Math","random","toString","substr","sessionStorage","getItem","setItem","sanitized","JSON","parse","stringify","removeSensitiveFields","dataString","_truncated","_originalSize","summary","createDataSummary","obj","sensitiveFields","Object","keys","forEach","key","some","field","toLowerCase","includes","Array","isArray","type","sample","sampleValues","fromEntries","entries","localStorage","error","console","warn","loadAuditLog","stored","getAuditLog","filters","filtered","filter","entry","startDate","endDate","trackDataEntry","category","recordCount","categories","extractCategories","trackDataUpdate","oldData","newData","changes","detectChanges","changeCount","fieldsChanged","map","c","trackDataDeletion","trackApproval","approver","decision","trackLogin","trackLogout","trackReportGeneration","reportType","parameters","compareObjects","old","current","path","currentPath","push","oldValue","newValue","changeType","Set","item","Boolean","generateAuditReport","generatedAt","totalEntries","dateRange","start","end","generateAuditSummary","_entry$data","actionCounts","userCounts","categoryCounts","dailyActivity","_entry$metadata","date","split","exportAuditLog","format","report","convertToCSV","row","String","replace","join","clearAuditLog","removeItem","getAuditStats","oldestEntry","newestEntry","uniqueUsers","uniqueSessions","_ref","onApprove","onReject","onClose","isDark","useTheme","theme","getThemeClasses","currentStep","setCurrentStep","useState","approvalHistory","setApprovalHistory","comments","setComments","selectedItems","setSelectedItems","workflowSteps","name","status","handleApproval","newEntry","step","getCurrentUser","maker","checker","getStepStatus","stepId","findIndex","s","_jsx","Modal","isOpen","title","size","children","_jsxs","className","index","text","primary","secondary","bg","subtle","d","onChange","e","target","checked","_","i","metric","value","companyName","input","border","rows","placeholder","toLocaleString","Button","variant","onClick","disabled","NotificationSystem","initialize","loadNotifications","loadReminderSchedules","startReminderEngine","subscribe","userId","callback","subscribers","has","set","get","unsubscribe","callbacks","indexOf","splice","createNotification","message","priority","notification","generateNotificationId","read","dismissed","actions","getNotificationActions","notifications","persistNotifications","notifySubscribers","label","duration","handler","markAsRead","notificationId","find","n","readAt","markAsDismissed","dismissedAt","getNotifications","userNotifications","unreadOnly","includeDismissed","limit","getUnreadCount","notifyDataValidationFailed","validationResults","_validationResults$er","_validationResults$wa","errorCount","errors","warningCount","warnings","notifyApprovalPending","pendingItems","count","notifyDeadlineApproaching","deadline","taskType","daysLeft","ceil","toLocaleDateString","notifyReportReady","reportId","notifyDataSubmitted","submissionData","_submissionData$categ","categoryCount","scheduleReminder","scheduledFor","reminder","active","created","reminderSchedules","persistReminderSchedules","cancelReminder","reminderId","r","setInterval","processReminders","triggerReminder","data_entry_due","approval_reminder","report_generation","markAllAsRead","clearDismissed","originalLength","getNotificationStats","total","unread","byType","groupBy","byPriority","recentActivity","array","reduce","groups","group","clearAllNotifications","Map","WorkflowDashboard","showApprovalModal","setShowApprovalModal","pendingApprovals","setPendingApprovals","setNotifications","auditEntries","setAuditEntries","setValidationResults","toast","setToast","currentUser","useEffect","loadWorkflowData","setupNotificationSubscription","pending","recentAudit","validation","DataValidation","validateESGData","prev","showToast","runDataValidation","esgData","generateValidationReport","details","totalErrors","setTimeout","getValidationStatusColor","getPriorityColor","gradient","card","toUpperCase","muted","markNotificationRead","dismissNotification","validationScore","completenessScore","totalWarnings","totalSuggestions","_entry$metadata2","_entry$metadata3","_entry$metadata4","_entry$metadata5","ApprovalWorkflow","handleApproveItems","approvedData","approvedBy","approvedAt","approvalComments","updatedData","a","handleRejectItems","rejectedData","rejectedBy","rejectedAt","rejectionComments","Toast","results","isValid","suggestions","score","categoryResults","validateCategory","calculateValidationScore","performCrossValidation","categoryData","rules","validationRules","rule","required","numValue","parseFloat","isNaN","min","unit","max","performBusinessLogicValidation","env","environmental","social","gov","governance","energyConsumption","carbonEmissions","totalEmployees","boardSize","communityInvestment","totalRevenue","validateDataCompleteness","completeness","overall","totalFields","filledFields","round","recommendations","generateRecommendations","getValidationRulesForCategory","isValidMetric","waterUsage","wasteGenerated","renewableEnergyRatio","femaleEmployeesPercentage","trainingHours","employeeTurnover","independentDirectors","ethicsTraining","dataBreaches","regulatoryFines","LoadingSpinner","color","sm","md","lg","blue","green","red","white","_ref2","timer","clearTimeout","success","warning","info","_ref5","_ref8","loading","icon","props","danger","outline","Input","_ref9","Alert","_ref11","styles","tertiary","accent","hover","focus","ring"],"sourceRoot":""}