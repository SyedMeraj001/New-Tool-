{"version":3,"file":"static/js/187.701840f8.chunk.js","mappings":"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","sources":["utils/esgAnalytics.js","utils/regulatoryCompliance.js","utils/materialityAssessment.js","utils/supplyChain.js","utils/dataGovernance.js","utils/auditSupport.js","utils/dataIntegration.js","utils/esgMasterIntegration.js","IndustryStandardDataEntry.js","utils/esgFrameworks.js","utils/reportGenerator.js"],"sourcesContent":["// Advanced Analytics & Calculations Module\r\nexport class ESGAnalytics {\r\n  static calculateGHGEmissions(data) {\r\n    const { scope1, scope2, scope3 } = data;\r\n    return {\r\n      totalEmissions: scope1 + scope2 + scope3,\r\n      scope1,\r\n      scope2,\r\n      scope3,\r\n      intensity: (scope1 + scope2 + scope3) / data.revenue\r\n    };\r\n  }\r\n\r\n  static performScenarioAnalysis(baseData, scenarios) {\r\n    return scenarios.map(scenario => ({\r\n      name: scenario.name,\r\n      projectedEmissions: baseData.emissions * scenario.factor,\r\n      riskLevel: scenario.factor > 1.2 ? 'high' : 'medium',\r\n      mitigationCost: baseData.emissions * scenario.costPerTonne\r\n    }));\r\n  }\r\n\r\n  static calculateTrends(historicalData) {\r\n    const sorted = historicalData.sort((a, b) => new Date(a.date) - new Date(b.date));\r\n    const trend = sorted.length > 1 ? \r\n      (sorted[sorted.length - 1].value - sorted[0].value) / sorted[0].value * 100 : 0;\r\n    \r\n    return {\r\n      trend: trend.toFixed(2),\r\n      direction: trend > 0 ? 'increasing' : 'decreasing',\r\n      volatility: this.calculateVolatility(sorted)\r\n    };\r\n  }\r\n\r\n  static calculateVolatility(data) {\r\n    const values = data.map(d => d.value);\r\n    const mean = values.reduce((a, b) => a + b) / values.length;\r\n    const variance = values.reduce((a, b) => a + Math.pow(b - mean, 2)) / values.length;\r\n    return Math.sqrt(variance);\r\n  }\r\n\r\n  static benchmarkAgainstIndustry(companyData, industryAverage) {\r\n    return {\r\n      performance: companyData.value < industryAverage ? 'above_average' : 'below_average',\r\n      percentile: ((industryAverage - companyData.value) / industryAverage * 100).toFixed(1),\r\n      gap: Math.abs(companyData.value - industryAverage)\r\n    };\r\n  }\r\n}","// Regulatory Compliance Module\r\nexport class RegulatoryCompliance {\r\n  static generateXBRLTags(data, framework) {\r\n    const tags = {\r\n      GRI: {\r\n        'GRI-305-1': { tag: 'gri:DirectGHGEmissions', value: data.scope1 },\r\n        'GRI-305-2': { tag: 'gri:IndirectGHGEmissions', value: data.scope2 },\r\n        'GRI-401-1': { tag: 'gri:NewEmployeeHires', value: data.newHires }\r\n      },\r\n      SASB: {\r\n        'EM-GHG-110a.1': { tag: 'sasb:TotalGHGEmissions', value: data.totalEmissions },\r\n        'EM-GHG-110a.2': { tag: 'sasb:EmissionsIntensity', value: data.intensity }\r\n      }\r\n    };\r\n    return tags[framework] || {};\r\n  }\r\n\r\n  static mapToDisclosureRequirements(data, standard) {\r\n    const mappings = {\r\n      CSRD: {\r\n        E1: ['climate_change', 'ghg_emissions'],\r\n        E2: ['pollution', 'air_quality'],\r\n        S1: ['workforce', 'diversity'],\r\n        G1: ['business_conduct', 'governance']\r\n      },\r\n      TCFD: {\r\n        governance: ['board_oversight', 'management_role'],\r\n        strategy: ['climate_risks', 'scenarios'],\r\n        risk_management: ['risk_processes', 'integration'],\r\n        metrics: ['ghg_emissions', 'targets']\r\n      }\r\n    };\r\n    return mappings[standard] || {};\r\n  }\r\n\r\n  static createAuditTrail(action, user, data, timestamp = new Date()) {\r\n    return {\r\n      id: Date.now().toString(),\r\n      action,\r\n      user,\r\n      data: JSON.stringify(data),\r\n      timestamp: timestamp.toISOString(),\r\n      hash: this.generateHash(action + user + JSON.stringify(data) + timestamp)\r\n    };\r\n  }\r\n\r\n  static generateHash(input) {\r\n    let hash = 0;\r\n    for (let i = 0; i < input.length; i++) {\r\n      const char = input.charCodeAt(i);\r\n      hash = ((hash << 5) - hash) + char;\r\n      hash = hash & hash;\r\n    }\r\n    return hash.toString(36);\r\n  }\r\n\r\n  static validateDataLineage(dataPoint) {\r\n    return {\r\n      isValid: dataPoint.source && dataPoint.timestamp && dataPoint.user,\r\n      completeness: this.calculateCompleteness(dataPoint),\r\n      traceability: dataPoint.auditTrail ? dataPoint.auditTrail.length : 0\r\n    };\r\n  }\r\n\r\n  static calculateCompleteness(data) {\r\n    const requiredFields = ['value', 'unit', 'source', 'timestamp'];\r\n    const presentFields = requiredFields.filter(field => data[field]);\r\n    return (presentFields.length / requiredFields.length * 100).toFixed(1);\r\n  }\r\n}","// Materiality Assessment Module\r\nexport class MaterialityAssessment {\r\n  static createStakeholderSurvey(stakeholderType) {\r\n    const questions = {\r\n      investor: [\r\n        'How important is climate risk disclosure?',\r\n        'Rate the significance of diversity metrics',\r\n        'Importance of supply chain transparency'\r\n      ],\r\n      employee: [\r\n        'How important is workplace safety?',\r\n        'Rate the significance of career development',\r\n        'Importance of work-life balance'\r\n      ],\r\n      customer: [\r\n        'How important is product sustainability?',\r\n        'Rate the significance of ethical sourcing',\r\n        'Importance of data privacy'\r\n      ]\r\n    };\r\n    return questions[stakeholderType] || questions.investor;\r\n  }\r\n\r\n  static calculateMaterialityScore(responses, weights = {}) {\r\n    const defaultWeights = { investor: 0.4, employee: 0.3, customer: 0.3 };\r\n    const finalWeights = { ...defaultWeights, ...weights };\r\n    \r\n    let totalScore = 0;\r\n    let totalWeight = 0;\r\n    \r\n    Object.entries(responses).forEach(([stakeholder, score]) => {\r\n      if (finalWeights[stakeholder]) {\r\n        totalScore += score * finalWeights[stakeholder];\r\n        totalWeight += finalWeights[stakeholder];\r\n      }\r\n    });\r\n    \r\n    return totalWeight > 0 ? totalScore / totalWeight : 0;\r\n  }\r\n\r\n  static generateMaterialityMatrix(issues) {\r\n    return issues.map(issue => ({\r\n      name: issue.name,\r\n      financialMateriality: this.assessFinancialMateriality(issue),\r\n      impactMateriality: this.assessImpactMateriality(issue),\r\n      overallPriority: this.calculatePriority(issue)\r\n    }));\r\n  }\r\n\r\n  static assessFinancialMateriality(issue) {\r\n    const factors = {\r\n      revenue_impact: issue.revenueImpact || 0,\r\n      cost_impact: issue.costImpact || 0,\r\n      regulatory_risk: issue.regulatoryRisk || 0\r\n    };\r\n    \r\n    return Object.values(factors).reduce((a, b) => a + b, 0) / 3;\r\n  }\r\n\r\n  static assessImpactMateriality(issue) {\r\n    const factors = {\r\n      environmental_impact: issue.environmentalImpact || 0,\r\n      social_impact: issue.socialImpact || 0,\r\n      stakeholder_concern: issue.stakeholderConcern || 0\r\n    };\r\n    \r\n    return Object.values(factors).reduce((a, b) => a + b, 0) / 3;\r\n  }\r\n\r\n  static calculatePriority(issue) {\r\n    const financial = this.assessFinancialMateriality(issue);\r\n    const impact = this.assessImpactMateriality(issue);\r\n    return Math.sqrt(financial * financial + impact * impact);\r\n  }\r\n\r\n  static identifyMaterialTopics(matrix, threshold = 7) {\r\n    return matrix\r\n      .filter(item => item.overallPriority >= threshold)\r\n      .sort((a, b) => b.overallPriority - a.overallPriority);\r\n  }\r\n}","// Supply Chain ESG Module\r\nexport class SupplyChain {\r\n  static assessSupplierESG(supplier) {\r\n    const assessment = {\r\n      environmental: this.assessEnvironmentalPerformance(supplier),\r\n      social: this.assessSocialPerformance(supplier),\r\n      governance: this.assessGovernancePerformance(supplier),\r\n      overall: 0\r\n    };\r\n    \r\n    assessment.overall = (assessment.environmental + assessment.social + assessment.governance) / 3;\r\n    return assessment;\r\n  }\r\n\r\n  static assessEnvironmentalPerformance(supplier) {\r\n    const metrics = {\r\n      carbonFootprint: supplier.carbonFootprint || 0,\r\n      wasteManagement: supplier.wasteManagement || 0,\r\n      energyEfficiency: supplier.energyEfficiency || 0,\r\n      certifications: supplier.environmentalCertifications?.length || 0\r\n    };\r\n    \r\n    return Object.values(metrics).reduce((a, b) => a + b, 0) / 4;\r\n  }\r\n\r\n  static assessSocialPerformance(supplier) {\r\n    const metrics = {\r\n      laborStandards: supplier.laborStandards || 0,\r\n      healthSafety: supplier.healthSafety || 0,\r\n      humanRights: supplier.humanRights || 0,\r\n      communityImpact: supplier.communityImpact || 0\r\n    };\r\n    \r\n    return Object.values(metrics).reduce((a, b) => a + b, 0) / 4;\r\n  }\r\n\r\n  static assessGovernancePerformance(supplier) {\r\n    const metrics = {\r\n      transparency: supplier.transparency || 0,\r\n      ethics: supplier.ethics || 0,\r\n      compliance: supplier.compliance || 0,\r\n      riskManagement: supplier.riskManagement || 0\r\n    };\r\n    \r\n    return Object.values(metrics).reduce((a, b) => a + b, 0) / 4;\r\n  }\r\n\r\n  static calculateScope3Emissions(suppliers, purchaseData) {\r\n    return suppliers.map(supplier => {\r\n      const purchases = purchaseData.filter(p => p.supplierId === supplier.id);\r\n      const totalSpend = purchases.reduce((sum, p) => sum + p.amount, 0);\r\n      const emissionFactor = supplier.emissionFactor || 0.5; // kg CO2e per $\r\n      \r\n      return {\r\n        supplierId: supplier.id,\r\n        supplierName: supplier.name,\r\n        totalSpend,\r\n        estimatedEmissions: totalSpend * emissionFactor,\r\n        category: supplier.category\r\n      };\r\n    });\r\n  }\r\n\r\n  static identifySupplyChainRisks(suppliers) {\r\n    return suppliers.map(supplier => {\r\n      const risks = [];\r\n      \r\n      if (supplier.esgScore < 60) risks.push('Low ESG Performance');\r\n      if (supplier.location && this.isHighRiskCountry(supplier.location)) risks.push('Geographic Risk');\r\n      if (!supplier.certifications?.length) risks.push('Lack of Certifications');\r\n      if (supplier.auditDate && this.isAuditOverdue(supplier.auditDate)) risks.push('Overdue Audit');\r\n      \r\n      return {\r\n        supplierId: supplier.id,\r\n        supplierName: supplier.name,\r\n        riskLevel: this.calculateRiskLevel(risks.length),\r\n        risks,\r\n        recommendedActions: this.getRecommendedActions(risks)\r\n      };\r\n    });\r\n  }\r\n\r\n  static isHighRiskCountry(country) {\r\n    const highRiskCountries = ['Country1', 'Country2']; // Simplified\r\n    return highRiskCountries.includes(country);\r\n  }\r\n\r\n  static isAuditOverdue(auditDate) {\r\n    const oneYearAgo = new Date();\r\n    oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);\r\n    return new Date(auditDate) < oneYearAgo;\r\n  }\r\n\r\n  static calculateRiskLevel(riskCount) {\r\n    if (riskCount >= 3) return 'High';\r\n    if (riskCount >= 2) return 'Medium';\r\n    return 'Low';\r\n  }\r\n\r\n  static getRecommendedActions(risks) {\r\n    const actions = {\r\n      'Low ESG Performance': 'Conduct ESG improvement program',\r\n      'Geographic Risk': 'Increase monitoring and due diligence',\r\n      'Lack of Certifications': 'Require relevant certifications',\r\n      'Overdue Audit': 'Schedule immediate audit'\r\n    };\r\n    \r\n    return risks.map(risk => actions[risk]).filter(Boolean);\r\n  }\r\n}","// Data Quality & Governance Module\r\nexport class DataGovernance {\r\n  static validateDataQuality(data) {\r\n    const checks = {\r\n      completeness: this.checkCompleteness(data),\r\n      accuracy: this.checkAccuracy(data),\r\n      consistency: this.checkConsistency(data),\r\n      timeliness: this.checkTimeliness(data),\r\n      validity: this.checkValidity(data)\r\n    };\r\n    \r\n    const overallScore = Object.values(checks).reduce((sum, check) => sum + check.score, 0) / 5;\r\n    \r\n    return {\r\n      overallScore: Math.round(overallScore),\r\n      checks,\r\n      issues: this.identifyIssues(checks),\r\n      recommendations: this.getRecommendations(checks)\r\n    };\r\n  }\r\n\r\n  static checkCompleteness(data) {\r\n    const requiredFields = ['companyName', 'category', 'metric', 'value', 'unit', 'timestamp'];\r\n    const presentFields = requiredFields.filter(field => data[field] !== undefined && data[field] !== '');\r\n    const score = (presentFields.length / requiredFields.length) * 100;\r\n    \r\n    return {\r\n      score: Math.round(score),\r\n      missingFields: requiredFields.filter(field => !presentFields.includes(field)),\r\n      status: score >= 90 ? 'good' : score >= 70 ? 'acceptable' : 'poor'\r\n    };\r\n  }\r\n\r\n  static checkAccuracy(data) {\r\n    const checks = [];\r\n    let score = 100;\r\n    \r\n    // Check for reasonable value ranges\r\n    if (data.category === 'environmental' && data.metric?.toLowerCase().includes('emission')) {\r\n      if (data.value < 0) {\r\n        checks.push('Negative emission value detected');\r\n        score -= 30;\r\n      }\r\n      if (data.value > 1000000) {\r\n        checks.push('Unusually high emission value');\r\n        score -= 20;\r\n      }\r\n    }\r\n    \r\n    // Check unit consistency\r\n    if (data.metric?.toLowerCase().includes('emission') && !data.unit?.toLowerCase().includes('co2')) {\r\n      checks.push('Unit may not match metric type');\r\n      score -= 15;\r\n    }\r\n    \r\n    return {\r\n      score: Math.max(0, score),\r\n      issues: checks,\r\n      status: score >= 90 ? 'good' : score >= 70 ? 'acceptable' : 'poor'\r\n    };\r\n  }\r\n\r\n  static checkConsistency(data) {\r\n    // Check against historical data patterns\r\n    const historicalData = this.getHistoricalData(data.companyName, data.metric);\r\n    let score = 100;\r\n    const issues = [];\r\n    \r\n    if (historicalData.length > 0) {\r\n      const avgValue = historicalData.reduce((sum, d) => sum + d.value, 0) / historicalData.length;\r\n      const deviation = Math.abs(data.value - avgValue) / avgValue;\r\n      \r\n      if (deviation > 0.5) {\r\n        issues.push('Value deviates significantly from historical average');\r\n        score -= 25;\r\n      }\r\n    }\r\n    \r\n    return {\r\n      score,\r\n      issues,\r\n      status: score >= 90 ? 'good' : score >= 70 ? 'acceptable' : 'poor'\r\n    };\r\n  }\r\n\r\n  static checkTimeliness(data) {\r\n    const dataAge = Date.now() - new Date(data.timestamp).getTime();\r\n    const daysOld = dataAge / (1000 * 60 * 60 * 24);\r\n    \r\n    let score = 100;\r\n    const issues = [];\r\n    \r\n    if (daysOld > 90) {\r\n      issues.push('Data is more than 90 days old');\r\n      score -= 40;\r\n    } else if (daysOld > 30) {\r\n      issues.push('Data is more than 30 days old');\r\n      score -= 20;\r\n    }\r\n    \r\n    return {\r\n      score,\r\n      daysOld: Math.round(daysOld),\r\n      issues,\r\n      status: score >= 90 ? 'good' : score >= 70 ? 'acceptable' : 'poor'\r\n    };\r\n  }\r\n\r\n  static checkValidity(data) {\r\n    let score = 100;\r\n    const issues = [];\r\n    \r\n    // Check data format validity\r\n    if (typeof data.value !== 'number' || isNaN(data.value)) {\r\n      issues.push('Invalid numeric value');\r\n      score -= 50;\r\n    }\r\n    \r\n    // Check category validity\r\n    const validCategories = ['environmental', 'social', 'governance'];\r\n    if (!validCategories.includes(data.category?.toLowerCase())) {\r\n      issues.push('Invalid ESG category');\r\n      score -= 30;\r\n    }\r\n    \r\n    return {\r\n      score,\r\n      issues,\r\n      status: score >= 90 ? 'good' : score >= 70 ? 'acceptable' : 'poor'\r\n    };\r\n  }\r\n\r\n  static createApprovalWorkflow(data, approvers) {\r\n    return {\r\n      id: Date.now().toString(),\r\n      data,\r\n      status: 'pending',\r\n      currentApprover: approvers[0],\r\n      approvers,\r\n      approvalHistory: [],\r\n      createdAt: new Date().toISOString(),\r\n      deadline: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString() // 7 days\r\n    };\r\n  }\r\n\r\n  static processApproval(workflowId, approverId, decision, comments) {\r\n    const workflow = this.getWorkflow(workflowId);\r\n    if (!workflow) return null;\r\n    \r\n    const approval = {\r\n      approverId,\r\n      decision, // 'approved', 'rejected', 'needs_revision'\r\n      comments,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n    \r\n    workflow.approvalHistory.push(approval);\r\n    \r\n    if (decision === 'approved') {\r\n      const currentIndex = workflow.approvers.indexOf(approverId);\r\n      if (currentIndex < workflow.approvers.length - 1) {\r\n        workflow.currentApprover = workflow.approvers[currentIndex + 1];\r\n      } else {\r\n        workflow.status = 'approved';\r\n        workflow.currentApprover = null;\r\n      }\r\n    } else if (decision === 'rejected') {\r\n      workflow.status = 'rejected';\r\n      workflow.currentApprover = null;\r\n    }\r\n    \r\n    return workflow;\r\n  }\r\n\r\n  static createVersionControl(data, user) {\r\n    const existingVersions = this.getVersions(data.id) || [];\r\n    const newVersion = {\r\n      version: existingVersions.length + 1,\r\n      data: { ...data },\r\n      user,\r\n      timestamp: new Date().toISOString(),\r\n      changes: this.identifyChanges(existingVersions[existingVersions.length - 1]?.data, data)\r\n    };\r\n    \r\n    existingVersions.push(newVersion);\r\n    this.saveVersions(data.id, existingVersions);\r\n    \r\n    return newVersion;\r\n  }\r\n\r\n  static identifyChanges(oldData, newData) {\r\n    if (!oldData) return ['Initial version'];\r\n    \r\n    const changes = [];\r\n    Object.keys(newData).forEach(key => {\r\n      if (oldData[key] !== newData[key]) {\r\n        changes.push(`${key}: ${oldData[key]}  ${newData[key]}`);\r\n      }\r\n    });\r\n    \r\n    return changes;\r\n  }\r\n\r\n  static getHistoricalData(companyName, metric) {\r\n    // Simulate historical data retrieval\r\n    return [];\r\n  }\r\n\r\n  static getWorkflow(workflowId) {\r\n    // Simulate workflow retrieval\r\n    return null;\r\n  }\r\n\r\n  static getVersions(dataId) {\r\n    // Simulate version retrieval\r\n    return JSON.parse(localStorage.getItem(`versions_${dataId}`) || '[]');\r\n  }\r\n\r\n  static saveVersions(dataId, versions) {\r\n    localStorage.setItem(`versions_${dataId}`, JSON.stringify(versions));\r\n  }\r\n\r\n  static identifyIssues(checks) {\r\n    const issues = [];\r\n    Object.entries(checks).forEach(([checkType, result]) => {\r\n      if (result.status === 'poor') {\r\n        issues.push(`${checkType}: ${result.issues?.join(', ') || 'Quality issues detected'}`);\r\n      }\r\n    });\r\n    return issues;\r\n  }\r\n\r\n  static getRecommendations(checks) {\r\n    const recommendations = [];\r\n    Object.entries(checks).forEach(([checkType, result]) => {\r\n      if (result.status !== 'good') {\r\n        switch (checkType) {\r\n          case 'completeness':\r\n            recommendations.push('Complete all required fields before submission');\r\n            break;\r\n          case 'accuracy':\r\n            recommendations.push('Verify data values and units for accuracy');\r\n            break;\r\n          case 'consistency':\r\n            recommendations.push('Review data for consistency with historical patterns');\r\n            break;\r\n          case 'timeliness':\r\n            recommendations.push('Update data more frequently to ensure timeliness');\r\n            break;\r\n          case 'validity':\r\n            recommendations.push('Ensure data formats and categories are valid');\r\n            break;\r\n        }\r\n      }\r\n    });\r\n    return recommendations;\r\n  }\r\n}","// Assurance & Audit Support Module\r\nexport class AuditSupport {\r\n  static createEvidenceRepository(dataPoint, evidence) {\r\n    return {\r\n      id: Date.now().toString(),\r\n      dataPointId: dataPoint.id,\r\n      evidence: {\r\n        sourceDocuments: evidence.sourceDocuments || [],\r\n        calculations: evidence.calculations || [],\r\n        approvals: evidence.approvals || [],\r\n        thirdPartyVerification: evidence.thirdPartyVerification || null\r\n      },\r\n      metadata: {\r\n        createdBy: evidence.createdBy,\r\n        createdAt: new Date().toISOString(),\r\n        lastUpdated: new Date().toISOString(),\r\n        accessLevel: evidence.accessLevel || 'internal'\r\n      },\r\n      auditTrail: this.initializeAuditTrail(evidence.createdBy)\r\n    };\r\n  }\r\n\r\n  static initializeAuditTrail(user) {\r\n    return [{\r\n      action: 'created',\r\n      user,\r\n      timestamp: new Date().toISOString(),\r\n      details: 'Evidence repository created'\r\n    }];\r\n  }\r\n\r\n  static logAuditEvent(repositoryId, action, user, details) {\r\n    const repository = this.getEvidenceRepository(repositoryId);\r\n    if (!repository) return null;\r\n\r\n    const auditEvent = {\r\n      action,\r\n      user,\r\n      timestamp: new Date().toISOString(),\r\n      details,\r\n      sessionId: this.generateSessionId()\r\n    };\r\n\r\n    repository.auditTrail.push(auditEvent);\r\n    repository.metadata.lastUpdated = new Date().toISOString();\r\n    \r\n    this.saveEvidenceRepository(repository);\r\n    return auditEvent;\r\n  }\r\n\r\n  static lockDataForAudit(dataId, auditorId, lockReason) {\r\n    const lock = {\r\n      dataId,\r\n      auditorId,\r\n      lockReason,\r\n      lockedAt: new Date().toISOString(),\r\n      status: 'locked',\r\n      unlockConditions: ['audit_complete', 'auditor_release']\r\n    };\r\n\r\n    this.saveLock(dataId, lock);\r\n    this.logAuditEvent(dataId, 'data_locked', auditorId, `Data locked for audit: ${lockReason}`);\r\n    \r\n    return lock;\r\n  }\r\n\r\n  static unlockDataAfterAudit(dataId, auditorId, auditResults) {\r\n    const lock = this.getLock(dataId);\r\n    if (!lock || lock.auditorId !== auditorId) {\r\n      throw new Error('Unauthorized unlock attempt');\r\n    }\r\n\r\n    lock.status = 'unlocked';\r\n    lock.unlockedAt = new Date().toISOString();\r\n    lock.auditResults = auditResults;\r\n\r\n    this.saveLock(dataId, lock);\r\n    this.logAuditEvent(dataId, 'data_unlocked', auditorId, 'Data unlocked after audit completion');\r\n    \r\n    return lock;\r\n  }\r\n\r\n  static generateAuditReport(dataSet, auditorInfo) {\r\n    const auditFindings = this.performAuditChecks(dataSet);\r\n    \r\n    return {\r\n      auditId: Date.now().toString(),\r\n      auditor: auditorInfo,\r\n      scope: {\r\n        dataPoints: dataSet.length,\r\n        categories: [...new Set(dataSet.map(d => d.category))],\r\n        timeframe: this.getTimeframe(dataSet)\r\n      },\r\n      findings: auditFindings,\r\n      opinion: this.determineAuditOpinion(auditFindings),\r\n      recommendations: this.generateRecommendations(auditFindings),\r\n      assuranceLevel: auditorInfo.assuranceLevel || 'limited',\r\n      completedAt: new Date().toISOString()\r\n    };\r\n  }\r\n\r\n  static performAuditChecks(dataSet) {\r\n    const findings = [];\r\n\r\n    // Check data completeness\r\n    const completenessCheck = this.checkDataCompleteness(dataSet);\r\n    if (completenessCheck.issues.length > 0) {\r\n      findings.push({\r\n        type: 'completeness',\r\n        severity: 'medium',\r\n        description: 'Data completeness issues identified',\r\n        details: completenessCheck.issues\r\n      });\r\n    }\r\n\r\n    // Check calculation accuracy\r\n    const accuracyCheck = this.checkCalculationAccuracy(dataSet);\r\n    if (accuracyCheck.errors.length > 0) {\r\n      findings.push({\r\n        type: 'accuracy',\r\n        severity: 'high',\r\n        description: 'Calculation errors identified',\r\n        details: accuracyCheck.errors\r\n      });\r\n    }\r\n\r\n    // Check supporting evidence\r\n    const evidenceCheck = this.checkSupportingEvidence(dataSet);\r\n    if (evidenceCheck.missing.length > 0) {\r\n      findings.push({\r\n        type: 'evidence',\r\n        severity: 'medium',\r\n        description: 'Missing supporting evidence',\r\n        details: evidenceCheck.missing\r\n      });\r\n    }\r\n\r\n    // Check compliance with standards\r\n    const complianceCheck = this.checkStandardsCompliance(dataSet);\r\n    if (complianceCheck.violations.length > 0) {\r\n      findings.push({\r\n        type: 'compliance',\r\n        severity: 'high',\r\n        description: 'Standards compliance violations',\r\n        details: complianceCheck.violations\r\n      });\r\n    }\r\n\r\n    return findings;\r\n  }\r\n\r\n  static checkDataCompleteness(dataSet) {\r\n    const requiredFields = ['companyName', 'category', 'metric', 'value', 'unit', 'timestamp'];\r\n    const issues = [];\r\n\r\n    dataSet.forEach((data, index) => {\r\n      const missingFields = requiredFields.filter(field => !data[field]);\r\n      if (missingFields.length > 0) {\r\n        issues.push(`Record ${index + 1}: Missing fields - ${missingFields.join(', ')}`);\r\n      }\r\n    });\r\n\r\n    return { issues };\r\n  }\r\n\r\n  static checkCalculationAccuracy(dataSet) {\r\n    const errors = [];\r\n\r\n    dataSet.forEach((data, index) => {\r\n      // Check for calculation-based metrics\r\n      if (data.metric?.toLowerCase().includes('intensity') || data.metric?.toLowerCase().includes('ratio')) {\r\n        if (!data.calculationMethod) {\r\n          errors.push(`Record ${index + 1}: Missing calculation method for ${data.metric}`);\r\n        }\r\n      }\r\n\r\n      // Check for reasonable value ranges\r\n      if (typeof data.value === 'number') {\r\n        if (data.value < 0 && !this.canBeNegative(data.metric)) {\r\n          errors.push(`Record ${index + 1}: Negative value for ${data.metric} may be incorrect`);\r\n        }\r\n      }\r\n    });\r\n\r\n    return { errors };\r\n  }\r\n\r\n  static checkSupportingEvidence(dataSet) {\r\n    const missing = [];\r\n\r\n    dataSet.forEach((data, index) => {\r\n      const evidence = this.getEvidenceRepository(data.id);\r\n      if (!evidence || evidence.evidence.sourceDocuments.length === 0) {\r\n        missing.push(`Record ${index + 1}: No supporting documentation for ${data.metric}`);\r\n      }\r\n    });\r\n\r\n    return { missing };\r\n  }\r\n\r\n  static checkStandardsCompliance(dataSet) {\r\n    const violations = [];\r\n\r\n    dataSet.forEach((data, index) => {\r\n      // Check framework code format\r\n      if (data.frameworkCode && !this.isValidFrameworkCode(data.frameworkCode)) {\r\n        violations.push(`Record ${index + 1}: Invalid framework code format - ${data.frameworkCode}`);\r\n      }\r\n\r\n      // Check unit consistency\r\n      if (!this.isUnitConsistent(data.metric, data.unit)) {\r\n        violations.push(`Record ${index + 1}: Unit ${data.unit} inconsistent with metric ${data.metric}`);\r\n      }\r\n    });\r\n\r\n    return { violations };\r\n  }\r\n\r\n  static determineAuditOpinion(findings) {\r\n    const highSeverityCount = findings.filter(f => f.severity === 'high').length;\r\n    const mediumSeverityCount = findings.filter(f => f.severity === 'medium').length;\r\n\r\n    if (highSeverityCount === 0 && mediumSeverityCount === 0) {\r\n      return 'unqualified'; // Clean opinion\r\n    } else if (highSeverityCount === 0 && mediumSeverityCount <= 2) {\r\n      return 'qualified'; // Opinion with exceptions\r\n    } else if (highSeverityCount <= 2) {\r\n      return 'adverse'; // Significant issues\r\n    } else {\r\n      return 'disclaimer'; // Unable to form opinion\r\n    }\r\n  }\r\n\r\n  static generateRecommendations(findings) {\r\n    const recommendations = [];\r\n\r\n    findings.forEach(finding => {\r\n      switch (finding.type) {\r\n        case 'completeness':\r\n          recommendations.push('Implement mandatory field validation before data submission');\r\n          break;\r\n        case 'accuracy':\r\n          recommendations.push('Establish calculation review process and automated validation rules');\r\n          break;\r\n        case 'evidence':\r\n          recommendations.push('Require supporting documentation upload for all data entries');\r\n          break;\r\n        case 'compliance':\r\n          recommendations.push('Provide training on ESG reporting standards and framework requirements');\r\n          break;\r\n      }\r\n    });\r\n\r\n    return [...new Set(recommendations)]; // Remove duplicates\r\n  }\r\n\r\n  static grantAuditorAccess(auditorId, dataScope, permissions) {\r\n    const access = {\r\n      auditorId,\r\n      dataScope,\r\n      permissions,\r\n      grantedAt: new Date().toISOString(),\r\n      expiresAt: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(), // 30 days\r\n      status: 'active'\r\n    };\r\n\r\n    this.saveAuditorAccess(auditorId, access);\r\n    return access;\r\n  }\r\n\r\n  static revokeAuditorAccess(auditorId) {\r\n    const access = this.getAuditorAccess(auditorId);\r\n    if (access) {\r\n      access.status = 'revoked';\r\n      access.revokedAt = new Date().toISOString();\r\n      this.saveAuditorAccess(auditorId, access);\r\n    }\r\n    return access;\r\n  }\r\n\r\n  // Helper methods\r\n  static canBeNegative(metric) {\r\n    const negativeAllowed = ['change', 'variance', 'difference', 'improvement'];\r\n    return negativeAllowed.some(term => metric?.toLowerCase().includes(term));\r\n  }\r\n\r\n  static isValidFrameworkCode(code) {\r\n    const patterns = [\r\n      /^GRI-\\d{3}-\\d+$/, // GRI format\r\n      /^[A-Z]{2}-[A-Z]{3}-\\d{3}[a-z]\\.\\d+$/, // SASB format\r\n      /^TCFD-[A-Z]+$/ // TCFD format\r\n    ];\r\n    return patterns.some(pattern => pattern.test(code));\r\n  }\r\n\r\n  static isUnitConsistent(metric, unit) {\r\n    const consistencyRules = {\r\n      emission: ['tCO2e', 'kgCO2e', 'tCO2'],\r\n      energy: ['kWh', 'MWh', 'GWh', 'TJ'],\r\n      water: ['m3', 'liters', 'gallons'],\r\n      waste: ['tonnes', 'kg', 'lbs']\r\n    };\r\n\r\n    const metricType = Object.keys(consistencyRules).find(type => \r\n      metric?.toLowerCase().includes(type)\r\n    );\r\n\r\n    return metricType ? consistencyRules[metricType].includes(unit) : true;\r\n  }\r\n\r\n  static generateSessionId() {\r\n    return Math.random().toString(36).substr(2, 9);\r\n  }\r\n\r\n  static getTimeframe(dataSet) {\r\n    const dates = dataSet.map(d => new Date(d.timestamp)).sort();\r\n    return {\r\n      from: dates[0]?.toISOString(),\r\n      to: dates[dates.length - 1]?.toISOString()\r\n    };\r\n  }\r\n\r\n  // Storage methods (simplified for demo)\r\n  static getEvidenceRepository(id) {\r\n    return JSON.parse(localStorage.getItem(`evidence_${id}`) || 'null');\r\n  }\r\n\r\n  static saveEvidenceRepository(repository) {\r\n    localStorage.setItem(`evidence_${repository.id}`, JSON.stringify(repository));\r\n  }\r\n\r\n  static getLock(dataId) {\r\n    return JSON.parse(localStorage.getItem(`lock_${dataId}`) || 'null');\r\n  }\r\n\r\n  static saveLock(dataId, lock) {\r\n    localStorage.setItem(`lock_${dataId}`, JSON.stringify(lock));\r\n  }\r\n\r\n  static getAuditorAccess(auditorId) {\r\n    return JSON.parse(localStorage.getItem(`auditor_access_${auditorId}`) || 'null');\r\n  }\r\n\r\n  static saveAuditorAccess(auditorId, access) {\r\n    localStorage.setItem(`auditor_access_${auditorId}`, JSON.stringify(access));\r\n  }\r\n}","// Data Integration & Sources Module\r\nexport class DataIntegration {\r\n  static async connectERP(config) {\r\n    // Simulate ERP connection\r\n    return { status: 'connected', source: 'ERP', data: [] };\r\n  }\r\n\r\n  static async connectHR(config) {\r\n    // Simulate HR system connection\r\n    return { status: 'connected', source: 'HR', data: [] };\r\n  }\r\n\r\n  static async connectIoT(sensorId) {\r\n    // Simulate IoT sensor data\r\n    return {\r\n      sensorId,\r\n      timestamp: new Date().toISOString(),\r\n      value: Math.random() * 100,\r\n      unit: 'kWh'\r\n    };\r\n  }\r\n\r\n  static async syncSupplierData(supplierId) {\r\n    // Simulate supplier portal sync\r\n    return {\r\n      supplierId,\r\n      esgScore: Math.floor(Math.random() * 100),\r\n      lastAudit: new Date().toISOString(),\r\n      compliance: 'compliant'\r\n    };\r\n  }\r\n}","// ESG Master Integration Module - Orchestrates all ESG components\r\nimport DataValidation from './dataValidation.js';\r\nimport { ESGAnalytics } from './esgAnalytics.js';\r\nimport { RegulatoryCompliance } from './regulatoryCompliance.js';\r\nimport { MaterialityAssessment } from './materialityAssessment.js';\r\nimport { SupplyChain } from './supplyChain.js';\r\nimport { ReportGenerator } from './reportGenerator.js';\r\nimport { DataGovernance } from './dataGovernance.js';\r\nimport { AuditSupport } from './auditSupport.js';\r\nimport { DataIntegration } from './dataIntegration.js';\r\n\r\nexport class ESGMasterIntegration {\r\n  // Comprehensive data processing pipeline\r\n  static async processESGData(rawData, options = {}) {\r\n    const pipeline = {\r\n      step1_validation: null,\r\n      step2_integration: null,\r\n      step3_analytics: null,\r\n      step4_compliance: null,\r\n      step5_governance: null,\r\n      step6_audit: null,\r\n      final_result: null\r\n    };\r\n\r\n    try {\r\n      // Step 1: Data Validation & Quality Check\r\n      pipeline.step1_validation = { ...rawData, validation: DataValidation.validateESGData(rawData) };\r\n      \r\n      if (!pipeline.step1_validation.validation.isValid) {\r\n        throw new Error(`Validation failed: ${pipeline.step1_validation.validation.errors.join(', ')}`);\r\n      }\r\n\r\n      // Step 2: Data Integration (if external sources needed)\r\n      if (options.integrateExternal) {\r\n        pipeline.step2_integration = await this.integrateExternalData(rawData);\r\n      }\r\n\r\n      // Step 3: Advanced Analytics\r\n      pipeline.step3_analytics = this.performAnalytics(rawData);\r\n\r\n      // Step 4: Regulatory Compliance Check\r\n      pipeline.step4_compliance = this.checkCompliance(rawData, options.framework || 'GRI');\r\n\r\n      // Step 5: Data Governance\r\n      pipeline.step5_governance = this.applyGovernance(rawData, options.user);\r\n\r\n      // Step 6: Audit Preparation\r\n      pipeline.step6_audit = this.prepareForAudit(rawData, options.user);\r\n\r\n      // Final Result\r\n      pipeline.final_result = {\r\n        processedData: {\r\n          ...rawData,\r\n          ...pipeline.step1_validation,\r\n          analytics: pipeline.step3_analytics,\r\n          compliance: pipeline.step4_compliance,\r\n          governance: pipeline.step5_governance,\r\n          auditInfo: pipeline.step6_audit\r\n        },\r\n        processingMetadata: {\r\n          processedAt: new Date().toISOString(),\r\n          pipeline,\r\n          qualityScore: pipeline.step1_validation.qualityScore,\r\n          complianceScore: pipeline.step4_compliance.score,\r\n          auditReadiness: pipeline.step6_audit.readiness\r\n        }\r\n      };\r\n\r\n      return pipeline.final_result;\r\n\r\n    } catch (error) {\r\n      return {\r\n        error: error.message,\r\n        pipeline,\r\n        processedAt: new Date().toISOString()\r\n      };\r\n    }\r\n  }\r\n\r\n  // Integrate external data sources\r\n  static async integrateExternalData(data) {\r\n    const integrations = {};\r\n\r\n    // ERP Integration\r\n    if (data.category === 'environmental' && data.metric.includes('energy')) {\r\n      integrations.erp = await DataIntegration.connectERP({ system: 'SAP' });\r\n    }\r\n\r\n    // HR Integration\r\n    if (data.category === 'social') {\r\n      integrations.hr = await DataIntegration.connectHR({ system: 'Workday' });\r\n    }\r\n\r\n    // IoT Integration\r\n    if (data.metric.includes('emission') || data.metric.includes('energy')) {\r\n      integrations.iot = await DataIntegration.connectIoT('sensor_001');\r\n    }\r\n\r\n    return integrations;\r\n  }\r\n\r\n  // Perform comprehensive analytics\r\n  static performAnalytics(data) {\r\n    const analytics = {};\r\n\r\n    // Emissions calculations\r\n    if (data.category === 'environmental' && data.metric.includes('emission')) {\r\n      analytics.ghgCalculation = ESGAnalytics.calculateGHGEmissions({\r\n        scope1: data.value,\r\n        scope2: 0,\r\n        scope3: 0,\r\n        revenue: 1000000\r\n      });\r\n\r\n      analytics.scenarioAnalysis = ESGAnalytics.performScenarioAnalysis(\r\n        { emissions: data.value },\r\n        [\r\n          { name: 'Business as Usual', factor: 1.0, costPerTonne: 50 },\r\n          { name: 'Aggressive Reduction', factor: 0.7, costPerTonne: 75 },\r\n          { name: 'Net Zero Target', factor: 0.1, costPerTonne: 150 }\r\n        ]\r\n      );\r\n    }\r\n\r\n    // Benchmarking\r\n    analytics.benchmark = ESGAnalytics.benchmarkAgainstIndustry(\r\n      { value: data.value },\r\n      this.getIndustryBenchmark(data.metric)\r\n    );\r\n\r\n    return analytics;\r\n  }\r\n\r\n  // Check regulatory compliance\r\n  static checkCompliance(data, framework) {\r\n    const compliance = {};\r\n\r\n    // XBRL tagging\r\n    compliance.xbrlTags = RegulatoryCompliance.generateXBRLTags(data, framework);\r\n\r\n    // Disclosure mapping\r\n    compliance.disclosureMapping = RegulatoryCompliance.mapToDisclosureRequirements(data, framework);\r\n\r\n    // Framework validation\r\n    compliance.frameworkValidation = DataValidation.validateDataCompleteness(\r\n      { [data.category]: [data] }\r\n    );\r\n\r\n    // Audit trail\r\n    compliance.auditTrail = RegulatoryCompliance.createAuditTrail(\r\n      'COMPLIANCE_CHECK',\r\n      localStorage.getItem('currentUser') || 'system',\r\n      data\r\n    );\r\n\r\n    return {\r\n      ...compliance,\r\n      score: compliance.frameworkValidation.score || 85,\r\n      status: compliance.frameworkValidation.score >= 80 ? 'compliant' : 'needs_improvement'\r\n    };\r\n  }\r\n\r\n  // Apply data governance\r\n  static applyGovernance(data, user) {\r\n    const governance = {};\r\n\r\n    // Data quality validation\r\n    governance.qualityCheck = DataGovernance.validateDataQuality(data);\r\n\r\n    // Create approval workflow if needed\r\n    if (governance.qualityCheck.overallScore < 80) {\r\n      governance.workflow = DataGovernance.createApprovalWorkflow(\r\n        data,\r\n        ['data_steward', 'esg_manager', 'compliance_officer']\r\n      );\r\n    }\r\n\r\n    // Version control\r\n    governance.version = DataGovernance.createVersionControl(data, user);\r\n\r\n    return governance;\r\n  }\r\n\r\n  // Prepare for audit\r\n  static prepareForAudit(data, user) {\r\n    const auditPrep = {};\r\n\r\n    // Create evidence repository\r\n    auditPrep.evidenceRepo = AuditSupport.createEvidenceRepository(data, {\r\n      createdBy: user,\r\n      sourceDocuments: [],\r\n      calculations: [],\r\n      approvals: [],\r\n      accessLevel: 'internal'\r\n    });\r\n\r\n    // Audit checks\r\n    auditPrep.auditChecks = AuditSupport.performAuditChecks([data]);\r\n\r\n    // Readiness assessment\r\n    auditPrep.readiness = auditPrep.auditChecks.findings.length === 0;\r\n\r\n    return auditPrep;\r\n  }\r\n\r\n  // Generate comprehensive materiality assessment\r\n  static generateMaterialityAssessment(stakeholderResponses) {\r\n    const issues = [\r\n      {\r\n        name: 'Climate Change',\r\n        revenueImpact: 8,\r\n        costImpact: 7,\r\n        regulatoryRisk: 9,\r\n        environmentalImpact: 10,\r\n        socialImpact: 6,\r\n        stakeholderConcern: 9\r\n      },\r\n      {\r\n        name: 'Employee Wellbeing',\r\n        revenueImpact: 6,\r\n        costImpact: 5,\r\n        regulatoryRisk: 4,\r\n        environmentalImpact: 2,\r\n        socialImpact: 9,\r\n        stakeholderConcern: 8\r\n      },\r\n      {\r\n        name: 'Data Privacy',\r\n        revenueImpact: 7,\r\n        costImpact: 6,\r\n        regulatoryRisk: 8,\r\n        environmentalImpact: 1,\r\n        socialImpact: 5,\r\n        stakeholderConcern: 7\r\n      }\r\n    ];\r\n\r\n    const matrix = MaterialityAssessment.generateMaterialityMatrix(issues);\r\n    const materialTopics = MaterialityAssessment.identifyMaterialTopics(matrix, 7);\r\n\r\n    return {\r\n      matrix,\r\n      materialTopics,\r\n      stakeholderInput: stakeholderResponses,\r\n      recommendations: this.generateMaterialityRecommendations(materialTopics)\r\n    };\r\n  }\r\n\r\n  // Comprehensive supply chain assessment\r\n  static assessSupplyChain(suppliers, purchaseData) {\r\n    const assessment = {};\r\n\r\n    // ESG assessment for each supplier\r\n    assessment.supplierAssessments = suppliers.map(supplier => \r\n      SupplyChain.assessSupplierESG(supplier)\r\n    );\r\n\r\n    // Scope 3 emissions calculation\r\n    assessment.scope3Emissions = SupplyChain.calculateScope3Emissions(suppliers, purchaseData);\r\n\r\n    // Risk identification\r\n    assessment.risks = SupplyChain.identifySupplyChainRisks(suppliers);\r\n\r\n    // Overall supply chain score\r\n    const avgScore = assessment.supplierAssessments.reduce((sum, s) => sum + s.overall, 0) / suppliers.length;\r\n    assessment.overallScore = Math.round(avgScore);\r\n\r\n    // Recommendations\r\n    assessment.recommendations = this.generateSupplyChainRecommendations(assessment.risks);\r\n\r\n    return assessment;\r\n  }\r\n\r\n  // Generate comprehensive ESG report\r\n  static generateComprehensiveReport(companyData, options = {}) {\r\n    const reportData = {\r\n      companyName: companyData.companyName || 'ESG Company',\r\n      reportingPeriod: options.period || '2024',\r\n      framework: options.framework || 'GRI',\r\n      ...companyData\r\n    };\r\n\r\n    // Generate base report\r\n    const baseReport = ReportGenerator.generateESGReport(reportData, options.framework);\r\n\r\n    // Add enhanced sections\r\n    const enhancedReport = {\r\n      ...baseReport,\r\n      materialityAssessment: this.generateMaterialityAssessment(options.stakeholderResponses || {}),\r\n      supplyChainAssessment: options.suppliers ? this.assessSupplyChain(options.suppliers, options.purchaseData || []) : null,\r\n      dataQualityReport: this.generateDataQualityReport(companyData),\r\n      auditReadinessReport: this.generateAuditReadinessReport(companyData),\r\n      complianceStatus: this.generateComplianceStatus(companyData, options.framework)\r\n    };\r\n\r\n    return enhancedReport;\r\n  }\r\n\r\n  // Helper methods\r\n  static getIndustryBenchmark(metric) {\r\n    const benchmarks = {\r\n      'scope1Emissions': 50000,\r\n      'scope2Emissions': 30000,\r\n      'energyConsumption': 75000,\r\n      'employeeTurnover': 15,\r\n      'boardIndependence': 60\r\n    };\r\n    return benchmarks[metric] || 10000;\r\n  }\r\n\r\n  static generateMaterialityRecommendations(materialTopics) {\r\n    return materialTopics.map(topic => ({\r\n      topic: topic.name,\r\n      priority: topic.overallPriority,\r\n      recommendation: `Focus on ${topic.name} due to high materiality score of ${topic.overallPriority.toFixed(1)}`\r\n    }));\r\n  }\r\n\r\n  static generateSupplyChainRecommendations(risks) {\r\n    return risks\r\n      .filter(risk => risk.riskLevel === 'High')\r\n      .map(risk => ({\r\n        supplier: risk.supplierName,\r\n        actions: risk.recommendedActions\r\n      }));\r\n  }\r\n\r\n  static generateDataQualityReport(data) {\r\n    const entries = Array.isArray(data) ? data : [data];\r\n    const qualityChecks = entries.map(entry => DataGovernance.validateDataQuality(entry));\r\n    \r\n    return {\r\n      overallScore: qualityChecks.reduce((sum, check) => sum + check.overallScore, 0) / qualityChecks.length,\r\n      totalDataPoints: entries.length,\r\n      qualityDistribution: {\r\n        excellent: qualityChecks.filter(c => c.overallScore >= 90).length,\r\n        good: qualityChecks.filter(c => c.overallScore >= 70 && c.overallScore < 90).length,\r\n        needsImprovement: qualityChecks.filter(c => c.overallScore < 70).length\r\n      }\r\n    };\r\n  }\r\n\r\n  static generateAuditReadinessReport(data) {\r\n    const entries = Array.isArray(data) ? data : [data];\r\n    const auditChecks = entries.map(entry => AuditSupport.performAuditChecks([entry]));\r\n    \r\n    return {\r\n      readinessScore: auditChecks.filter(check => check.findings.length === 0).length / auditChecks.length * 100,\r\n      totalFindings: auditChecks.reduce((sum, check) => sum + check.findings.length, 0),\r\n      criticalIssues: auditChecks.reduce((sum, check) => sum + check.findings.filter(f => f.severity === 'high').length, 0)\r\n    };\r\n  }\r\n\r\n  static generateComplianceStatus(data, framework) {\r\n    const compliance = DataValidation.validateDataCompleteness(\r\n      { environmental: [data], social: [data], governance: [data] }\r\n    );\r\n    \r\n    return {\r\n      framework,\r\n      score: compliance.score,\r\n      status: compliance.score >= 80 ? 'compliant' : 'needs_improvement',\r\n      missingRequirements: compliance.missing,\r\n      recommendations: compliance.recommendations\r\n    };\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport default new ESGMasterIntegration();","import { useState, useCallback } from \"react\";\r\nimport * as XLSX from \"xlsx\";\r\nimport companyLogo from \"./companyLogo.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ESG_FRAMEWORKS } from \"./utils/esgFrameworks\";\r\nimport DataValidation from \"./utils/dataValidation\";\r\nimport { ESGMasterIntegration } from \"./utils/esgMasterIntegration\";\r\nimport { saveData } from \"./utils/storage\";\r\nimport APIService from \"./services/apiService\";\r\n\r\nfunction IndustryStandardDataEntry() {\r\n  const [formData, setFormData] = useState({\r\n    companyName: \"\",\r\n    reportingFramework: \"GRI\",\r\n    category: \"\",\r\n    metric: \"\",\r\n    value: \"\",\r\n    unit: \"\",\r\n    frameworkCode: \"\",\r\n    description: \"\",\r\n  });\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [dragOver, setDragOver] = useState(false);\r\n  const [validation, setValidation] = useState({});\r\n  const [processingStatus, setProcessingStatus] = useState(null);\r\n  const [enhancedAnalytics, setEnhancedAnalytics] = useState(null);\r\n\r\n  const handleChange = useCallback((field, value) => {\r\n    setFormData(prev => {\r\n      const updated = { ...prev, [field]: value };\r\n      \r\n      // Real-time validation\r\n      if (field === 'value' && updated.category && updated.metric) {\r\n        const result = DataValidation.validateESGData({ [updated.category]: { [updated.metric]: value } });\r\n        setValidation(result);\r\n        \r\n        // Show enhanced analytics for emissions data\r\n        if (updated.metric.toLowerCase().includes('emission') && value) {\r\n          try {\r\n            const analytics = ESGMasterIntegration.performAnalytics(updated);\r\n            setEnhancedAnalytics(analytics);\r\n          } catch (error) {\r\n            console.warn('Analytics error:', error);\r\n          }\r\n        }\r\n      }\r\n      \r\n      return updated;\r\n    });\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!formData.companyName || !formData.category || !formData.metric || !formData.value) {\r\n      alert(\"Please fill in all required fields.\");\r\n      return;\r\n    }\r\n\r\n    setProcessingStatus('Processing with ESG Master Integration...');\r\n\r\n    try {\r\n      const currentUser = localStorage.getItem('currentUser') || 'defaultUser';\r\n      \r\n      const submissionData = {\r\n        ...formData,\r\n        status: \"Pending\",\r\n        timestamp: new Date().toISOString(),\r\n      };\r\n\r\n      // Save data for current user\r\n      const existingUserData = JSON.parse(localStorage.getItem(`esgData_${currentUser}`) || '[]');\r\n      const updatedUserData = [...existingUserData, submissionData];\r\n      localStorage.setItem(`esgData_${currentUser}`, JSON.stringify(updatedUserData));\r\n      \r\n      // Backend API integration\r\n      const apiResults = await Promise.allSettled([\r\n        APIService.validateCompliance({ framework: formData.reportingFramework, data: submissionData }),\r\n        APIService.calculateGHG(submissionData)\r\n      ]);\r\n      \r\n      const backendStatus = apiResults.some(r => r.status === 'fulfilled' && !r.value.error) \r\n        ? ' Backend integrated' : ' Local only';\r\n      \r\n      setProcessingStatus(` Data saved with ESG validation! ${backendStatus}`);\r\n      \r\n      setTimeout(() => {\r\n        setProcessingStatus(null);\r\n        // Reset form completely\r\n        setFormData({\r\n          companyName: \"\",\r\n          reportingFramework: \"GRI\",\r\n          category: \"\",\r\n          metric: \"\",\r\n          value: \"\",\r\n          unit: \"\",\r\n          frameworkCode: \"\",\r\n          description: \"\",\r\n        });\r\n        setValidation({});\r\n        setEnhancedAnalytics(null);\r\n      }, 3000);\r\n      \r\n    } catch (error) {\r\n      console.error('Error submitting form:', error);\r\n      setProcessingStatus(` Error: ${error.message}`);\r\n      setTimeout(() => setProcessingStatus(null), 5000);\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = useCallback((file) => {\r\n    if (!file || file.size > 10 * 1024 * 1024) {\r\n      alert(\"File too large. Maximum size is 10MB.\");\r\n      return;\r\n    }\r\n    \r\n    const reader = new FileReader();\r\n    reader.onload = (event) => {\r\n      try {\r\n        const workbook = XLSX.read(event.target.result, { type: \"array\" });\r\n        const sheet = workbook.Sheets[workbook.SheetNames[0]];\r\n        const jsonData = XLSX.utils.sheet_to_json(sheet);\r\n        \r\n        if (!jsonData || jsonData.length === 0) {\r\n          throw new Error(\"File is empty or invalid\");\r\n        }\r\n        \r\n        const requiredColumns = ['CompanyName', 'Category', 'Metric', 'Value', 'Description'];\r\n        const firstRow = jsonData[0];\r\n        const missingColumns = requiredColumns.filter(col => \r\n          !firstRow || !Object.prototype.hasOwnProperty.call(firstRow, col)\r\n        );\r\n        \r\n        if (missingColumns.length > 0) {\r\n          throw new Error(`Missing required columns: ${missingColumns.join(', ')}`);\r\n        }\r\n\r\n        const formatted = jsonData.map((row, index) => {\r\n          const sanitizedCompanyName = String(row.CompanyName || '').trim();\r\n          if (!sanitizedCompanyName) {\r\n            throw new Error(`Row ${index + 1}: Company Name is required`);\r\n          }\r\n          \r\n          const category = String(row.Category || '').toLowerCase().trim();\r\n          if (!['environmental', 'social', 'governance'].includes(category)) {\r\n            throw new Error(`Row ${index + 1}: Category must be Environmental, Social, or Governance`);\r\n          }\r\n          \r\n          const numValue = parseFloat(row.Value);\r\n          if (isNaN(numValue)) {\r\n            throw new Error(`Row ${index + 1}: Value must be a number`);\r\n          }\r\n\r\n          return {\r\n            companyName: sanitizedCompanyName,\r\n            category: category,\r\n            metric: String(row.Metric || '').trim(),\r\n            value: numValue,\r\n            description: String(row.Description || '').trim(),\r\n            status: \"Pending\",\r\n            timestamp: new Date().toISOString(),\r\n          };\r\n        });\r\n\r\n        // Save bulk data for current user\r\n        const currentUser = localStorage.getItem('currentUser') || 'defaultUser';\r\n        const existingUserData = JSON.parse(localStorage.getItem(`esgData_${currentUser}`) || '[]');\r\n        const updatedUserData = [...existingUserData, ...formatted];\r\n        localStorage.setItem(`esgData_${currentUser}`, JSON.stringify(updatedUserData));\r\n        \r\n        setUploadProgress(100);\r\n        setTimeout(() => setUploadProgress(0), 2000);\r\n        // Enhanced bulk processing with ESG integration\r\n        const enhancedResults = [];\r\n        formatted.forEach(entry => {\r\n          try {\r\n            const result = ESGMasterIntegration.processESGData(entry, {\r\n              framework: 'GRI',\r\n              user: currentUser\r\n            });\r\n            if (result && !result.error) {\r\n              enhancedResults.push(result.processedData || entry);\r\n            }\r\n          } catch (error) {\r\n            console.warn('Processing error for entry:', error);\r\n          }\r\n        });\r\n        \r\n        alert(`${formatted.length} entries imported successfully with ESG validation. ${enhancedResults.length} passed comprehensive analysis.`);\r\n      } catch (error) {\r\n        alert(`Error importing file: ${error.message}`);\r\n        setUploadProgress(0);\r\n      }\r\n    };\r\n    reader.onprogress = (event) => {\r\n      if (event.lengthComputable) {\r\n        const progress = Math.round((event.loaded / event.total) * 100);\r\n        setUploadProgress(progress);\r\n      }\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  }, []);\r\n\r\n  const onFileChange = useCallback((e) => {\r\n    const file = e.target.files?.[0];\r\n    if (!file) return;\r\n    \r\n    const validTypes = ['application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'text/csv'];\r\n    const validExtensions = ['.xlsx', '.csv'];\r\n    \r\n    if (!validTypes.includes(file.type) && !validExtensions.some(ext => file.name.toLowerCase().endsWith(ext))) {\r\n      alert(\"Only .xlsx or .csv files are supported.\");\r\n      return;\r\n    }\r\n    \r\n    handleFileUpload(file);\r\n  }, [handleFileUpload]);\r\n\r\n  const onDrop = useCallback((e) => {\r\n    e.preventDefault();\r\n    setDragOver(false);\r\n    const file = e.dataTransfer.files?.[0];\r\n    if (!file) return;\r\n    \r\n    const validTypes = ['application/vnd.openxmlformats-officedocument.spreadsheetml.sheet', 'text/csv'];\r\n    const validExtensions = ['.xlsx', '.csv'];\r\n    \r\n    if (!validTypes.includes(file.type) && !validExtensions.some(ext => file.name.toLowerCase().endsWith(ext))) {\r\n      alert(\"Only .xlsx or .csv files are supported.\");\r\n      return;\r\n    }\r\n    \r\n    handleFileUpload(file);\r\n  }, [handleFileUpload]);\r\n\r\n  return (\r\n    <div className=\"bg-[#e9edf2] min-h-screen font-sans\">\r\n      {/* Navbar */}\r\n      <nav className=\"bg-gradient-to-r from-[#1b3a2d] to-[#2a4a33] flex items-center px-6 py-4 shadow-md\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <img src={companyLogo} alt=\"Logo\" className=\"w-8 h-8 rounded-full\" />\r\n          <h1 className=\"text-white text-xl font-semibold\">Industry Standard ESG Data Entry</h1>\r\n        </div>\r\n\r\n        <ul className=\"ml-auto flex gap-6 text-white text-sm\">\r\n          <li><Link to=\"/\" className=\"hover:underline\">Dashboard</Link></li>\r\n          <li><Link to=\"/data-entry\" className=\"hover:underline\">Data Entry</Link></li>\r\n          <li><Link to=\"/industry-standard-data-entry\" className=\"bg-[#4f6a56] px-3 py-1.5 rounded\">Industry Standard</Link></li>\r\n          <li><Link to=\"/reports\" className=\"hover:underline\">Reports</Link></li>\r\n          <li><Link to=\"/analytics\" className=\"hover:underline\">Analytics</Link></li>\r\n        </ul>\r\n      </nav>\r\n\r\n      <main className=\"max-w-4xl mx-auto mt-10 bg-white p-8 rounded-xl shadow\">\r\n        <h2 className=\"text-[#1b3a2d] font-extrabold text-2xl mb-6 border-b-2 pb-2 border-[#3a7a44]\">Industry Standard ESG Data Entry</h2>\r\n        \r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Company Name *</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.companyName}\r\n                onChange={(e) => handleChange('companyName', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-[#3a7a44] focus:border-transparent\"\r\n                placeholder=\"Enter company name\"\r\n                required\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Reporting Framework *</label>\r\n              <select\r\n                value={formData.reportingFramework}\r\n                onChange={(e) => handleChange('reportingFramework', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-[#3a7a44] focus:border-transparent\"\r\n                required\r\n              >\r\n                {Object.entries(ESG_FRAMEWORKS).map(([key, framework]) => (\r\n                  <option key={key} value={key}>{framework.name}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">ESG Category *</label>\r\n              <select\r\n                value={formData.category}\r\n                onChange={(e) => handleChange('category', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-[#3a7a44] focus:border-transparent\"\r\n                required\r\n              >\r\n                <option value=\"\">Select category</option>\r\n                <option value=\"environmental\">Environmental</option>\r\n                <option value=\"social\">Social</option>\r\n                <option value=\"governance\">Governance</option>\r\n              </select>\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Metric Name *</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.metric}\r\n                onChange={(e) => handleChange('metric', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-[#3a7a44] focus:border-transparent\"\r\n                placeholder=\"e.g., Carbon Emissions (tCO2e), Employee Satisfaction Score\"\r\n                required\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Value *</label>\r\n              <input\r\n                type=\"number\"\r\n                step=\"0.01\"\r\n                value={formData.value}\r\n                onChange={(e) => handleChange('value', e.target.value)}\r\n                className={`w-full border rounded-md px-4 py-2 focus:ring-2 focus:ring-[#3a7a44] focus:border-transparent ${\r\n                  validation.isValid === false ? 'border-red-500' : \r\n                  validation.warnings?.length > 0 ? 'border-yellow-500' : 'border-gray-300'\r\n                }`}\r\n                placeholder=\"Enter numeric value\"\r\n                required\r\n              />\r\n              {validation.errors?.map((error, idx) => (\r\n                <div key={idx} className=\"text-red-600 text-xs mt-1\">{error}</div>\r\n              ))}\r\n              {validation.warnings?.map((warning, idx) => (\r\n                <div key={idx} className=\"text-yellow-600 text-xs mt-1\">{warning}</div>\r\n              ))}\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Unit</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.unit}\r\n                onChange={(e) => handleChange('unit', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-[#3a7a44] focus:border-transparent\"\r\n                placeholder=\"e.g., tCO2e, %, MWh\"\r\n              />\r\n            </div>\r\n            \r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">Framework Code</label>\r\n              <input\r\n                type=\"text\"\r\n                value={formData.frameworkCode}\r\n                onChange={(e) => handleChange('frameworkCode', e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-4 py-2 focus:ring-2 focus:ring-[#3a7a44] focus:border-transparent\"\r\n                placeholder=\"e.g., GRI-305-1, SASB-EM-GHG\"\r\n              />\r\n            </div>\r\n          </div>\r\n          \r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Description</label>\r\n            <textarea\r\n              value={formData.description}\r\n              onChange={(e) => handleChange('description', e.target.value)}\r\n              className=\"w-full border border-gray-300 rounded-md px-4 py-2 h-24 focus:ring-2 focus:ring-[#3a7a44] focus:border-transparent\"\r\n              placeholder=\"Additional details about this metric (methodology, scope, etc.)\"\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"flex justify-between items-center\">\r\n            <div className=\"text-sm text-gray-600 space-y-1\">\r\n              {processingStatus && (\r\n                <div className=\"text-blue-600 font-medium\">{processingStatus}</div>\r\n              )}\r\n              {validation.isValid === false && (\r\n                <span className=\"text-red-600\"> Validation errors found</span>\r\n              )}\r\n              {validation.warnings?.length > 0 && (\r\n                <span className=\"text-yellow-600\"> {validation.warnings.length} warnings</span>\r\n              )}\r\n              {validation.warnings?.length === 0 && validation.isValid && formData.value && (\r\n                <span className=\"text-blue-600\"> ESG Quality: Excellent</span>\r\n              )}\r\n              {validation.isValid && !validation.warnings?.length && formData.value && (\r\n                <span className=\"text-green-600\"> Data validated & ESG-ready</span>\r\n              )}\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={validation.isValid === false}\r\n              className={`px-6 py-2 rounded-md font-medium transition-colors ${\r\n                validation.isValid === false \r\n                  ? 'bg-gray-400 text-gray-600 cursor-not-allowed'\r\n                  : 'bg-[#3a7a44] text-white hover:bg-[#2d5a35]'\r\n              }`}\r\n            >\r\n              Submit Data Entry\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        {/* Enhanced Analytics Display */}\r\n        {enhancedAnalytics && (\r\n          <div className=\"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200\">\r\n            <h4 className=\"font-semibold text-blue-800 mb-3\"> Real-time ESG Analytics</h4>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\r\n              {enhancedAnalytics.ghgCalculation && (\r\n                <div className=\"bg-white p-3 rounded border\">\r\n                  <div className=\"font-medium text-gray-700\">GHG Analysis</div>\r\n                  <div>Total Emissions: {enhancedAnalytics.ghgCalculation.totalEmissions.toLocaleString()} tCO2e</div>\r\n                  <div>Intensity: {enhancedAnalytics.ghgCalculation.intensity.toFixed(2)} tCO2e/revenue</div>\r\n                </div>\r\n              )}\r\n              {enhancedAnalytics.benchmark && (\r\n                <div className=\"bg-white p-3 rounded border\">\r\n                  <div className=\"font-medium text-gray-700\">Industry Benchmark</div>\r\n                  <div>Performance: {enhancedAnalytics.benchmark.performance.replace('_', ' ')}</div>\r\n                  <div>Gap: {enhancedAnalytics.benchmark.gap.toLocaleString()} units</div>\r\n                </div>\r\n              )}\r\n              {enhancedAnalytics.scenarioAnalysis && (\r\n                <div className=\"bg-white p-3 rounded border md:col-span-2\">\r\n                  <div className=\"font-medium text-gray-700 mb-2\">Climate Scenarios</div>\r\n                  <div className=\"grid grid-cols-3 gap-2 text-xs\">\r\n                    {enhancedAnalytics.scenarioAnalysis.map((scenario, idx) => (\r\n                      <div key={idx} className=\"bg-gray-50 p-2 rounded\">\r\n                        <div className=\"font-medium\">{scenario.name}</div>\r\n                        <div>Risk: {scenario.riskLevel}</div>\r\n                        <div>Cost: ${scenario.mitigationCost.toLocaleString()}</div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* File Upload Section */}\r\n        <div className=\"mt-8 border-t pt-6\">\r\n          <h3 className=\"text-xl font-semibold text-[#1b3a2d] mb-4\"> Bulk Data Import</h3>\r\n          <div\r\n            onDrop={onDrop}\r\n            onDragOver={(e) => { e.preventDefault(); setDragOver(true); }}\r\n            onDragLeave={() => setDragOver(false)}\r\n            className={`border-2 ${dragOver ? \"border-[#3a7a44] bg-green-50\" : \"border-dashed border-gray-300\"} p-6 rounded-lg text-center transition-colors`}\r\n          >\r\n            <div className=\"text-4xl mb-2\"></div>\r\n            <p className=\"text-gray-600 mb-2\">Drag & drop your Excel/CSV file here</p>\r\n            <p className=\"text-sm text-gray-500 mb-4\">or click to browse</p>\r\n            <input\r\n              type=\"file\"\r\n              accept=\".xlsx,.csv\"\r\n              onChange={onFileChange}\r\n              className=\"mb-4\"\r\n            />\r\n            <div className=\"text-xs text-gray-500 space-y-1\">\r\n              <p><strong>Required columns:</strong> CompanyName, Category, Metric, Value, Description</p>\r\n              <p><strong>Category values:</strong> Environmental, Social, Governance</p>\r\n              <p><strong>Supported formats:</strong> .xlsx, .csv</p>\r\n            </div>\r\n            \r\n            {uploadProgress > 0 && (\r\n              <div className=\"mt-4\">\r\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                  <div \r\n                    className=\"bg-[#3a7a44] h-2 rounded-full transition-all duration-300\"\r\n                    style={{ width: `${uploadProgress}%` }}\r\n                  />\r\n                </div>\r\n                <p className=\"text-sm text-gray-600 mt-1\">Processing... {uploadProgress}%</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Sample Data Template */}\r\n        <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\r\n          <h4 className=\"font-medium text-gray-700 mb-2\">Sample Excel/CSV Format:</h4>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full text-xs border border-gray-300\">\r\n              <thead className=\"bg-gray-100\">\r\n                <tr>\r\n                  <th className=\"border border-gray-300 px-2 py-1\">CompanyName</th>\r\n                  <th className=\"border border-gray-300 px-2 py-1\">Category</th>\r\n                  <th className=\"border border-gray-300 px-2 py-1\">Metric</th>\r\n                  <th className=\"border border-gray-300 px-2 py-1\">Value</th>\r\n                  <th className=\"border border-gray-300 px-2 py-1\">Description</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td className=\"border border-gray-300 px-2 py-1\">ABC Corp</td>\r\n                  <td className=\"border border-gray-300 px-2 py-1\">Environmental</td>\r\n                  <td className=\"border border-gray-300 px-2 py-1\">Carbon Emissions</td>\r\n                  <td className=\"border border-gray-300 px-2 py-1\">1250.5</td>\r\n                  <td className=\"border border-gray-300 px-2 py-1\">Total Scope 1 emissions in tCO2e</td>\r\n                </tr>\r\n                <tr>\r\n                  <td className=\"border border-gray-300 px-2 py-1\">ABC Corp</td>\r\n                  <td className=\"border border-gray-300 px-2 py-1\">Social</td>\r\n                  <td className=\"border border-gray-300 px-2 py-1\">Employee Satisfaction</td>\r\n                  <td className=\"border border-gray-300 px-2 py-1\">85</td>\r\n                  <td className=\"border border-gray-300 px-2 py-1\">Annual employee satisfaction survey score</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default IndustryStandardDataEntry;","// ESG Reporting Frameworks and Standards\r\nexport const ESG_FRAMEWORKS = {\r\n  GRI: {\r\n    name: \"GRI Standards\",\r\n    description: \"Global Reporting Initiative Standards\",\r\n    categories: {\r\n      environmental: {\r\n        \"GRI-302\": \"Energy\",\r\n        \"GRI-305\": \"Emissions\", \r\n        \"GRI-303\": \"Water and Effluents\",\r\n        \"GRI-306\": \"Waste\",\r\n        \"GRI-301\": \"Materials\",\r\n        \"GRI-304\": \"Biodiversity\",\r\n        \"GRI-307\": \"Environmental Compliance\"\r\n      },\r\n      social: {\r\n        \"GRI-401\": \"Employment\",\r\n        \"GRI-403\": \"Occupational Health and Safety\",\r\n        \"GRI-405\": \"Diversity and Equal Opportunity\",\r\n        \"GRI-404\": \"Training and Education\",\r\n        \"GRI-402\": \"Labor/Management Relations\",\r\n        \"GRI-406\": \"Non-discrimination\",\r\n        \"GRI-408\": \"Child Labor\",\r\n        \"GRI-409\": \"Forced or Compulsory Labor\",\r\n        \"GRI-410\": \"Security Practices\",\r\n        \"GRI-411\": \"Rights of Indigenous Peoples\",\r\n        \"GRI-413\": \"Local Communities\",\r\n        \"GRI-414\": \"Supplier Social Assessment\",\r\n        \"GRI-415\": \"Public Policy\",\r\n        \"GRI-416\": \"Customer Health and Safety\",\r\n        \"GRI-417\": \"Marketing and Labeling\",\r\n        \"GRI-418\": \"Customer Privacy\"\r\n      },\r\n      governance: {\r\n        \"GRI-2-9\": \"Governance structure and composition\",\r\n        \"GRI-205\": \"Anti-corruption\",\r\n        \"GRI-206\": \"Anti-competitive Behavior\",\r\n        \"GRI-207\": \"Tax\",\r\n        \"GRI-2-23\": \"Policy commitments\",\r\n        \"GRI-2-24\": \"Embedding policy commitments\",\r\n        \"GRI-2-25\": \"Processes to remediate negative impacts\",\r\n        \"GRI-2-26\": \"Mechanisms for seeking advice and raising concerns\"\r\n      }\r\n    }\r\n  },\r\n  SASB: {\r\n    name: \"SASB Standards\",\r\n    description: \"Sustainability Accounting Standards Board\",\r\n    categories: {\r\n      environmental: [\r\n        \"Energy Management\", \r\n        \"GHG Emissions\", \r\n        \"Water Management\",\r\n        \"Waste & Hazardous Materials Management\",\r\n        \"Air Quality\",\r\n        \"Energy Management in Manufacturing\",\r\n        \"Product Design & Lifecycle Management\",\r\n        \"Supply Chain Management\",\r\n        \"Materials Sourcing & Efficiency\"\r\n      ],\r\n      social: [\r\n        \"Labor Practices\", \r\n        \"Employee Health & Safety\", \r\n        \"Human Rights & Community Relations\",\r\n        \"Customer Privacy\",\r\n        \"Data Security\",\r\n        \"Access & Affordability\",\r\n        \"Product Quality & Safety\",\r\n        \"Customer Welfare\",\r\n        \"Selling Practices & Product Labeling\"\r\n      ],\r\n      governance: [\r\n        \"Business Ethics\", \r\n        \"Competitive Behavior\", \r\n        \"Management of Legal & Regulatory Environment\",\r\n        \"Critical Incident Risk Management\",\r\n        \"Systemic Risk Management\",\r\n        \"Technology Disruption\",\r\n        \"Business Model Resilience\",\r\n        \"Supply Chain Management\",\r\n        \"Materials Sourcing & Efficiency\"\r\n      ]\r\n    },\r\n    industries: {\r\n      \"Technology & Communications\": {\r\n        \"Hardware\": [\"Product Lifecycle Management\", \"Materials Sourcing\", \"Data Security\"],\r\n        \"Software & Services\": [\"Environmental Footprint of Hardware Infrastructure\", \"Data Privacy & Freedom of Expression\", \"Data Security\"],\r\n        \"Telecommunications\": [\"Environmental Footprint of Hardware Infrastructure\", \"Data Privacy\", \"Product End-of-life Management\"]\r\n      },\r\n      \"Financials\": {\r\n        \"Commercial Banks\": [\"Data Security\", \"Financial Inclusion & Capacity Building\", \"Incorporation of ESG Factors in Credit Analysis\"],\r\n        \"Investment Banking & Brokerage\": [\"Transparent Information & Fair Advice for Customers\", \"Employee Diversity & Inclusion\", \"Incorporation of ESG Factors in Investment Banking & Brokerage Activities\"]\r\n      },\r\n      \"Healthcare\": {\r\n        \"Biotechnology & Pharmaceuticals\": [\"Safety of Clinical Trial Participants\", \"Access to Medicines\", \"Affordability & Pricing\"],\r\n        \"Medical Equipment & Supplies\": [\"Product Safety & Quality\", \"Ethical Marketing\", \"Product Design & Lifecycle Management\"]\r\n      }\r\n    }\r\n  },\r\n  TCFD: {\r\n    name: \"TCFD Recommendations\", \r\n    description: \"Task Force on Climate-related Financial Disclosures\",\r\n    pillars: [\"Governance\", \"Strategy\", \"Risk Management\", \"Metrics and Targets\"]\r\n  },\r\n  CSRD: {\r\n    name: \"CSRD/ESRS\",\r\n    description: \"Corporate Sustainability Reporting Directive\",\r\n    standards: [\"ESRS E1-E5 (Environmental)\", \"ESRS S1-S4 (Social)\", \"ESRS G1-G2 (Governance)\"]\r\n  }\r\n};\r\n\r\nexport const STANDARD_METRICS = {\r\n  environmental: {\r\n    scope1Emissions: { unit: \"tCO2e\", framework: \"GRI-305-1\", description: \"Direct GHG emissions\" },\r\n    scope2Emissions: { unit: \"tCO2e\", framework: \"GRI-305-2\", description: \"Energy indirect GHG emissions\" },\r\n    scope3Emissions: { unit: \"tCO2e\", framework: \"GRI-305-3\", description: \"Other indirect GHG emissions\" },\r\n    energyConsumption: { unit: \"MWh\", framework: \"GRI-302-1\", description: \"Energy consumption within organization\" },\r\n    renewableEnergyPercentage: { unit: \"%\", framework: \"GRI-302-1\", description: \"Renewable energy share\" },\r\n    waterWithdrawal: { unit: \"m\", framework: \"GRI-303-3\", description: \"Water withdrawal\" },\r\n    wasteGenerated: { unit: \"tonnes\", framework: \"GRI-306-3\", description: \"Waste generated\" }\r\n  },\r\n  social: {\r\n    totalEmployees: { unit: \"count\", framework: \"GRI-2-7\", description: \"Total number of employees\" },\r\n    femaleEmployeesPercentage: { unit: \"%\", framework: \"GRI-405-1\", description: \"Female employees percentage\" },\r\n    lostTimeInjuryRate: { unit: \"rate\", framework: \"GRI-403-9\", description: \"Lost-time injury frequency rate\" },\r\n    trainingHoursPerEmployee: { unit: \"hours\", framework: \"GRI-404-1\", description: \"Average training hours per employee\" }\r\n  },\r\n  governance: {\r\n    boardSize: { unit: \"count\", framework: \"GRI-2-9\", description: \"Total board members\" },\r\n    independentDirectorsPercentage: { unit: \"%\", framework: \"GRI-2-9\", description: \"Independent directors percentage\" },\r\n    ethicsTrainingCompletion: { unit: \"%\", framework: \"GRI-205-2\", description: \"Ethics training completion rate\" }\r\n  }\r\n};\r\n\r\nexport const MATERIALITY_TOPICS = [\r\n  { id: \"climate_change\", name: \"Climate Change\", category: \"environmental\" },\r\n  { id: \"energy_management\", name: \"Energy Management\", category: \"environmental\" },\r\n  { id: \"water_management\", name: \"Water Management\", category: \"environmental\" },\r\n  { id: \"waste_management\", name: \"Waste & Circular Economy\", category: \"environmental\" },\r\n  { id: \"employee_wellbeing\", name: \"Employee Health & Wellbeing\", category: \"social\" },\r\n  { id: \"diversity_inclusion\", name: \"Diversity & Inclusion\", category: \"social\" },\r\n  { id: \"human_rights\", name: \"Human Rights\", category: \"social\" },\r\n  { id: \"data_privacy\", name: \"Data Privacy & Security\", category: \"governance\" },\r\n  { id: \"business_ethics\", name: \"Business Ethics & Anti-corruption\", category: \"governance\" },\r\n  { id: \"supply_chain\", name: \"Supply Chain Management\", category: \"governance\" }\r\n];","// Reporting & Visualization Module\r\nexport class ReportGenerator {\r\n  static generateESGReport(data, framework = 'GRI') {\r\n    return {\r\n      executiveSummary: this.generateExecutiveSummary(data),\r\n      environmentalSection: this.generateEnvironmentalSection(data.environmental),\r\n      socialSection: this.generateSocialSection(data.social),\r\n      governanceSection: this.generateGovernanceSection(data.governance),\r\n      kpiDashboard: this.generateKPIDashboard(data),\r\n      frameworkMapping: this.mapToFramework(data, framework),\r\n      generatedAt: new Date().toISOString()\r\n    };\r\n  }\r\n\r\n  static generateExecutiveSummary(data) {\r\n    const highlights = this.identifyKeyHighlights(data);\r\n    return {\r\n      overview: `ESG performance summary for ${data.companyName}`,\r\n      keyAchievements: highlights.achievements,\r\n      challenges: highlights.challenges,\r\n      targets: highlights.targets,\r\n      materialTopics: highlights.materialTopics\r\n    };\r\n  }\r\n\r\n  static generateEnvironmentalSection(envData) {\r\n    return {\r\n      climateChange: {\r\n        ghgEmissions: envData.ghgEmissions,\r\n        energyConsumption: envData.energyConsumption,\r\n        renewableEnergyShare: envData.renewableEnergyShare\r\n      },\r\n      resourceManagement: {\r\n        waterUsage: envData.waterUsage,\r\n        wasteGeneration: envData.wasteGeneration,\r\n        recyclingRate: envData.recyclingRate\r\n      },\r\n      biodiversity: envData.biodiversityImpacts || [],\r\n      targets: envData.environmentalTargets || []\r\n    };\r\n  }\r\n\r\n  static generateSocialSection(socialData) {\r\n    return {\r\n      workforce: {\r\n        diversity: socialData.diversity,\r\n        turnover: socialData.turnover,\r\n        training: socialData.training\r\n      },\r\n      healthSafety: {\r\n        incidentRate: socialData.incidentRate,\r\n        safetyTraining: socialData.safetyTraining\r\n      },\r\n      community: {\r\n        investments: socialData.communityInvestments,\r\n        programs: socialData.communityPrograms\r\n      },\r\n      humanRights: socialData.humanRights || {}\r\n    };\r\n  }\r\n\r\n  static generateGovernanceSection(govData) {\r\n    return {\r\n      boardStructure: {\r\n        independence: govData.boardIndependence,\r\n        diversity: govData.boardDiversity,\r\n        size: govData.boardSize\r\n      },\r\n      ethics: {\r\n        codeOfConduct: govData.codeOfConduct,\r\n        trainingCompletion: govData.ethicsTraining,\r\n        violations: govData.ethicsViolations\r\n      },\r\n      riskManagement: govData.riskManagement || {},\r\n      transparency: govData.transparency || {}\r\n    };\r\n  }\r\n\r\n  static generateKPIDashboard(data) {\r\n    return {\r\n      environmental: [\r\n        { metric: 'GHG Emissions', value: data.environmental?.ghgEmissions, unit: 'tCO2e', trend: 'decreasing' },\r\n        { metric: 'Energy Intensity', value: data.environmental?.energyIntensity, unit: 'kWh/revenue', trend: 'stable' }\r\n      ],\r\n      social: [\r\n        { metric: 'Employee Turnover', value: data.social?.turnover, unit: '%', trend: 'improving' },\r\n        { metric: 'Safety Incidents', value: data.social?.incidentRate, unit: 'per 100k hours', trend: 'decreasing' }\r\n      ],\r\n      governance: [\r\n        { metric: 'Board Independence', value: data.governance?.boardIndependence, unit: '%', trend: 'stable' },\r\n        { metric: 'Ethics Training', value: data.governance?.ethicsTraining, unit: '%', trend: 'increasing' }\r\n      ]\r\n    };\r\n  }\r\n\r\n  static mapToFramework(data, framework) {\r\n    const mappings = {\r\n      GRI: {\r\n        'GRI 305-1': data.environmental?.scope1Emissions,\r\n        'GRI 305-2': data.environmental?.scope2Emissions,\r\n        'GRI 401-1': data.social?.newHires,\r\n        'GRI 405-1': data.social?.diversity\r\n      },\r\n      SASB: {\r\n        'EM-GHG-110a.1': data.environmental?.totalEmissions,\r\n        'EM-GHG-110a.2': data.environmental?.emissionIntensity\r\n      },\r\n      TCFD: {\r\n        governance: data.governance?.climateGovernance,\r\n        strategy: data.environmental?.climateStrategy,\r\n        riskManagement: data.governance?.climateRiskManagement,\r\n        metrics: data.environmental?.climateMetrics\r\n      }\r\n    };\r\n    \r\n    return mappings[framework] || {};\r\n  }\r\n\r\n  static identifyKeyHighlights(data) {\r\n    return {\r\n      achievements: [\r\n        'Reduced GHG emissions by 15%',\r\n        'Achieved 40% board diversity',\r\n        'Zero safety incidents this quarter'\r\n      ],\r\n      challenges: [\r\n        'Scope 3 emissions tracking',\r\n        'Supply chain transparency',\r\n        'Data quality improvements needed'\r\n      ],\r\n      targets: [\r\n        'Net zero by 2050',\r\n        '50% renewable energy by 2025',\r\n        '100% supplier ESG assessment by 2024'\r\n      ],\r\n      materialTopics: [\r\n        'Climate Change',\r\n        'Employee Wellbeing',\r\n        'Data Privacy',\r\n        'Supply Chain Ethics'\r\n      ]\r\n    };\r\n  }\r\n\r\n  static exportToPDF(report) {\r\n    // Simulate PDF generation\r\n    return {\r\n      format: 'PDF',\r\n      size: '2.5MB',\r\n      pages: 45,\r\n      downloadUrl: '/reports/esg-report.pdf',\r\n      generatedAt: new Date().toISOString()\r\n    };\r\n  }\r\n\r\n  static exportToXBRL(report, taxonomy) {\r\n    // Simulate XBRL generation\r\n    return {\r\n      format: 'XBRL',\r\n      taxonomy,\r\n      size: '1.2MB',\r\n      downloadUrl: '/reports/esg-report.xbrl',\r\n      generatedAt: new Date().toISOString()\r\n    };\r\n  }\r\n}"],"names":["ESGAnalytics","calculateGHGEmissions","data","scope1","scope2","scope3","totalEmissions","intensity","revenue","performScenarioAnalysis","baseData","scenarios","map","scenario","name","projectedEmissions","emissions","factor","riskLevel","mitigationCost","costPerTonne","calculateTrends","historicalData","sorted","sort","a","b","Date","date","trend","length","value","toFixed","direction","volatility","this","calculateVolatility","values","d","mean","reduce","variance","Math","pow","sqrt","benchmarkAgainstIndustry","companyData","industryAverage","performance","percentile","gap","abs","RegulatoryCompliance","generateXBRLTags","framework","GRI","tag","newHires","SASB","mapToDisclosureRequirements","standard","CSRD","E1","E2","S1","G1","TCFD","governance","strategy","risk_management","metrics","createAuditTrail","action","user","timestamp","arguments","undefined","id","now","toString","JSON","stringify","toISOString","hash","generateHash","input","i","charCodeAt","validateDataLineage","dataPoint","isValid","source","completeness","calculateCompleteness","traceability","auditTrail","requiredFields","filter","field","MaterialityAssessment","createStakeholderSurvey","stakeholderType","questions","investor","employee","customer","calculateMaterialityScore","responses","finalWeights","totalScore","totalWeight","Object","entries","forEach","_ref","stakeholder","score","generateMaterialityMatrix","issues","issue","financialMateriality","assessFinancialMateriality","impactMateriality","assessImpactMateriality","overallPriority","calculatePriority","factors","revenue_impact","revenueImpact","cost_impact","costImpact","regulatory_risk","regulatoryRisk","environmental_impact","environmentalImpact","social_impact","socialImpact","stakeholder_concern","stakeholderConcern","financial","impact","identifyMaterialTopics","matrix","threshold","item","SupplyChain","assessSupplierESG","supplier","assessment","environmental","assessEnvironmentalPerformance","social","assessSocialPerformance","assessGovernancePerformance","overall","_supplier$environment","carbonFootprint","wasteManagement","energyEfficiency","certifications","environmentalCertifications","laborStandards","healthSafety","humanRights","communityImpact","transparency","ethics","compliance","riskManagement","calculateScope3Emissions","suppliers","purchaseData","totalSpend","p","supplierId","sum","amount","emissionFactor","supplierName","estimatedEmissions","category","identifySupplyChainRisks","_supplier$certificati","risks","esgScore","push","location","isHighRiskCountry","auditDate","isAuditOverdue","calculateRiskLevel","recommendedActions","getRecommendedActions","country","includes","oneYearAgo","setFullYear","getFullYear","riskCount","actions","risk","Boolean","DataGovernance","validateDataQuality","checks","checkCompleteness","accuracy","checkAccuracy","consistency","checkConsistency","timeliness","checkTimeliness","validity","checkValidity","overallScore","check","round","identifyIssues","recommendations","getRecommendations","presentFields","missingFields","status","_data$metric","_data$metric2","_data$unit","metric","toLowerCase","unit","max","getHistoricalData","companyName","avgValue","daysOld","getTime","_data$category","isNaN","createApprovalWorkflow","approvers","currentApprover","approvalHistory","createdAt","deadline","processApproval","workflowId","approverId","decision","comments","workflow","getWorkflow","approval","currentIndex","indexOf","createVersionControl","_existingVersions","existingVersions","getVersions","newVersion","version","changes","identifyChanges","saveVersions","oldData","newData","keys","key","dataId","parse","localStorage","getItem","versions","setItem","checkType","result","_result$issues","join","_ref2","AuditSupport","createEvidenceRepository","evidence","dataPointId","sourceDocuments","calculations","approvals","thirdPartyVerification","metadata","createdBy","lastUpdated","accessLevel","initializeAuditTrail","details","logAuditEvent","repositoryId","repository","getEvidenceRepository","auditEvent","sessionId","generateSessionId","saveEvidenceRepository","lockDataForAudit","auditorId","lockReason","lock","lockedAt","unlockConditions","saveLock","unlockDataAfterAudit","auditResults","getLock","Error","unlockedAt","generateAuditReport","dataSet","auditorInfo","auditFindings","performAuditChecks","auditId","auditor","scope","dataPoints","categories","Set","timeframe","getTimeframe","findings","opinion","determineAuditOpinion","generateRecommendations","assuranceLevel","completedAt","completenessCheck","checkDataCompleteness","type","severity","description","accuracyCheck","checkCalculationAccuracy","errors","evidenceCheck","checkSupportingEvidence","missing","complianceCheck","checkStandardsCompliance","violations","index","calculationMethod","canBeNegative","frameworkCode","isValidFrameworkCode","isUnitConsistent","highSeverityCount","f","mediumSeverityCount","finding","grantAuditorAccess","dataScope","permissions","access","grantedAt","expiresAt","saveAuditorAccess","revokeAuditorAccess","getAuditorAccess","revokedAt","some","term","code","pattern","test","consistencyRules","emission","energy","water","waste","metricType","find","random","substr","_dates$","_dates","dates","from","to","DataIntegration","connectERP","config","connectHR","connectIoT","sensorId","syncSupplierData","floor","lastAudit","ESGMasterIntegration","processESGData","rawData","options","pipeline","step1_validation","step2_integration","step3_analytics","step4_compliance","step5_governance","step6_audit","final_result","validation","DataValidation","validateESGData","integrateExternal","integrateExternalData","performAnalytics","checkCompliance","applyGovernance","prepareForAudit","processedData","analytics","auditInfo","processingMetadata","processedAt","qualityScore","complianceScore","auditReadiness","readiness","error","message","integrations","erp","system","hr","iot","ghgCalculation","scenarioAnalysis","benchmark","getIndustryBenchmark","xbrlTags","disclosureMapping","frameworkValidation","validateDataCompleteness","qualityCheck","auditPrep","evidenceRepo","auditChecks","generateMaterialityAssessment","stakeholderResponses","materialTopics","stakeholderInput","generateMaterialityRecommendations","assessSupplyChain","supplierAssessments","scope3Emissions","avgScore","s","generateSupplyChainRecommendations","generateComprehensiveReport","reportData","reportingPeriod","period","ReportGenerator","generateESGReport","materialityAssessment","supplyChainAssessment","dataQualityReport","generateDataQualityReport","auditReadinessReport","generateAuditReadinessReport","complianceStatus","generateComplianceStatus","topic","priority","recommendation","Array","isArray","qualityChecks","entry","totalDataPoints","qualityDistribution","excellent","c","good","needsImprovement","readinessScore","totalFindings","criticalIssues","missingRequirements","_validation$warnings","_validation$errors","_validation$warnings2","_validation$warnings3","_validation$warnings4","_validation$warnings5","formData","setFormData","useState","reportingFramework","uploadProgress","setUploadProgress","dragOver","setDragOver","setValidation","processingStatus","setProcessingStatus","enhancedAnalytics","setEnhancedAnalytics","handleChange","useCallback","prev","updated","console","warn","handleFileUpload","file","size","alert","reader","FileReader","onload","event","workbook","XLSX","target","sheet","Sheets","SheetNames","jsonData","sheet_to_json","requiredColumns","firstRow","missingColumns","col","prototype","hasOwnProperty","call","formatted","row","sanitizedCompanyName","String","CompanyName","trim","Category","numValue","parseFloat","Value","Metric","Description","currentUser","updatedUserData","setTimeout","enhancedResults","onprogress","lengthComputable","progress","loaded","total","readAsArrayBuffer","onFileChange","e","_e$target$files","files","ext","endsWith","onDrop","_e$dataTransfer$files","preventDefault","dataTransfer","_jsxs","className","children","_jsx","src","companyLogo","alt","Link","onSubmit","async","submissionData","backendStatus","Promise","allSettled","APIService","validateCompliance","calculateGHG","r","onChange","placeholder","required","ESG_FRAMEWORKS","step","warnings","idx","warning","disabled","toLocaleString","replace","onDragOver","onDragLeave","accept","style","width","industries","pillars","standards","STANDARD_METRICS","scope1Emissions","scope2Emissions","energyConsumption","renewableEnergyPercentage","waterWithdrawal","wasteGenerated","totalEmployees","femaleEmployeesPercentage","lostTimeInjuryRate","trainingHoursPerEmployee","boardSize","independentDirectorsPercentage","ethicsTrainingCompletion","MATERIALITY_TOPICS","executiveSummary","generateExecutiveSummary","environmentalSection","generateEnvironmentalSection","socialSection","generateSocialSection","governanceSection","generateGovernanceSection","kpiDashboard","generateKPIDashboard","frameworkMapping","mapToFramework","generatedAt","highlights","identifyKeyHighlights","overview","keyAchievements","achievements","challenges","targets","envData","climateChange","ghgEmissions","renewableEnergyShare","resourceManagement","waterUsage","wasteGeneration","recyclingRate","biodiversity","biodiversityImpacts","environmentalTargets","socialData","workforce","diversity","turnover","training","incidentRate","safetyTraining","community","investments","communityInvestments","programs","communityPrograms","govData","boardStructure","independence","boardIndependence","boardDiversity","codeOfConduct","trainingCompletion","ethicsTraining","ethicsViolations","_data$environmental","_data$environmental2","_data$social","_data$social2","_data$governance","_data$governance2","energyIntensity","_data$environmental3","_data$environmental4","_data$social3","_data$social4","_data$environmental5","_data$environmental6","_data$governance3","_data$environmental7","_data$governance4","_data$environmental8","emissionIntensity","climateGovernance","climateStrategy","climateRiskManagement","climateMetrics","exportToPDF","report","format","pages","downloadUrl","exportToXBRL","taxonomy"],"sourceRoot":""}