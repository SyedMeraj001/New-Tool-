"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[265],{5265:(e,t,a)=>{a.r(t),a.d(t,{default:()=>me});var s=a(5043),r=a(108),n=a(2291),i=a(7734),l=a(2185),o=a(760),c=a(379),d=a(6028),m=a(6992),x=a(6102),p=a(7869),h=a(95),g=a(5748),u=a(2310),v=a(6169),y=(a(7548),a(1894)),b=(a(3234),a(7762)),f=(a(5239),a(3005)),j=a(6110),N=a(5275),S=a(9304),C=a(5571),w=a(9320);var F=a(6482);const E=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GRI";const a={framework:t,totalRequirements:0,metRequirements:0,missingRequirements:[],complianceScore:0,categoryScores:{}},s=Array.isArray(e)?e:[];if("GRI"===t){const e={environmental:["scope1Emissions","scope2Emissions","energyConsumption","waterWithdrawal","wasteGenerated"],social:["totalEmployees","femaleEmployeesPercentage","trainingHoursPerEmployee","lostTimeInjuryRate"],governance:["boardSize","independentDirectorsPercentage","ethicsTrainingCompletion","corruptionIncidents"]};Object.entries(e).forEach(e=>{let[t,r]=e;const n=s.filter(e=>{var a;return(null===(a=e.category)||void 0===a?void 0:a.toLowerCase())===t.toLowerCase()}),i=new Set(n.map(e=>e.metric)),l=r.filter(e=>i.has(e)||n.some(t=>{var a;return null===(a=t.metric)||void 0===a?void 0:a.includes(e.replace(/([A-Z])/g,"_$1").toLowerCase().substring(1))}));a.categoryScores[t]={total:r.length,met:l.length,percentage:Math.round(l.length/r.length*100),missing:r.filter(e=>!l.includes(e))},a.totalRequirements+=r.length,a.metRequirements+=l.length,a.missingRequirements.push(...a.categoryScores[t].missing)})}if("SASB"===t){const e={environmental:["energyConsumption","renewableEnergy","waterWithdrawal","ghgEmissions"],social:["employeeDiversity","dataPrivacy","customerSatisfaction"],governance:["dataSecurity","businessEthics","riskManagement"]};Object.entries(e).forEach(e=>{let[t,r]=e;const n=s.filter(e=>{var a;return(null===(a=e.category)||void 0===a?void 0:a.toLowerCase())===t.toLowerCase()}),i=new Set(n.map(e=>e.metric)),l=r.filter(e=>i.has(e)||n.some(t=>{var a;return null===(a=t.metric)||void 0===a?void 0:a.includes(e.replace(/([A-Z])/g,"_$1").toLowerCase().substring(1))}));a.categoryScores[t]={total:r.length,met:l.length,percentage:Math.round(l.length/r.length*100),missing:r.filter(e=>!l.includes(e))},a.totalRequirements+=r.length,a.metRequirements+=l.length,a.missingRequirements.push(...a.categoryScores[t].missing)})}if("TCFD"===t){const e={governance:["boardOversight","managementRole"],strategy:["climateRisks","businessImpact"],risk_management:["riskIdentification","riskAssessment"],metrics_targets:["scope1Emissions","scope2Emissions","scope3Emissions"]};Object.entries(e).forEach(e=>{let[t,r]=e;const n=new Set(s.map(e=>e.metric)),i=r.filter(e=>n.has(e)||s.some(t=>{var a;return null===(a=t.metric)||void 0===a?void 0:a.includes(e.replace(/([A-Z])/g,"_$1").toLowerCase().substring(1))}));a.categoryScores[t]={total:r.length,met:i.length,percentage:Math.round(i.length/r.length*100),missing:r.filter(e=>!i.includes(e))},a.totalRequirements+=r.length,a.metRequirements+=i.length,a.missingRequirements.push(...a.categoryScores[t].missing)})}if("BRSR"===t){const e={environmental:["energyConsumption","ghgEmissions","waterUsage","wasteManagement"],social:["employeeWellbeing","diversityInclusion","communityInvestment"],governance:["boardComposition","ethicsCompliance","stakeholderEngagement"]};Object.entries(e).forEach(e=>{let[t,r]=e;const n=s.filter(e=>{var a;return(null===(a=e.category)||void 0===a?void 0:a.toLowerCase())===t.toLowerCase()}),i=new Set(n.map(e=>e.metric)),l=r.filter(e=>i.has(e)||n.some(t=>{var a;return null===(a=t.metric)||void 0===a?void 0:a.includes(e.replace(/([A-Z])/g,"_$1").toLowerCase().substring(1))}));a.categoryScores[t]={total:r.length,met:l.length,percentage:Math.round(l.length/r.length*100),missing:r.filter(e=>!l.includes(e))},a.totalRequirements+=r.length,a.metRequirements+=l.length,a.missingRequirements.push(...a.categoryScores[t].missing)})}return a.complianceScore=a.totalRequirements>0?Math.round(a.metRequirements/a.totalRequirements*100):0,a};var R=a(579);const $=()=>{var e,t;const{isDark:a}=(0,f.D)(),r=(0,j.Y)(a),[n,i]=(0,s.useState)("GRI"),[l,o]=(0,s.useState)({}),[c,d]=(0,s.useState)([]),[m,x]=(0,s.useState)(0);(0,s.useEffect)(()=>{p()},[]),(0,s.useEffect)(()=>{h()},[c,n]);const p=async()=>{try{const e=await(0,v.YF)();d(e||[])}catch(e){console.error("Error loading ESG data:",e)}},h=()=>{if(!c.length)return;const e=F.MY[n];if(!e)return;let t=0,a=0;const s={};"GRI"===n&&Object.entries(e.categories).forEach(e=>{let[r,n]=e;const i=c.filter(e=>{var t;return(null===(t=e.category)||void 0===t?void 0:t.toLowerCase())===r.toLowerCase()}),l=Object.keys(n).length,o=Object.keys(n).filter(e=>i.some(t=>{var a;return t.framework===e||(null===(a=t.metric)||void 0===a?void 0:a.includes(e.split("-")[1]))})).length;s[r]={total:l,met:o,percentage:Math.round(o/l*100)},t+=l,a+=o}),"SASB"===n&&Object.entries(e.categories).forEach(e=>{let[r,n]=e;const i=c.filter(e=>{var t;return(null===(t=e.category)||void 0===t?void 0:t.toLowerCase())===r.toLowerCase()}),l=n.length,o=n.filter(e=>i.some(t=>{var a,s;return(null===(a=t.metric)||void 0===a?void 0:a.toLowerCase().includes(e.toLowerCase().split(" ")[0]))||(null===(s=t.description)||void 0===s?void 0:s.toLowerCase().includes(e.toLowerCase()))})).length;s[r]={total:l,met:o,percentage:Math.round(o/l*100)},t+=l,a+=o}),o(s),x(t>0?Math.round(a/t*100):0)},g=e=>e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600";return(0,R.jsx)("div",{className:`min-h-screen ${r.background} p-6`,children:(0,R.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,R.jsxs)("div",{className:"mb-6",children:[(0,R.jsx)("h1",{className:`text-3xl font-bold ${r.text} mb-2`,children:"Framework Compliance"}),(0,R.jsx)("p",{className:`${r.textSecondary}`,children:"Monitor compliance with GRI, SASB, and other ESG reporting frameworks"})]}),(0,R.jsx)("div",{className:"mb-6",children:(0,R.jsx)("div",{className:"flex space-x-4",children:Object.keys(F.MY).map(e=>(0,R.jsx)("button",{onClick:()=>i(e),className:"px-4 py-2 rounded-lg font-medium transition-colors "+(n===e?"bg-blue-600 text-white":`${r.cardBg} ${r.text} border ${r.border} hover:bg-blue-50`),children:e},e))})}),(0,R.jsx)("div",{className:`p-6 rounded-lg ${r.cardBg} border ${r.border} mb-6`,children:(0,R.jsxs)("div",{className:"flex items-center justify-between",children:[(0,R.jsxs)("div",{children:[(0,R.jsxs)("h2",{className:`text-xl font-semibold ${r.text}`,children:[null===(e=F.MY[n])||void 0===e?void 0:e.name," Compliance"]}),(0,R.jsx)("p",{className:`${r.textSecondary} mt-1`,children:null===(t=F.MY[n])||void 0===t?void 0:t.description})]}),(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsxs)("div",{className:`text-3xl font-bold ${g(m)}`,children:[m,"%"]}),(0,R.jsx)("div",{className:`text-sm ${r.textSecondary}`,children:(u=m,u>=80?"Compliant":u>=60?"Partially Compliant":"Non-Compliant")})]})]})}),"GRI"===n&&(()=>{const e=F.MY.GRI;return(0,R.jsx)("div",{className:"space-y-6",children:(0,R.jsxs)("div",{className:`p-4 rounded-lg ${r.cardBg} border ${r.border}`,children:[(0,R.jsx)("h3",{className:`text-lg font-semibold ${r.text} mb-4`,children:"GRI Standards Compliance"}),Object.entries(e.categories).map(e=>{let[t,a]=e;const s=l[t]||{total:0,met:0,percentage:0};return(0,R.jsxs)("div",{className:"mb-6",children:[(0,R.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,R.jsx)("h4",{className:`font-medium ${r.text} capitalize`,children:t}),(0,R.jsxs)("span",{className:`text-sm font-medium ${g(s.percentage)}`,children:[s.percentage,"% (",s.met,"/",s.total,")"]})]}),(0,R.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:(0,R.jsx)("div",{className:"h-2 rounded-full "+(s.percentage>=80?"bg-green-500":s.percentage>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${s.percentage}%`}})}),(0,R.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:Object.entries(a).map(e=>{let[t,a]=e;const s=c.some(e=>{var a;return e.framework===t||(null===(a=e.metric)||void 0===a?void 0:a.includes(t.split("-")[1]))});return(0,R.jsxs)("div",{className:"p-2 rounded text-sm "+(s?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:[(0,R.jsxs)("span",{className:"font-medium",children:[t,":"]})," ",a,s&&(0,R.jsx)("span",{className:"ml-2",children:"\u2713"})]},t)})})]},t)})]})})})(),"SASB"===n&&(()=>{const e=F.MY.SASB;return(0,R.jsx)("div",{className:"space-y-6",children:(0,R.jsxs)("div",{className:`p-4 rounded-lg ${r.cardBg} border ${r.border}`,children:[(0,R.jsx)("h3",{className:`text-lg font-semibold ${r.text} mb-4`,children:"SASB Standards Compliance"}),Object.entries(e.categories).map(e=>{let[t,a]=e;const s=l[t]||{total:0,met:0,percentage:0};return(0,R.jsxs)("div",{className:"mb-6",children:[(0,R.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,R.jsx)("h4",{className:`font-medium ${r.text} capitalize`,children:t}),(0,R.jsxs)("span",{className:`text-sm font-medium ${g(s.percentage)}`,children:[s.percentage,"% (",s.met,"/",s.total,")"]})]}),(0,R.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-3",children:(0,R.jsx)("div",{className:"h-2 rounded-full "+(s.percentage>=80?"bg-green-500":s.percentage>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${s.percentage}%`}})}),(0,R.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:a.map((e,t)=>{const a=c.some(t=>{var a,s;return(null===(a=t.metric)||void 0===a?void 0:a.toLowerCase().includes(e.toLowerCase().split(" ")[0]))||(null===(s=t.description)||void 0===s?void 0:s.toLowerCase().includes(e.toLowerCase()))});return(0,R.jsxs)("div",{className:"p-2 rounded text-sm "+(a?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:[e,a&&(0,R.jsx)("span",{className:"ml-2",children:"\u2713"})]},t)})})]},t)})]})})})(),(0,R.jsx)("div",{className:"mt-6",children:(()=>{const e=F.jd.filter(e=>c.some(t=>{var a,s;return(null===(a=t.metric)||void 0===a?void 0:a.toLowerCase().includes(e.id.split("_")[0]))||(null===(s=t.description)||void 0===s?void 0:s.toLowerCase().includes(e.name.toLowerCase()))}));return(0,R.jsxs)("div",{className:`p-4 rounded-lg ${r.cardBg} border ${r.border}`,children:[(0,R.jsx)("h3",{className:`text-lg font-semibold ${r.text} mb-4`,children:"Materiality Assessment"}),(0,R.jsxs)("p",{className:`text-sm ${r.textSecondary} mb-4`,children:["Coverage: ",e.length,"/",F.jd.length," material topics"]}),(0,R.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:F.jd.map(t=>{const a=e.some(e=>e.id===t.id);return(0,R.jsxs)("div",{className:"p-3 rounded border "+(a?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"),children:[(0,R.jsxs)("div",{className:"flex items-center justify-between",children:[(0,R.jsx)("span",{className:"text-sm font-medium "+(a?"text-green-800":"text-gray-600"),children:t.name}),a&&(0,R.jsx)("span",{className:"text-green-600",children:"\u2713"})]}),(0,R.jsx)("span",{className:`text-xs ${r.textSecondary} capitalize`,children:t.category})]},t.id)})})]})})()}),(0,R.jsxs)("div",{className:`p-4 rounded-lg ${r.cardBg} border ${r.border} mt-6`,children:[(0,R.jsx)("h3",{className:`text-lg font-semibold ${r.text} mb-4`,children:"Recommendations"}),(0,R.jsxs)("div",{className:"space-y-2",children:[m<60&&(0,R.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-red-800 text-sm",children:[(0,R.jsx)("strong",{children:"Priority:"})," Focus on implementing core ",n," requirements to achieve basic compliance"]}),m>=60&&m<80&&(0,R.jsxs)("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded text-yellow-800 text-sm",children:[(0,R.jsx)("strong",{children:"Improvement:"})," Address remaining gaps to achieve full ",n," compliance"]}),m>=80&&(0,R.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded text-green-800 text-sm",children:[(0,R.jsx)("strong",{children:"Excellence:"})," Consider implementing additional frameworks or advanced reporting features"]})]})]})]})});var u},T=e=>{let{complianceData:t}=e;const{isDark:a}=(0,f.D)(),s=(0,j.Y)(a),r=e=>e>=80?"text-green-600 bg-green-100":e>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return t&&0!==Object.keys(t).length?(0,R.jsxs)("div",{className:`p-6 rounded-lg ${s.cardBg} border ${s.border} mb-6`,children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,R.jsx)("h3",{className:`text-lg font-semibold ${s.text}`,children:"Framework Compliance Status"}),(0,R.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+(a?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-800"),children:"Live Analysis"})]}),(0,R.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Object.entries(t).map(e=>{let[t,a]=e;return(0,R.jsxs)("div",{className:`p-4 rounded-lg border ${s.border} ${s.bg.subtle}`,children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,R.jsx)("h4",{className:`font-semibold ${s.text}`,children:t}),(0,R.jsx)("span",{className:"text-xl",children:(n=a.complianceScore,n>=80?"\u2705":n>=60?"\u26a0\ufe0f":"\u274c")})]}),(0,R.jsxs)("div",{className:"mb-3",children:[(0,R.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,R.jsx)("span",{className:`text-sm ${s.textSecondary}`,children:"Overall Score"}),(0,R.jsxs)("span",{className:`text-lg font-bold ${r(a.complianceScore).split(" ")[0]}`,children:[a.complianceScore,"%"]})]}),(0,R.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,R.jsx)("div",{className:"h-2 rounded-full "+(a.complianceScore>=80?"bg-green-500":a.complianceScore>=60?"bg-yellow-500":"bg-red-500"),style:{width:`${a.complianceScore}%`}})})]}),(0,R.jsxs)("div",{className:"space-y-2",children:[(0,R.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,R.jsx)("span",{className:s.textSecondary,children:"Requirements Met"}),(0,R.jsxs)("span",{className:s.text,children:[a.metRequirements,"/",a.totalRequirements]})]}),Object.entries(a.categoryScores||{}).map(e=>{let[t,a]=e;return(0,R.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,R.jsx)("span",{className:`${s.textSecondary} capitalize`,children:t}),(0,R.jsxs)("span",{className:`${r(a.percentage).split(" ")[0]} font-medium`,children:[a.percentage,"%"]})]},t)})]}),a.missingRequirements&&a.missingRequirements.length>0&&(0,R.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-200",children:(0,R.jsxs)("span",{className:`text-xs ${s.textSecondary}`,children:[a.missingRequirements.length," requirements missing"]})})]},t);var n})}),(0,R.jsx)("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded text-sm",children:(0,R.jsxs)("div",{className:"flex items-start gap-2",children:[(0,R.jsx)("span",{className:"text-blue-600",children:"\ud83d\udca1"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("strong",{className:"text-blue-800",children:"Framework Compliance Tips:"}),(0,R.jsxs)("ul",{className:"text-blue-700 mt-1 space-y-1",children:[(0,R.jsx)("li",{children:"\u2022 GRI Standards focus on materiality and stakeholder engagement"}),(0,R.jsx)("li",{children:"\u2022 SASB emphasizes industry-specific financially material topics"}),(0,R.jsx)("li",{children:"\u2022 Regular data updates improve compliance scores"})]})]})]})})]}):(0,R.jsxs)("div",{className:`p-4 rounded-lg ${s.cardBg} border ${s.border}`,children:[(0,R.jsx)("h3",{className:`text-lg font-semibold ${s.text} mb-2`,children:"Framework Compliance Status"}),(0,R.jsx)("p",{className:`${s.textSecondary}`,children:"No compliance data available. Add ESG data to analyze framework compliance."})]})};class I{static generateReport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=new b.Ay,{companyName:s="Company",reportingYear:r=(new Date).getFullYear()}=t;a.setFontSize(20),a.setTextColor(0,102,51),a.text("BUSINESS RESPONSIBILITY AND SUSTAINABILITY REPORT",20,25),a.setFontSize(14),a.setTextColor(0,0,0),a.text(`Company: ${s}`,20,40),a.text(`Financial Year: ${r}`,20,50),a.text(`Report Date: ${(new Date).toLocaleDateString()}`,20,60);let n=80;a.setFontSize(16),a.setTextColor(0,102,51),a.text("SECTION A: GENERAL DISCLOSURES",20,n),n+=20;const i=this.extractSectionA(e);Object.entries(i).forEach(e=>{let[t,s]=e;n>270&&(a.addPage(),n=30),a.setFontSize(10),a.setTextColor(0,0,0),a.text(`${t}: ${s}`,20,n),n+=8}),n+=10,n>250&&(a.addPage(),n=30),a.setFontSize(16),a.setTextColor(0,102,51),a.text("SECTION B: MANAGEMENT AND PROCESS DISCLOSURES",20,n),n+=20;this.extractPrincipleData(e).forEach((e,t)=>{n>260&&(a.addPage(),n=30),a.setFontSize(12),a.setTextColor(0,0,0),a.text(`Principle ${t+1}: ${e.title}`,20,n),n+=10,a.setFontSize(10),a.text(`Performance: ${e.performance}`,25,n),n+=15}),a.addPage(),n=30,a.setFontSize(16),a.setTextColor(0,102,51),a.text("SECTION C: PRINCIPLE-WISE PERFORMANCE DISCLOSURE",20,n),n+=20;return this.extractPerformanceMetrics(e).forEach(e=>{n>270&&(a.addPage(),n=30),a.setFontSize(10),a.text(`${e.indicator}: ${e.value} ${e.unit}`,20,n),n+=8}),a}static extractSectionA(e){return{"Corporate Identity Number (CIN)":"L72900DL2010PLC198141","Name of the Company":e.companyName||"Company Name","Year of Incorporation":"2010","Registered Office Address":"New Delhi, India","Corporate Website":"www.company.com","E-mail ID":"sustainability@company.com",Telephone:"+91-11-XXXXXXXX","Reporting Boundary":"Standalone","Name of Assurance Provider":"External Auditor","Type of Assurance":"Limited Assurance"}}static extractPrincipleData(e){return[{title:"Businesses should conduct and govern themselves with integrity",performance:"Compliant"},{title:"Businesses should provide goods and services in a manner that is sustainable",performance:"Compliant"},{title:"Businesses should respect and promote the well-being of all employees",performance:"Compliant"},{title:"Businesses should respect the interests of and be responsive to all its stakeholders",performance:"Compliant"},{title:"Businesses should respect and promote human rights",performance:"Compliant"},{title:"Businesses should respect and make efforts to protect and restore the environment",performance:"Compliant"},{title:"Businesses should support inclusive growth and equitable development",performance:"Compliant"},{title:"Businesses should promote innovation and technology for sustainable development",performance:"Compliant"},{title:"Businesses should engage with and provide value to their consumers responsibly",performance:"Compliant"}]}static extractPerformanceMetrics(e){const t=[];return e.environmental&&Object.entries(e.environmental).forEach(e=>{let[a,s]=e;s&&!isNaN(parseFloat(s))&&t.push({indicator:this.getBRSRIndicator(a),value:parseFloat(s).toFixed(2),unit:this.getBRSRUnit(a)})}),e.social&&Object.entries(e.social).forEach(e=>{let[a,s]=e;s&&!isNaN(parseFloat(s))&&t.push({indicator:this.getBRSRIndicator(a),value:parseFloat(s).toFixed(2),unit:this.getBRSRUnit(a)})}),e.governance&&Object.entries(e.governance).forEach(e=>{let[a,s]=e;s&&!isNaN(parseFloat(s))&&t.push({indicator:this.getBRSRIndicator(a),value:parseFloat(s).toFixed(2),unit:this.getBRSRUnit(a)})}),t}static getBRSRIndicator(e){return{scope1_emissions:"Total Scope 1 emissions",scope2_emissions:"Total Scope 2 emissions",scope3_emissions:"Total Scope 3 emissions",energy_consumption:"Total energy consumption",renewable_energy:"Renewable energy consumption",water_withdrawal:"Water withdrawal",waste_generated:"Waste generated",total_employees:"Total number of employees",female_employees:"Female employees",training_hours:"Training hours per employee",board_size:"Board size",independent_directors:"Independent directors"}[e]||e.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())}static getBRSRUnit(e){return{scope1_emissions:"tCO2e",scope2_emissions:"tCO2e",scope3_emissions:"tCO2e",energy_consumption:"MWh",renewable_energy:"%",water_withdrawal:"m\xb3",waste_generated:"tonnes",total_employees:"count",female_employees:"%",training_hours:"hours",board_size:"count",independent_directors:"%"}[e]||""}}class k{static generateReport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=new b.Ay,{companyName:s="Company",reportingYear:r=(new Date).getFullYear()}=t;a.setFontSize(20),a.setTextColor(0,102,51),a.text("GRI STANDARDS SUSTAINABILITY REPORT",20,25),a.setFontSize(14),a.setTextColor(0,0,0),a.text(`Organization: ${s}`,20,40),a.text(`Reporting Period: ${r}`,20,50),a.text("GRI Standards Version: GRI Standards 2021",20,60),a.text(`Report Date: ${(new Date).toLocaleDateString()}`,20,70);let n=90;a.setFontSize(16),a.setTextColor(0,102,51),a.text("GRI 2: GENERAL DISCLOSURES",20,n),n+=20;this.extractGeneralDisclosures(e).forEach(e=>{n>270&&(a.addPage(),n=30),a.setFontSize(10),a.setTextColor(0,0,0),a.text(`${e.code}: ${e.title}`,20,n),n+=6,a.text(`Response: ${e.response}`,25,n),n+=12}),n>250&&(a.addPage(),n=30),a.setFontSize(16),a.setTextColor(0,102,51),a.text("GRI 3: MATERIAL TOPICS",20,n),n+=20;this.extractMaterialTopics(e).forEach(e=>{n>270&&(a.addPage(),n=30),a.setFontSize(12),a.setTextColor(0,0,0),a.text(`Material Topic: ${e.name}`,20,n),n+=10,a.setFontSize(10),a.text(`GRI Standard: ${e.standard}`,25,n),n+=6,a.text(`Management Approach: ${e.approach}`,25,n),n+=15}),a.addPage(),n=30,a.setFontSize(16),a.setTextColor(0,102,51),a.text("ENVIRONMENTAL STANDARDS (GRI 300 SERIES)",20,n),n+=20;this.extractEnvironmentalMetrics(e).forEach(e=>{n>270&&(a.addPage(),n=30),a.setFontSize(10),a.text(`${e.code}: ${e.title}`,20,n),n+=6,a.text(`Value: ${e.value} ${e.unit}`,25,n),n+=12}),a.addPage(),n=30,a.setFontSize(16),a.setTextColor(0,102,51),a.text("SOCIAL STANDARDS (GRI 400 SERIES)",20,n),n+=20;return this.extractSocialMetrics(e).forEach(e=>{n>270&&(a.addPage(),n=30),a.setFontSize(10),a.text(`${e.code}: ${e.title}`,20,n),n+=6,a.text(`Value: ${e.value} ${e.unit}`,25,n),n+=12}),a}static extractGeneralDisclosures(e){var t,a;return[{code:"GRI 2-1",title:"Organizational details",response:e.companyName||"Organization Name"},{code:"GRI 2-2",title:"Entities included in sustainability reporting",response:"Consolidated reporting boundary"},{code:"GRI 2-3",title:"Reporting period, frequency and contact point",response:"Annual reporting cycle"},{code:"GRI 2-4",title:"Restatements of information",response:"No restatements in current period"},{code:"GRI 2-5",title:"External assurance",response:"Limited assurance provided"},{code:"GRI 2-6",title:"Activities, value chain and other business relationships",response:"Described in annual report"},{code:"GRI 2-7",title:"Employees",response:`${(null===(t=e.social)||void 0===t?void 0:t.total_employees)||"Not disclosed"} total employees`},{code:"GRI 2-9",title:"Governance structure and composition",response:`${(null===(a=e.governance)||void 0===a?void 0:a.board_size)||"Not disclosed"} board members`}]}static extractMaterialTopics(e){return[{name:"Climate Change",standard:"GRI 305: Emissions",approach:"Comprehensive climate strategy with science-based targets"},{name:"Energy Management",standard:"GRI 302: Energy",approach:"Energy efficiency programs and renewable energy adoption"},{name:"Water Management",standard:"GRI 303: Water and Effluents",approach:"Water stewardship and conservation initiatives"},{name:"Employee Wellbeing",standard:"GRI 403: Occupational Health and Safety",approach:"Comprehensive health and safety management system"},{name:"Diversity and Inclusion",standard:"GRI 405: Diversity and Equal Opportunity",approach:"Inclusive workplace policies and programs"}]}static extractEnvironmentalMetrics(e){const t=[];if(e.environmental){const a=e.environmental;a.scope1_emissions&&t.push({code:"GRI 305-1",title:"Direct (Scope 1) GHG emissions",value:parseFloat(a.scope1_emissions).toFixed(2),unit:"tCO2e"}),a.scope2_emissions&&t.push({code:"GRI 305-2",title:"Energy indirect (Scope 2) GHG emissions",value:parseFloat(a.scope2_emissions).toFixed(2),unit:"tCO2e"}),a.scope3_emissions&&t.push({code:"GRI 305-3",title:"Other indirect (Scope 3) GHG emissions",value:parseFloat(a.scope3_emissions).toFixed(2),unit:"tCO2e"}),a.energy_consumption&&t.push({code:"GRI 302-1",title:"Energy consumption within the organization",value:parseFloat(a.energy_consumption).toFixed(2),unit:"MWh"}),a.water_withdrawal&&t.push({code:"GRI 303-3",title:"Water withdrawal",value:parseFloat(a.water_withdrawal).toFixed(2),unit:"m\xb3"}),a.waste_generated&&t.push({code:"GRI 306-3",title:"Waste generated",value:parseFloat(a.waste_generated).toFixed(2),unit:"tonnes"})}return t}static extractSocialMetrics(e){const t=[];if(e.social){const a=e.social;a.total_employees&&t.push({code:"GRI 2-7",title:"Employees",value:parseInt(a.total_employees),unit:"count"}),a.female_employees&&t.push({code:"GRI 405-1",title:"Diversity of governance bodies and employees",value:parseFloat(a.female_employees).toFixed(1),unit:"% female"}),a.training_hours&&t.push({code:"GRI 404-1",title:"Average hours of training per year per employee",value:parseFloat(a.training_hours).toFixed(1),unit:"hours"}),a.lost_time_injury_rate&&t.push({code:"GRI 403-9",title:"Work-related injuries",value:parseFloat(a.lost_time_injury_rate).toFixed(2),unit:"rate"})}return t}}class G{static generateReport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=new b.Ay,{companyName:s="Company",reportingYear:r=(new Date).getFullYear(),industry:n="technology"}=t;a.setFontSize(20),a.setTextColor(0,102,51),a.text("SASB STANDARDS SUSTAINABILITY REPORT",20,25),a.setFontSize(14),a.setTextColor(0,0,0),a.text(`Company: ${s}`,20,40),a.text(`Industry: ${n.toUpperCase()}`,20,50),a.text(`Reporting Period: ${r}`,20,60),a.text(`SASB Standard: ${this.getSASBStandard(n)}`,20,70),a.text(`Report Date: ${(new Date).toLocaleDateString()}`,20,80);let i=100;a.setFontSize(16),a.setTextColor(0,102,51),a.text("INDUSTRY CLASSIFICATION",20,i),i+=20;const l=this.getIndustryClassification(n);a.setFontSize(10),a.setTextColor(0,0,0),a.text(`SICS Industry: ${l.sics}`,20,i),i+=8,a.text(`SICS Code: ${l.code}`,20,i),i+=8,a.text(`Description: ${l.description}`,20,i),i+=20,a.setFontSize(16),a.setTextColor(0,102,51),a.text("SUSTAINABILITY DISCLOSURE TOPICS & ACCOUNTING METRICS",20,i),i+=20;this.getSASBTopics(n).forEach(t=>{i>250&&(a.addPage(),i=30),a.setFontSize(12),a.setTextColor(0,0,0),a.text(`Topic: ${t.name}`,20,i),i+=10,t.metrics.forEach(t=>{i>270&&(a.addPage(),i=30),a.setFontSize(10),a.text(`${t.code}: ${t.description}`,25,i),i+=6;const s=this.extractMetricValue(e,t.code,t.key);a.text(`Value: ${s} ${t.unit}`,30,i),i+=10}),i+=5}),i>250&&(a.addPage(),i=30),a.setFontSize(16),a.setTextColor(0,102,51),a.text("ACTIVITY METRICS",20,i),i+=20;return this.getActivityMetrics(n,e).forEach(e=>{i>270&&(a.addPage(),i=30),a.setFontSize(10),a.text(`${e.code}: ${e.description}`,20,i),i+=6,a.text(`Value: ${e.value} ${e.unit}`,25,i),i+=12}),a}static getSASBStandard(e){return{technology:"TC-SI (Technology & Communications - Software & IT Services)",financial:"FN-CB (Financials - Commercial Banks)",healthcare:"HC-BP (Healthcare - Biotechnology & Pharmaceuticals)",manufacturing:"RT-AE (Resource Transformation - Aerospace & Defense)",energy:"NR-OG (Non-Renewable Resources - Oil & Gas)",retail:"CG-MR (Consumer Goods - Multiline and Specialty Retailers)"}[e]||"TC-SI (Technology & Communications - Software & IT Services)"}static getIndustryClassification(e){const t={technology:{sics:"Software & IT Services",code:"TC-SI",description:"Companies that develop software and provide information technology services"},financial:{sics:"Commercial Banks",code:"FN-CB",description:"Companies engaged in commercial banking and related financial services"},healthcare:{sics:"Biotechnology & Pharmaceuticals",code:"HC-BP",description:"Companies engaged in biotechnology research and pharmaceutical development"}};return t[e]||t.technology}static getSASBTopics(e){const t={technology:[{name:"Environmental Footprint of Hardware Infrastructure",metrics:[{code:"TC-SI-130a.1",key:"energy_consumption",description:"Total energy consumed",unit:"GJ"},{code:"TC-SI-130a.2",key:"renewable_energy",description:"Percentage of renewable energy",unit:"%"},{code:"TC-SI-130a.3",key:"water_withdrawal",description:"Total water withdrawn",unit:"m\xb3"}]},{name:"Data Privacy & Freedom of Expression",metrics:[{code:"TC-SI-220a.1",key:"privacy_policies",description:"Description of policies and practices relating to behavioral advertising",unit:"Qualitative"},{code:"TC-SI-220a.2",key:"user_data_requests",description:"Number of users whose information is used",unit:"Number"}]},{name:"Data Security",metrics:[{code:"TC-SI-230a.1",key:"data_breaches",description:"Number of data breaches",unit:"Number"},{code:"TC-SI-230a.2",key:"customer_data",description:"Description of approach to identifying and addressing data security risks",unit:"Qualitative"}]}],financial:[{name:"Data Security",metrics:[{code:"FN-CB-230a.1",key:"data_breaches",description:"Number of data breaches",unit:"Number"},{code:"FN-CB-230a.2",key:"customer_data",description:"Card-related fraud losses",unit:"USD"}]},{name:"Financial Inclusion & Capacity Building",metrics:[{code:"FN-CB-240a.1",key:"unbanked_customers",description:"Number and amount of loans outstanding to unbanked customers",unit:"Number, USD"},{code:"FN-CB-240a.4",key:"community_development",description:"Community development lending",unit:"USD"}]}]};return t[e]||t.technology}static getActivityMetrics(e,t){var a;const s={technology:[{code:"TC-SI-000.A",description:"Number of licenses or subscriptions",value:(null===(a=t.social)||void 0===a?void 0:a.total_employees)||"Not disclosed",unit:"Number"},{code:"TC-SI-000.B",description:"Data processing capacity",value:"Not disclosed",unit:"Petabytes"},{code:"TC-SI-000.C",description:"Amount of data storage",value:"Not disclosed",unit:"Petabytes"}],financial:[{code:"FN-CB-000.A",description:"Number of checking and savings accounts",value:"Not disclosed",unit:"Number"},{code:"FN-CB-000.B",description:"Value of checking and savings accounts",value:"Not disclosed",unit:"USD"},{code:"FN-CB-000.C",description:"Number of loans",value:"Not disclosed",unit:"Number"}]};return s[e]||s.technology}static extractMetricValue(e,t,a){var s,r,n,i,l,o;const c={"TC-SI-130a.1":null===(s=e.environmental)||void 0===s?void 0:s.energy_consumption,"TC-SI-130a.2":null===(r=e.environmental)||void 0===r?void 0:r.renewable_energy,"TC-SI-130a.3":null===(n=e.environmental)||void 0===n?void 0:n.water_withdrawal,"TC-SI-230a.1":(null===(i=e.governance)||void 0===i?void 0:i.data_breaches)||"0","FN-CB-230a.1":(null===(l=e.governance)||void 0===l?void 0:l.data_breaches)||"0","FN-CB-240a.1":null===(o=e.social)||void 0===o?void 0:o.community_investment}[t];return c&&!isNaN(parseFloat(c))?parseFloat(c).toFixed(2):"Not disclosed"}}class A{static generateReport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=new b.Ay,{companyName:s="Company",reportingYear:r=(new Date).getFullYear()}=t;a.setFontSize(20),a.setTextColor(0,102,51),a.text("TCFD CLIMATE-RELATED FINANCIAL DISCLOSURES",20,25),a.setFontSize(14),a.setTextColor(0,0,0),a.text(`Organization: ${s}`,20,40),a.text(`Reporting Period: ${r}`,20,50),a.text("TCFD Version: 2023 Status Report",20,60),a.text(`Report Date: ${(new Date).toLocaleDateString()}`,20,70);let n=90;a.setFontSize(16),a.setTextColor(0,102,51),a.text("EXECUTIVE SUMMARY",20,n),n+=20,a.setFontSize(10),a.setTextColor(0,0,0);const i=this.generateExecutiveSummary(e);a.text(i,20,n,{maxWidth:170}),n+=40,n>250&&(a.addPage(),n=30),a.setFontSize(16),a.setTextColor(0,102,51),a.text("GOVERNANCE",20,n),n+=20;this.extractGovernance(e).forEach(e=>{n>270&&(a.addPage(),n=30),a.setFontSize(12),a.setTextColor(0,0,0),a.text(e.title,20,n),n+=10,a.setFontSize(10),a.text(e.description,25,n,{maxWidth:165}),n+=20}),n>200&&(a.addPage(),n=30),a.setFontSize(16),a.setTextColor(0,102,51),a.text("STRATEGY",20,n),n+=20;this.extractStrategy(e).forEach(e=>{n>270&&(a.addPage(),n=30),a.setFontSize(12),a.setTextColor(0,0,0),a.text(e.title,20,n),n+=10,a.setFontSize(10),a.text(e.description,25,n,{maxWidth:165}),n+=20}),n>200&&(a.addPage(),n=30),a.setFontSize(16),a.setTextColor(0,102,51),a.text("RISK MANAGEMENT",20,n),n+=20;this.extractRiskManagement(e).forEach(e=>{n>270&&(a.addPage(),n=30),a.setFontSize(12),a.setTextColor(0,0,0),a.text(e.title,20,n),n+=10,a.setFontSize(10),a.text(e.description,25,n,{maxWidth:165}),n+=20}),a.addPage(),n=30,a.setFontSize(16),a.setTextColor(0,102,51),a.text("METRICS AND TARGETS",20,n),n+=20;this.extractMetricsAndTargets(e).forEach(e=>{n>270&&(a.addPage(),n=30),a.setFontSize(10),a.text(`${e.category}: ${e.description}`,20,n),n+=6,a.text(`Current: ${e.current} | Target: ${e.target} | Timeline: ${e.timeline}`,25,n),n+=12}),a.addPage(),n=30,a.setFontSize(16),a.setTextColor(0,102,51),a.text("SCENARIO ANALYSIS",20,n),n+=20;return this.extractScenarioAnalysis(e).forEach(e=>{n>260&&(a.addPage(),n=30),a.setFontSize(12),a.setTextColor(0,0,0),a.text(`Scenario: ${e.name}`,20,n),n+=10,a.setFontSize(10),a.text(`Temperature Rise: ${e.temperature}`,25,n),n+=6,a.text(`Financial Impact: ${e.impact}`,25,n),n+=6,a.text(`Mitigation Strategy: ${e.mitigation}`,25,n),n+=15}),a}static generateExecutiveSummary(e){return`This report presents our climate-related financial disclosures in accordance with the TCFD recommendations. Our organization has identified climate change as a material risk and opportunity. Current total GHG emissions: ${this.calculateTotalEmissions(e)} tCO2e. We have implemented comprehensive climate governance, risk management processes, and science-based targets to address climate-related risks and opportunities.`}static calculateTotalEmissions(e){if(!e.environmental)return"Not disclosed";const t=(parseFloat(e.environmental.scope1_emissions)||0)+(parseFloat(e.environmental.scope2_emissions)||0)+(parseFloat(e.environmental.scope3_emissions)||0);return t>0?t.toFixed(2):"Not disclosed"}static extractGovernance(e){var t,a;return[{title:"Board Oversight",description:`The Board of Directors provides oversight of climate-related risks and opportunities. Board size: ${(null===(t=e.governance)||void 0===t?void 0:t.board_size)||"Not disclosed"} members with ${(null===(a=e.governance)||void 0===a?void 0:a.independent_directors)||"Not disclosed"}% independence. Climate expertise is represented through dedicated sustainability committee.`},{title:"Management Role",description:"Senior management has designated responsibility for assessing and managing climate-related risks and opportunities. The Chief Sustainability Officer reports directly to the CEO and provides quarterly updates to the Board on climate performance and strategy implementation."}]}static extractStrategy(e){return[{title:"Climate-related Risks and Opportunities",description:"We have identified both physical and transition risks including extreme weather events, carbon pricing, and changing customer preferences. Key opportunities include energy efficiency improvements, renewable energy adoption, and development of climate-friendly products and services."},{title:"Impact on Business and Financial Planning",description:"Climate considerations are integrated into our strategic planning process with a 10-year horizon. We assess potential financial impacts across different climate scenarios and incorporate climate risks into capital allocation decisions and business model evolution."},{title:"Resilience of Strategy",description:"Our strategy demonstrates resilience across multiple climate scenarios including 1.5\xb0C, 2\xb0C, and 4\xb0C warming pathways. We have stress-tested our business model and identified adaptation measures to maintain operational and financial resilience."}]}static extractRiskManagement(e){return[{title:"Risk Identification and Assessment",description:"We use a systematic approach to identify climate-related risks across short (1-3 years), medium (3-10 years), and long-term (10+ years) time horizons. Physical and transition risks are assessed using climate science data, regulatory analysis, and stakeholder engagement."},{title:"Risk Management Processes",description:"Climate risks are managed through our enterprise risk management framework with quarterly risk assessments, mitigation planning, and monitoring. Risk appetite statements include climate-specific thresholds and escalation procedures."},{title:"Integration with Overall Risk Management",description:"Climate-related risks are fully integrated into our overall risk management processes with consistent methodologies, reporting structures, and governance oversight. Climate risks are considered alongside other material risks in strategic decision-making."}]}static extractMetricsAndTargets(e){const t=[];if(e.environmental){const a=e.environmental;a.scope1_emissions&&t.push({category:"Scope 1 Emissions",description:"Direct GHG emissions from owned or controlled sources",current:`${parseFloat(a.scope1_emissions).toFixed(2)} tCO2e`,target:"Net zero by 2050",timeline:"2050"}),a.scope2_emissions&&t.push({category:"Scope 2 Emissions",description:"Indirect GHG emissions from purchased energy",current:`${parseFloat(a.scope2_emissions).toFixed(2)} tCO2e`,target:"50% reduction by 2030",timeline:"2030"}),a.renewable_energy&&t.push({category:"Renewable Energy",description:"Percentage of renewable energy consumption",current:`${parseFloat(a.renewable_energy).toFixed(1)}%`,target:"100% renewable electricity",timeline:"2030"})}return 0===t.length&&t.push({category:"GHG Emissions",description:"Total greenhouse gas emissions (Scope 1+2+3)",current:"Baseline being established",target:"Science-based targets to be set",timeline:"2024"}),t}static extractScenarioAnalysis(e){return[{name:"1.5\xb0C Scenario (Paris Agreement)",temperature:"1.5\xb0C above pre-industrial levels",impact:"Moderate transition risks, limited physical risks",mitigation:"Accelerated decarbonization, carbon pricing adaptation"},{name:"2\xb0C Scenario (NDCs)",temperature:"2\xb0C above pre-industrial levels",impact:"Increased physical risks, moderate transition costs",mitigation:"Enhanced resilience measures, diversified energy portfolio"},{name:"4\xb0C Scenario (Current Policies)",temperature:"4\xb0C above pre-industrial levels",impact:"Severe physical risks, supply chain disruption",mitigation:"Comprehensive adaptation strategy, operational flexibility"}]}}const D=e=>{var t,a;let{data:r,onClose:n}=e;const{isDark:i}=(0,f.D)(),l=(0,j.Y)(i),[o,c]=(0,s.useState)("GRI"),[d,m]=(0,s.useState)(!1),[x,p]=(0,s.useState)("technology"),h=[{id:"BRSR",name:"SEBI BRSR",description:"Business Responsibility and Sustainability Reporting for Indian listed companies",icon:"\ud83c\uddee\ud83c\uddf3",generator:I},{id:"GRI",name:"GRI Standards",description:"Global Reporting Initiative - Most widely used sustainability reporting standards",icon:"\ud83c\udf0d",generator:k},{id:"SASB",name:"SASB Standards",description:"Sustainability Accounting Standards Board - Industry-specific standards",icon:"\ud83c\udfed",generator:G},{id:"TCFD",name:"TCFD Framework",description:"Task Force on Climate-related Financial Disclosures",icon:"\ud83c\udf21\ufe0f",generator:A}];return(0,R.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,R.jsxs)("div",{className:`max-w-4xl w-full mx-4 p-6 rounded-xl shadow-2xl ${l.bg.card}`,children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("h2",{className:`text-2xl font-bold ${l.text.primary}`,children:"Framework-Specific Reports"}),(0,R.jsx)("p",{className:`text-sm ${l.text.secondary}`,children:"Generate compliance reports for different ESG frameworks"})]}),(0,R.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 text-xl font-bold",children:"\u2715"})]}),(0,R.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:h.map(e=>(0,R.jsx)("div",{onClick:()=>c(e.id),className:"p-4 rounded-lg border-2 cursor-pointer transition-all duration-200 "+(o===e.id?"border-blue-500 bg-blue-50":`border-gray-200 ${l.hover.card}`),children:(0,R.jsxs)("div",{className:"flex items-start gap-3",children:[(0,R.jsx)("span",{className:"text-2xl",children:e.icon}),(0,R.jsxs)("div",{className:"flex-1",children:[(0,R.jsx)("h3",{className:`font-semibold ${l.text.primary}`,children:e.name}),(0,R.jsx)("p",{className:`text-sm ${l.text.secondary} mt-1`,children:e.description}),o===e.id&&(0,R.jsx)("div",{className:"mt-2",children:(0,R.jsx)("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded",children:"Selected"})})]})]})},e.id))}),"SASB"===o&&(0,R.jsxs)("div",{className:`p-4 rounded-lg ${l.bg.subtle} mb-6`,children:[(0,R.jsx)("h4",{className:`font-medium ${l.text.primary} mb-3`,children:"Industry Classification (Required for SASB)"}),(0,R.jsxs)("select",{value:x,onChange:e=>p(e.target.value),className:`w-full p-3 border rounded-lg ${l.bg.input} ${l.border.input}`,children:[(0,R.jsx)("option",{value:"technology",children:"Technology & Communications"}),(0,R.jsx)("option",{value:"financial",children:"Financial Services"}),(0,R.jsx)("option",{value:"healthcare",children:"Healthcare"}),(0,R.jsx)("option",{value:"manufacturing",children:"Manufacturing"}),(0,R.jsx)("option",{value:"energy",children:"Energy"}),(0,R.jsx)("option",{value:"retail",children:"Retail & Consumer"})]})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg ${l.bg.subtle} mb-6`,children:[(0,R.jsxs)("h4",{className:`font-medium ${l.text.primary} mb-3`,children:[null===(t=h.find(e=>e.id===o))||void 0===t?void 0:t.name," Report Details"]}),"BRSR"===o&&(0,R.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,R.jsx)("p",{children:"\u2022 Section A: General Disclosures"}),(0,R.jsx)("p",{children:"\u2022 Section B: Management and Process Disclosures (9 Principles)"}),(0,R.jsx)("p",{children:"\u2022 Section C: Principle-wise Performance Disclosure"}),(0,R.jsx)("p",{children:"\u2022 Mandatory for top 1000 listed companies in India"})]}),"GRI"===o&&(0,R.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,R.jsx)("p",{children:"\u2022 GRI 2: General Disclosures (Organizational profile, strategy, governance)"}),(0,R.jsx)("p",{children:"\u2022 GRI 3: Material Topics (Materiality assessment and management approach)"}),(0,R.jsx)("p",{children:"\u2022 GRI 300 Series: Environmental Standards"}),(0,R.jsx)("p",{children:"\u2022 GRI 400 Series: Social Standards"})]}),"SASB"===o&&(0,R.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,R.jsx)("p",{children:"\u2022 Industry-specific sustainability topics"}),(0,R.jsx)("p",{children:"\u2022 Financially material ESG metrics"}),(0,R.jsx)("p",{children:"\u2022 Standardized accounting metrics"}),(0,R.jsx)("p",{children:"\u2022 Activity metrics for context"})]}),"TCFD"===o&&(0,R.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,R.jsx)("p",{children:"\u2022 Governance: Board oversight and management role"}),(0,R.jsx)("p",{children:"\u2022 Strategy: Climate risks, opportunities, and business impact"}),(0,R.jsx)("p",{children:"\u2022 Risk Management: Risk identification and management processes"}),(0,R.jsx)("p",{children:"\u2022 Metrics & Targets: Climate metrics and performance targets"})]})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg border-l-4 border-blue-500 ${l.bg.subtle} mb-6`,children:[(0,R.jsx)("h4",{className:`font-medium ${l.text.primary} mb-2`,children:"Data Coverage Summary"}),(0,R.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{className:l.text.secondary,children:"Environmental:"}),(0,R.jsxs)("span",{className:"ml-2 px-2 py-1 rounded text-xs bg-green-100 text-green-800",children:[Object.keys(r.environmental||{}).length," metrics"]})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{className:l.text.secondary,children:"Social:"}),(0,R.jsxs)("span",{className:"ml-2 px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:[Object.keys(r.social||{}).length," metrics"]})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{className:l.text.secondary,children:"Governance:"}),(0,R.jsxs)("span",{className:"ml-2 px-2 py-1 rounded text-xs bg-purple-100 text-purple-800",children:[Object.keys(r.governance||{}).length," metrics"]})]})]})]}),(0,R.jsxs)("div",{className:"flex gap-4 justify-end",children:[(0,R.jsx)("button",{onClick:n,className:`px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 ${l.text.primary}`,children:"Cancel"}),(0,R.jsx)("button",{onClick:()=>(async e=>{m(!0);try{var t,a;const s=h.find(t=>t.id===e),n={companyName:r.companyName||(null===(t=r.companyInfo)||void 0===t?void 0:t.companyName)||"Company",reportingYear:r.reportingYear||(null===(a=r.companyInfo)||void 0===a?void 0:a.reportingYear)||(new Date).getFullYear(),industry:"SASB"===e?x:void 0},i=s.generator.generateReport(r,n),l=`${s.name.replace(/\s+/g,"-")}-Report-${(new Date).toISOString().split("T")[0]}.pdf`;i.save(l)}catch(s){console.error("Error generating report:",s),alert("Error generating report. Please try again.")}finally{m(!1)}})(o),disabled:d,className:"px-6 py-2 rounded-lg font-medium transition-colors "+(d?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:d?(0,R.jsxs)("span",{className:"flex items-center gap-2",children:[(0,R.jsx)("span",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Generating..."]}):`Generate ${null===(a=h.find(e=>e.id===o))||void 0===a?void 0:a.name} Report`})]})]})})},P=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new b.Ay,{companyName:r="ESGenius Tech Solutions",reportPeriod:n=(new Date).getFullYear(),logo:i=null}=a,l={primary:[0,102,51],secondary:[34,139,34],accent:[0,128,0],text:[51,51,51],lightGray:[245,245,245],darkGray:[128,128,128]};return M(s,e,r,n,l),s.addPage(),O(s,l),s.addPage(),z(s,t,l),s.addPage(),B(s,t,l),s.addPage(),L(s,t,l),s.addPage(),_(s,e,l),U(s,6),s},M=(e,t,a,s,r)=>{e.setFillColor(...r.primary),e.rect(0,0,210,60,"F"),e.setTextColor(255,255,255),e.setFontSize(28),e.setFont("helvetica","bold"),e.text(a,20,35),e.setTextColor(...r.text),e.setFontSize(36),e.setFont("helvetica","bold"),e.text("ESG SUSTAINABILITY",20,100),e.text("REPORT",20,125),e.setFillColor(...r.secondary),e.roundedRect(20,140,60,20,3,3,"F"),e.setTextColor(255,255,255),e.setFontSize(14),e.setFont("helvetica","bold"),e.text(t,25,153),e.setTextColor(...r.text),e.setFontSize(18),e.setFont("helvetica","normal"),e.text(`Reporting Period: ${s}`,20,180),e.setFontSize(12),e.setTextColor(...r.darkGray),e.text(`Published: ${(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}`,20,200),e.setFillColor(...r.lightGray),e.rect(0,250,210,47,"F"),e.setTextColor(...r.darkGray),e.setFontSize(10),e.text("Committed to Sustainable Business Practices",20,270)},O=(e,t)=>{e.setFillColor(...t.primary),e.rect(0,0,210,30,"F"),e.setTextColor(255,255,255),e.setFontSize(20),e.setFont("helvetica","bold"),e.text("TABLE OF CONTENTS",20,20),e.setTextColor(...t.text),e.setFontSize(12),e.setFont("helvetica","normal");let a=50;[{title:"Executive Summary",page:3},{title:"Environmental Performance",page:4},{title:"Social Performance",page:5},{title:"Governance Performance",page:6},{title:"Key Performance Indicators",page:7},{title:"Compliance & Methodology",page:8}].forEach(t=>{e.text(t.title,20,a),e.text(t.page.toString(),180,a),e.setLineDashPattern([1,1],0),e.line(20+e.getTextWidth(t.title)+5,a-2,175,a-2),e.setLineDashPattern([],0),a+=15})},z=(e,t,a)=>{e.setFillColor(...a.primary),e.rect(0,0,210,30,"F"),e.setTextColor(255,255,255),e.setFontSize(20),e.setFont("helvetica","bold"),e.text("EXECUTIVE SUMMARY",20,20);const s=t.filter(e=>"environmental"===e.category),r=t.filter(e=>"social"===e.category),n=t.filter(e=>"governance"===e.category),i=[{label:"Total Metrics",value:t.length,color:a.primary},{label:"Environmental",value:s.length,color:a.secondary},{label:"Social",value:r.length,color:a.accent},{label:"Governance",value:n.length,color:[70,130,180]}];let l=20;i.forEach(t=>{e.setFillColor(...t.color),e.roundedRect(l,45,40,30,3,3,"F"),e.setTextColor(255,255,255),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(t.value.toString(),l+20-e.getTextWidth(t.value.toString())/2,60),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(t.label,l+20-e.getTextWidth(t.label)/2,70),l+=45}),e.setTextColor(...a.text),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Performance Overview",20,100),e.setFontSize(11),e.setFont("helvetica","normal");const o=[`This report presents our comprehensive ESG performance for ${(new Date).getFullYear()}.`,`We have successfully tracked ${t.length} key performance indicators across all ESG dimensions.`,"","Key Achievements:","\u2022 Comprehensive data collection across all ESG categories","\u2022 Systematic tracking of performance metrics","\u2022 Alignment with international reporting standards","\u2022 Continuous improvement in sustainability practices"];let c=115;o.forEach(t=>{t.startsWith("\u2022")?e.text(t,25,c):e.text(t,20,c),c+=12})},B=(e,t,a)=>{const s=[{name:"Environmental",data:t.filter(e=>"environmental"===e.category),color:a.secondary},{name:"Social",data:t.filter(e=>"social"===e.category),color:a.accent},{name:"Governance",data:t.filter(e=>"governance"===e.category),color:[70,130,180]}];let r=20;s.forEach(t=>{r>200&&(e.addPage(),r=20),e.setFillColor(...t.color),e.rect(20,r-5,170,20,"F"),e.setTextColor(255,255,255),e.setFontSize(16),e.setFont("helvetica","bold"),e.text(`${t.name.toUpperCase()} PERFORMANCE`,25,r+7),r+=25,t.data.length>0?(e.setTextColor(...a.text),e.setFontSize(11),e.setFont("helvetica","normal"),t.data.slice(0,8).forEach(t=>{r>270&&(e.addPage(),r=20),e.setFillColor(250,250,250),e.rect(20,r-3,170,12,"F"),e.text(t.subcategory||t.metric||"Unknown Metric",25,r+3);const s=`${t.value} ${t.unit||""}`;e.text(s,180-e.getTextWidth(s),r+3),t.target&&(e.setTextColor(...a.darkGray),e.setFontSize(9),e.text(`Target: ${t.target} ${t.unit||""}`,25,r+10),e.setTextColor(...a.text),e.setFontSize(11)),r+=15})):(e.setTextColor(...a.darkGray),e.setFontSize(10),e.text("No data available for this category",25,r),r+=15),r+=10})},L=(e,t,a)=>{e.setFillColor(...a.primary),e.rect(0,0,210,30,"F"),e.setTextColor(255,255,255),e.setFontSize(20),e.setFont("helvetica","bold"),e.text("DETAILED PERFORMANCE DATA",20,20);const s=t.map(e=>{var t,a;return[(null===(t=e.category)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(a=e.category)||void 0===a?void 0:a.slice(1))||"N/A",e.subcategory||e.metric||"Unknown",`${e.value||0} ${e.unit||""}`,e.target?`${e.target} ${e.unit||""}`:"Not Set",e.source||"Internal"]});let r=50;const n=[20,55,115,150,185];e.setFillColor(...a.primary),e.rect(20,r-5,170,12,"F"),e.setTextColor(255,255,255),e.setFontSize(10),e.setFont("helvetica","bold");["Category","Metric","Value","Target","Source"].forEach((t,a)=>{e.text(t,n[a],r+3)}),r+=15,e.setTextColor(...a.text),e.setFontSize(8),e.setFont("helvetica","normal"),s.slice(0,25).forEach((t,a)=>{r>270&&(e.addPage(),r=30),a%2===0&&(e.setFillColor(248,248,248),e.rect(20,r-3,170,10,"F")),t.forEach((t,a)=>{const s=t.length>15?t.substring(0,12)+"...":t;e.text(s,n[a],r+2)}),r+=10})},_=(e,t,a)=>{e.setFillColor(...a.primary),e.rect(0,0,210,30,"F"),e.setTextColor(255,255,255),e.setFontSize(20),e.setFont("helvetica","bold"),e.text("COMPLIANCE & METHODOLOGY",20,20),e.setTextColor(...a.text),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Reporting Framework Compliance",20,50),e.setFontSize(11),e.setFont("helvetica","normal"),e.text(`This report has been prepared in accordance with ${t} standards and guidelines.`,20,65),e.setFillColor(...a.lightGray),e.roundedRect(20,75,170,40,3,3,"F"),e.setTextColor(...a.text),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Applicable Standards:",25,90),e.setFontSize(10),e.setFont("helvetica","normal");let s=100;[`\u2022 ${t} Framework Requirements`,"\u2022 International ESG Reporting Standards","\u2022 Industry Best Practices","\u2022 Regulatory Compliance Guidelines"].forEach(t=>{e.text(t,30,s),s+=8}),e.setTextColor(...a.text),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("Data Quality Assurance",20,140),e.setFontSize(11),e.setFont("helvetica","normal");s=155,["\u2022 All data points have been verified for accuracy and completeness","\u2022 Data sources are documented and traceable","\u2022 Regular internal audits ensure data integrity","\u2022 Third-party verification applied where applicable","\u2022 Continuous monitoring and improvement processes in place"].forEach(t=>{e.text(t,25,s),s+=12}),e.setFillColor(...a.primary),e.rect(20,220,170,30,"F"),e.setTextColor(255,255,255),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("For more information about this report:",25,235),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("sustainability@company.com | www.company.com/sustainability",25,245)},U=(e,t)=>{for(let a=1;a<=t;a++)e.setPage(a),e.setTextColor(128,128,128),e.setFontSize(8),e.text(`Page ${a} of ${t}`,180,290)},Y=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=new b.Ay,{companyName:r="ESGenius Tech Solutions",reportPeriod:n=(new Date).getFullYear(),executiveSummary:i=!0,includeCharts:l=!0,includeCompliance:o=!0}=a,c={primary:[0,51,102],secondary:[0,102,51],accent:[204,153,0],text:[33,37,41],lightGray:[248,249,250],mediumGray:[108,117,125],success:[40,167,69],warning:[255,193,7],danger:[220,53,69]};let d=1;return W(s,e,r,n,c),i&&(s.addPage(),d++,q(s,t,c,e)),s.addPage(),d++,V(s,t,c),s.addPage(),d++,K(s,t,c),s.addPage(),d++,X(s,t,c),o&&(s.addPage(),d++,Q(s,e,c)),s.addPage(),d++,J(s,t,c),Z(s,d,r),s},W=(e,t,a,s,r)=>{e.setFillColor(...r.primary),e.rect(0,0,210,80,"F"),e.setFillColor(255,255,255),e.roundedRect(15,15,30,15,2,2,"F"),e.setTextColor(...r.primary),e.setFontSize(8),e.setFont("helvetica","bold"),e.text("LOGO",28,24),e.setTextColor(255,255,255),e.setFontSize(32),e.setFont("helvetica","bold"),e.text(a,15,55),e.setTextColor(...r.text),e.setFontSize(42),e.setFont("helvetica","bold"),e.text("ESG PERFORMANCE",15,110),e.text("EXECUTIVE REPORT",15,135),e.setFillColor(...r.secondary),e.roundedRect(15,150,80,25,3,3,"F"),e.setTextColor(255,255,255),e.setFontSize(14),e.setFont("helvetica","bold"),e.text(`${t} Framework`,20,165),e.setTextColor(...r.text),e.setFontSize(18),e.setFont("helvetica","normal"),e.text(`Reporting Period: ${s}`,15,190),e.setFontSize(12),e.setTextColor(...r.mediumGray),e.text(`Report Date: ${(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}`,15,210),e.setFillColor(...r.lightGray),e.roundedRect(15,230,180,40,5,5,"F"),e.setTextColor(...r.text),e.setFontSize(10),e.setFont("helvetica","bold"),e.text("EXECUTIVE BRIEFING",20,240),e.setFont("helvetica","normal"),e.text("This report provides strategic insights into our ESG performance,",20,250),e.text("risk assessment, and recommendations for sustainable growth.",20,260),e.setTextColor(...r.mediumGray),e.setFontSize(8),e.text("CONFIDENTIAL - For Executive Review Only",15,285)},q=(e,t,a,s)=>{e.setFillColor(...a.primary),e.rect(0,0,210,35,"F"),e.setTextColor(255,255,255),e.setFontSize(24),e.setFont("helvetica","bold"),e.text("EXECUTIVE SUMMARY",15,25);const r=t.filter(e=>"environmental"===e.category),n=t.filter(e=>"social"===e.category),i=t.filter(e=>"governance"===e.category),l=ee(r),o=ee(n),c=ee(i),d=Math.round((l+o+c)/3);e.setFillColor(...a.lightGray),e.roundedRect(15,50,180,60,5,5,"F"),e.setTextColor(...a.text),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("ESG PERFORMANCE SCORECARD",20,65);[{label:"Environmental",score:l,x:25},{label:"Social",score:o,x:75},{label:"Governance",score:c,x:125},{label:"Overall ESG",score:d,x:175}].forEach(t=>{const s=t.score>=80?a.success:t.score>=60?a.warning:a.danger;e.setFillColor(...s),e.roundedRect(t.x-15,75,30,25,3,3,"F"),e.setTextColor(255,255,255),e.setFontSize(18),e.setFont("helvetica","bold"),e.text(t.score.toString(),t.x-5,90),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(t.label,t.x-12,98)}),e.setTextColor(...a.text),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("STRATEGIC INSIGHTS",15,130),e.setFontSize(11),e.setFont("helvetica","normal");const m=[`\u2022 Overall ESG performance rated at ${d}/100, indicating ${te(d)} performance`,`\u2022 ${t.length} key performance indicators tracked across all ESG dimensions`,`\u2022 Environmental initiatives show ${l>=70?"strong":"developing"} progress toward sustainability goals`,`\u2022 Social responsibility metrics demonstrate ${o>=70?"excellent":"good"} stakeholder engagement`,`\u2022 Governance framework maintains ${c>=70?"robust":"adequate"} oversight and transparency`];let x=145;m.forEach(t=>{e.text(t,20,x),x+=12}),e.setFillColor(...a.secondary),e.roundedRect(15,200,180,50,5,5,"F"),e.setTextColor(255,255,255),e.setFontSize(14),e.setFont("helvetica","bold"),e.text("KEY ACHIEVEMENTS & MILESTONES",20,215),e.setFontSize(10),e.setFont("helvetica","normal");x=230,["\u2713 Comprehensive ESG data collection and monitoring system implemented","\u2713 Alignment with international reporting standards and best practices","\u2713 Stakeholder engagement initiatives expanded across all business units"].forEach(t=>{e.text(t,25,x),x+=10})},V=(e,t,a)=>{e.setFillColor(...a.primary),e.rect(0,0,210,35,"F"),e.setTextColor(255,255,255),e.setFontSize(24),e.setFont("helvetica","bold"),e.text("KEY PERFORMANCE INDICATORS",15,25),H(e,"ENVIRONMENTAL METRICS",t.filter(e=>"environmental"===e.category),a,50),H(e,"SOCIAL METRICS",t.filter(e=>"social"===e.category),a,120),H(e,"GOVERNANCE METRICS",t.filter(e=>"governance"===e.category),a,190)},H=(e,t,a,s,r)=>{if(e.setFillColor(...s.secondary),e.rect(15,r,180,20,"F"),e.setTextColor(255,255,255),e.setFontSize(12),e.setFont("helvetica","bold"),e.text(t,20,r+13),a.length>0){const t=a.slice(0,4);let n=20;t.forEach(t=>{var a;e.setFillColor(...s.lightGray),e.roundedRect(n,r+25,40,35,3,3,"F"),e.setTextColor(...s.text),e.setFontSize(16),e.setFont("helvetica","bold"),e.text((null===(a=t.value)||void 0===a?void 0:a.toString())||"0",n+5,r+40),e.setFontSize(8),e.setFont("helvetica","normal");const i=(t.metric||t.subcategory||"Metric").substring(0,15);e.text(i,n+5,r+50),n+=45})}else e.setTextColor(...s.mediumGray),e.setFontSize(10),e.text("No data available",20,r+40)},K=(e,t,a)=>{e.setFillColor(...a.primary),e.rect(0,0,210,35,"F"),e.setTextColor(255,255,255),e.setFontSize(24),e.setFont("helvetica","bold"),e.text("PERFORMANCE ANALYSIS",15,25),e.setTextColor(...a.text),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("PERFORMANCE TRENDS & BENCHMARKING",15,55),e.setFillColor(...a.lightGray),e.roundedRect(15,65,180,80,5,5,"F");e.setTextColor(...a.text),e.setFontSize(10),e.setFont("helvetica","bold");let s=80;e.text("Category",20,s),e.text("Score",70,s),e.text("Industry",100,s),e.text("Best Practice",130,s),e.text("Trend",170,s),s+=15,e.setFont("helvetica","normal"),["Environmental","Social","Governance"].forEach(a=>{const r=t.filter(e=>e.category===a.toLowerCase()),n=ee(r);e.text(a,20,s),e.text(n.toString(),70,s),e.text("75",100,s),e.text("85",130,s),e.text(n>=75?"\u2197":"\u2192",170,s),s+=12}),e.setTextColor(...a.text),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("STRATEGIC RECOMMENDATIONS",15,170);e.setFontSize(11),e.setFont("helvetica","normal"),s=185,["1. Enhance environmental monitoring systems for real-time tracking","2. Expand stakeholder engagement programs across all regions","3. Strengthen governance frameworks with additional oversight mechanisms","4. Implement advanced analytics for predictive ESG performance modeling"].forEach(t=>{e.text(t,20,s),s+=15})},X=(e,t,a)=>{e.setFillColor(...a.primary),e.rect(0,0,210,35,"F"),e.setTextColor(255,255,255),e.setFontSize(24),e.setFont("helvetica","bold"),e.text("RISK & OPPORTUNITY ANALYSIS",15,25),e.setTextColor(...a.text),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("ESG RISK ASSESSMENT",15,55);e.setFillColor(...a.lightGray),e.roundedRect(15,65,180,60,5,5,"F"),e.setFontSize(10),e.setFont("helvetica","bold"),e.text("Risk Category",20,80),e.text("Level",80,80),e.text("Impact",120,80),e.text("Mitigation",160,80);let s=95;e.setFont("helvetica","normal"),[{category:"Climate Risk",level:"Medium",impact:"High",mitigation:"Carbon reduction strategy"},{category:"Social Risk",level:"Low",impact:"Medium",mitigation:"Enhanced engagement"},{category:"Governance Risk",level:"Low",impact:"Low",mitigation:"Regular audits"}].forEach(t=>{e.text(t.category,20,s);const r="High"===t.level?a.danger:"Medium"===t.level?a.warning:a.success;e.setTextColor(...r),e.text(t.level,80,s),e.setTextColor(...a.text),e.text(t.impact,120,s),e.text(t.mitigation.substring(0,15),160,s),s+=12}),e.setTextColor(...a.text),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("STRATEGIC OPPORTUNITIES",15,150);e.setFontSize(11),e.setFont("helvetica","normal"),s=165,["\u2022 Green technology investments for competitive advantage","\u2022 Enhanced brand reputation through sustainability leadership","\u2022 Cost savings through operational efficiency improvements","\u2022 Access to sustainable finance and ESG-focused investors"].forEach(t=>{e.text(t,20,s),s+=15})},Q=(e,t,a)=>{e.setFillColor(...a.primary),e.rect(0,0,210,35,"F"),e.setTextColor(255,255,255),e.setFontSize(24),e.setFont("helvetica","bold"),e.text("COMPLIANCE & GOVERNANCE",15,25),e.setTextColor(...a.text),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("REGULATORY COMPLIANCE STATUS",15,55);e.setFillColor(...a.lightGray),e.roundedRect(15,65,180,80,5,5,"F"),e.setFontSize(12),e.setFont("helvetica","bold"),e.text("Framework",20,80),e.text("Status",100,80),e.text("Completion",150,80);let s=95;e.setFont("helvetica","normal"),[{framework:"SEBI BRSR",status:"Compliant",percentage:"95%"},{framework:"GRI Standards",status:"Compliant",percentage:"90%"},{framework:"TCFD",status:"In Progress",percentage:"75%"},{framework:"SASB",status:"Compliant",percentage:"85%"}].forEach(t=>{e.setTextColor(...a.text),e.text(t.framework,20,s);const r="Compliant"===t.status?a.success:a.warning;e.setTextColor(...r),e.text(t.status,100,s),e.setTextColor(...a.text),e.text(t.percentage,150,s),s+=15}),e.setTextColor(...a.text),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("GOVERNANCE STRUCTURE",15,170),e.setFontSize(11),e.setFont("helvetica","normal");s=185,["\u2022 Board-level ESG oversight committee established","\u2022 Regular ESG performance reviews and reporting","\u2022 Integration of ESG metrics into executive compensation","\u2022 Stakeholder engagement and feedback mechanisms"].forEach(t=>{e.text(t,20,s),s+=12})},J=(e,t,a)=>{e.setFillColor(...a.primary),e.rect(0,0,210,35,"F"),e.setTextColor(255,255,255),e.setFontSize(24),e.setFont("helvetica","bold"),e.text("STRATEGIC RECOMMENDATIONS",15,25),e.setTextColor(...a.text),e.setFontSize(16),e.setFont("helvetica","bold"),e.text("PRIORITY ACTIONS FOR NEXT PERIOD",15,55);let s=70;[{title:"Environmental Excellence",actions:["Implement carbon neutrality roadmap","Enhance renewable energy adoption","Strengthen waste reduction programs"],timeline:"Q1-Q2 2024"},{title:"Social Impact Enhancement",actions:["Expand diversity and inclusion initiatives","Strengthen community engagement programs","Enhance employee wellbeing measures"],timeline:"Q2-Q3 2024"},{title:"Governance Optimization",actions:["Enhance ESG reporting transparency","Strengthen risk management frameworks","Expand stakeholder communication"],timeline:"Q3-Q4 2024"}].forEach(t=>{e.setFillColor(...a.secondary),e.roundedRect(15,s,180,50,5,5,"F"),e.setTextColor(255,255,255),e.setFontSize(14),e.setFont("helvetica","bold"),e.text(t.title,20,s+15),e.setFontSize(8),e.text(`Timeline: ${t.timeline}`,150,s+15),e.setFontSize(10),e.setFont("helvetica","normal");let r=s+25;t.actions.forEach(t=>{e.text(`\u2022 ${t}`,25,r),r+=8}),s+=60})},Z=(e,t,a)=>{for(let s=1;s<=t;s++)e.setPage(s),e.setDrawColor(200,200,200),e.line(15,285,195,285),e.setTextColor(128,128,128),e.setFontSize(8),e.setFont("helvetica","normal"),e.text(`${a} - ESG Performance Report`,15,292),e.text(`Page ${s} of ${t}`,170,292),e.text("Confidential",95,292)},ee=e=>{if(!e||0===e.length)return 0;const t=e.reduce((e,t)=>{const a=parseFloat(t.value)||0;return e+Math.min(a,100)},0);return Math.round(t/e.length)},te=e=>e>=85?"excellent":e>=70?"good":e>=55?"satisfactory":"needs improvement",ae=e=>{let{framework:t,data:a,companyName:s,reportPeriod:r}=e;const{isDark:n}=(0,f.D)(),i=(0,j.Y)(n),l=(()=>{const e={};return["environmental","social","governance"].forEach(t=>{const s=a.filter(e=>e.category===t);e[t]={count:s.length,avgScore:s.length>0?Math.round(s.reduce((e,t)=>e+(parseFloat(t.value)||0),0)/s.length):0}}),e})(),o=Math.round((l.environmental.avgScore+l.social.avgScore+l.governance.avgScore)/3),c=e=>e>=85?{rating:"Excellent",color:"text-green-600",bg:"bg-green-100"}:e>=70?{rating:"Good",color:"text-blue-600",bg:"bg-blue-100"}:e>=55?{rating:"Satisfactory",color:"text-yellow-600",bg:"bg-yellow-100"}:{rating:"Needs Improvement",color:"text-red-600",bg:"bg-red-100"};return(0,R.jsxs)("div",{className:"max-h-[70vh] overflow-y-auto space-y-6 print:space-y-4",children:[(0,R.jsxs)("div",{className:`p-6 rounded-lg ${i.bg.card} border-l-4 border-blue-600`,children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("h1",{className:`text-2xl font-bold ${i.text.primary}`,children:"ESG Performance Report"}),(0,R.jsx)("p",{className:`text-lg ${i.text.secondary}`,children:s})]}),(0,R.jsxs)("div",{className:"text-right",children:[(0,R.jsx)("div",{className:`text-sm ${i.text.muted}`,children:"Framework"}),(0,R.jsx)("div",{className:`font-semibold ${i.text.primary}`,children:t}),(0,R.jsxs)("div",{className:`text-sm ${i.text.muted}`,children:["Period: ",r]})]})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg ${i.bg.subtle}`,children:[(0,R.jsx)("h3",{className:`font-semibold mb-2 ${i.text.primary}`,children:"Executive Summary"}),(0,R.jsxs)("p",{className:`text-sm ${i.text.secondary}`,children:["This comprehensive ESG performance report presents our organization's sustainability achievements, challenges, and strategic roadmap for ",r,". The analysis covers",a.length," key performance indicators across environmental, social, and governance dimensions."]})]})]}),(0,R.jsxs)("div",{className:`p-6 rounded-lg ${i.bg.card}`,children:[(0,R.jsx)("h2",{className:`text-xl font-bold mb-4 ${i.text.primary}`,children:"ESG Performance Scorecard"}),(0,R.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[{label:"Environmental",score:l.environmental.avgScore,icon:"\ud83c\udf0d"},{label:"Social",score:l.social.avgScore,icon:"\ud83d\udc65"},{label:"Governance",score:l.governance.avgScore,icon:"\u2696\ufe0f"},{label:"Overall ESG",score:o,icon:"\u2b50"}].map((e,t)=>{const a=c(e.score);return(0,R.jsxs)("div",{className:`p-4 rounded-lg border ${i.bg.subtle}`,children:[(0,R.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,R.jsx)("span",{className:"text-lg",children:e.icon}),(0,R.jsx)("span",{className:`text-sm font-medium ${i.text.primary}`,children:e.label})]}),(0,R.jsx)("div",{className:`text-2xl font-bold ${a.color}`,children:e.score}),(0,R.jsx)("div",{className:`text-xs px-2 py-1 rounded-full ${a.bg} ${a.color}`,children:a.rating})]},t)})})]}),(0,R.jsxs)("div",{className:`p-6 rounded-lg ${i.bg.card}`,children:[(0,R.jsx)("h2",{className:`text-xl font-bold mb-4 ${i.text.primary}`,children:"Key Performance Insights"}),(0,R.jsx)("div",{className:"space-y-3",children:(()=>{const e=[];return l.environmental.avgScore>=80?e.push("Strong environmental performance with excellent sustainability practices"):l.environmental.avgScore>=60?e.push("Good environmental progress with opportunities for enhancement"):e.push("Environmental initiatives require strategic focus and improvement"),l.social.avgScore>=80?e.push("Exceptional social responsibility and stakeholder engagement"):l.social.avgScore>=60?e.push("Solid social performance with room for community impact expansion"):e.push("Social responsibility programs need strengthening and expansion"),l.governance.avgScore>=80?e.push("Robust governance framework with strong oversight mechanisms"):l.governance.avgScore>=60?e.push("Adequate governance structure with opportunities for enhancement"):e.push("Governance framework requires significant strengthening"),e})().map((e,t)=>(0,R.jsxs)("div",{className:`flex items-start gap-3 p-3 rounded-lg ${i.bg.subtle}`,children:[(0,R.jsx)("span",{className:"text-blue-500 mt-1",children:"\u2022"}),(0,R.jsx)("span",{className:`text-sm ${i.text.primary}`,children:e})]},t))})]}),(0,R.jsxs)("div",{className:`p-6 rounded-lg ${i.bg.card}`,children:[(0,R.jsx)("h2",{className:`text-xl font-bold mb-4 ${i.text.primary}`,children:"Detailed Performance Metrics"}),(0,R.jsx)("div",{className:"overflow-x-auto",children:(0,R.jsxs)("table",{className:`w-full text-sm ${i.text.primary}`,children:[(0,R.jsx)("thead",{className:`${i.bg.subtle}`,children:(0,R.jsxs)("tr",{children:[(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Category"}),(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Metrics Count"}),(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Average Score"}),(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Performance"}),(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Target"})]})}),(0,R.jsx)("tbody",{className:"divide-y divide-gray-200",children:Object.entries(l).map(e=>{let[t,a]=e;const s=c(a.avgScore);return(0,R.jsxs)("tr",{className:`hover:${i.bg.subtle}`,children:[(0,R.jsx)("td",{className:"px-4 py-3 font-medium capitalize",children:t}),(0,R.jsx)("td",{className:"px-4 py-3",children:a.count}),(0,R.jsx)("td",{className:"px-4 py-3",children:(0,R.jsxs)("span",{className:`font-semibold ${s.color}`,children:[a.avgScore,"/100"]})}),(0,R.jsx)("td",{className:"px-4 py-3",children:(0,R.jsx)("span",{className:`text-xs px-2 py-1 rounded-full ${s.bg} ${s.color}`,children:s.rating})}),(0,R.jsx)("td",{className:"px-4 py-3 text-gray-600",children:"85/100"})]},t)})})]})})]}),(0,R.jsxs)("div",{className:`p-6 rounded-lg ${i.bg.card}`,children:[(0,R.jsx)("h2",{className:`text-xl font-bold mb-4 ${i.text.primary}`,children:"Strategic Recommendations"}),(0,R.jsx)("div",{className:"space-y-4",children:(()=>{const e=[];return l.environmental.avgScore<75&&e.push({priority:"High",area:"Environmental",action:"Implement comprehensive carbon reduction strategy",timeline:"Q1-Q2 2024"}),l.social.avgScore<75&&e.push({priority:"Medium",area:"Social",action:"Expand diversity and inclusion programs",timeline:"Q2-Q3 2024"}),l.governance.avgScore<75&&e.push({priority:"High",area:"Governance",action:"Strengthen board oversight and transparency",timeline:"Q1 2024"}),e.push({priority:"Medium",area:"Overall",action:"Enhance ESG data collection and reporting systems",timeline:"Q3-Q4 2024"}),e})().map((e,t)=>(0,R.jsxs)("div",{className:"p-4 rounded-lg border-l-4 "+("High"===e.priority?"border-red-500 bg-red-50":"border-yellow-500 bg-yellow-50"),children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full font-semibold "+("High"===e.priority?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:[e.priority," Priority"]}),(0,R.jsx)("span",{className:`font-medium ${i.text.primary}`,children:e.area})]}),(0,R.jsx)("span",{className:`text-sm ${i.text.muted}`,children:e.timeline})]}),(0,R.jsx)("p",{className:`text-sm ${i.text.secondary}`,children:e.action})]},t))})]}),(0,R.jsxs)("div",{className:`p-6 rounded-lg ${i.bg.card}`,children:[(0,R.jsx)("h2",{className:`text-xl font-bold mb-4 ${i.text.primary}`,children:"Regulatory Compliance Status"}),(0,R.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{framework:"SEBI BRSR",compliance:95,status:"Compliant"},{framework:"GRI Standards",compliance:88,status:"Compliant"},{framework:"TCFD Guidelines",compliance:75,status:"In Progress"},{framework:"SASB Standards",compliance:82,status:"Compliant"}].map((e,t)=>(0,R.jsxs)("div",{className:`p-4 rounded-lg ${i.bg.subtle} border`,children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,R.jsx)("h4",{className:`font-medium ${i.text.primary}`,children:e.framework}),(0,R.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+("Compliant"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,R.jsxs)("div",{className:"mb-2",children:[(0,R.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[(0,R.jsx)("span",{className:i.text.secondary,children:"Compliance Level"}),(0,R.jsxs)("span",{className:i.text.primary,children:[e.compliance,"%"]})]}),(0,R.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,R.jsx)("div",{className:"h-2 rounded-full "+(e.compliance>=90?"bg-green-500":e.compliance>=70?"bg-yellow-500":"bg-red-500"),style:{width:`${e.compliance}%`}})})]})]},t))})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg ${i.bg.subtle} border-t`,children:[(0,R.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,R.jsxs)("div",{className:i.text.muted,children:["Report generated on ",(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),(0,R.jsxs)("div",{className:i.text.muted,children:[a.length," data points analyzed \u2022 ",t," Framework"]})]}),(0,R.jsx)("div",{className:`mt-2 text-xs ${i.text.muted}`,children:"This report contains confidential and proprietary information. Distribution should be limited to authorized stakeholders only."})]})]})},se=e=>{let{data:t,onClose:a}=e;const{isDark:r}=(0,f.D)(),n=(0,j.Y)(r),[i,l]=(0,s.useState)({companyName:"ESGenius Tech Solutions",framework:"SEBI BRSR",reportPeriod:(new Date).getFullYear(),executiveSummary:!0,includeCharts:!0,includeCompliance:!0,reportType:"executive"}),[o,c]=(0,s.useState)(!1),[d,m]=(0,s.useState)(!1),x=async()=>{c(!0);try{await new Promise(e=>setTimeout(e,2e3));const e=Y(i.framework,t,{companyName:i.companyName,reportPeriod:i.reportPeriod,executiveSummary:i.executiveSummary,includeCharts:i.includeCharts,includeCompliance:i.includeCompliance}),a=`Professional-ESG-Report-${i.reportType}-${i.framework.replace(/\s+/g,"-")}-${(new Date).toISOString().split("T")[0]}.pdf`;e.save(a),alert("Professional ESG report generated successfully!")}catch(e){console.error("Report generation error:",e),alert("Error generating report. Please try again.")}finally{c(!1)}},p=(e,t)=>{l(a=>({...a,[e]:t}))};return(0,R.jsx)(C.aF,{isOpen:!0,onClose:a,title:"Professional ESG Report Generator",size:"xl",actions:d?[{label:"Generate Report",onClick:x,variant:"primary",icon:"\ud83d\udcc4",disabled:o,loading:o},{label:"Back to Config",onClick:()=>m(!1),variant:"outline",icon:"\u2190"},{label:"Close",onClick:a,variant:"outline"}]:[{label:o?"Generating...":"Generate Report",onClick:x,variant:"primary",icon:"\ud83d\udcc4",disabled:o,loading:o},{label:"Preview Report",onClick:()=>m(!0),variant:"outline",icon:"\ud83d\udc41\ufe0f",disabled:0===t.length},{label:"Cancel",onClick:a,variant:"outline"}],children:d?(0,R.jsx)(ae,{framework:i.framework,data:t,companyName:i.companyName,reportPeriod:i.reportPeriod}):(0,R.jsxs)("div",{className:"space-y-6",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("h3",{className:`text-lg font-semibold mb-4 ${n.text.primary}`,children:"Select Report Template"}),(0,R.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{id:"executive",name:"Executive Summary Report",description:"High-level strategic overview for C-suite and board members",features:["Executive dashboard","Strategic insights","Risk analysis","Key recommendations"],icon:"\ud83d\udc54"},{id:"comprehensive",name:"Comprehensive ESG Report",description:"Detailed analysis for stakeholders and regulatory compliance",features:["Full data analysis","Compliance mapping","Detailed metrics","Benchmarking"],icon:"\ud83d\udcca"},{id:"investor",name:"Investor Relations Report",description:"ESG performance report tailored for investors and analysts",features:["Financial impact","Market positioning","Growth opportunities","Risk mitigation"],icon:"\ud83d\udcbc"},{id:"regulatory",name:"Regulatory Compliance Report",description:"Structured report for regulatory submissions and audits",features:["Compliance checklist","Audit trail","Legal requirements","Documentation"],icon:"\u2696\ufe0f"}].map(e=>(0,R.jsx)("div",{className:"border-2 p-4 rounded-xl cursor-pointer transition-all duration-200 "+(i.reportType===e.id?`${n.border.accent} ${n.bg.accent} shadow-lg`:`${n.border.primary} hover:${n.border.accent}`),onClick:()=>p("reportType",e.id),children:(0,R.jsxs)("div",{className:"flex items-start gap-3",children:[(0,R.jsx)("span",{className:"text-2xl",children:e.icon}),(0,R.jsxs)("div",{className:"flex-1",children:[(0,R.jsx)("h4",{className:`font-semibold ${n.text.primary}`,children:e.name}),(0,R.jsx)("p",{className:`text-sm mt-1 ${n.text.secondary}`,children:e.description}),(0,R.jsx)("div",{className:"mt-2 flex flex-wrap gap-1",children:e.features.map(e=>(0,R.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+(r?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-800"),children:e},e))})]}),i.reportType===e.id&&(0,R.jsx)("span",{className:"text-green-500 text-lg",children:"\u2713"})]})},e.id))})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg ${n.bg.subtle}`,children:[(0,R.jsx)("h3",{className:`text-lg font-semibold mb-4 ${n.text.primary}`,children:"Report Configuration"}),(0,R.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:`block text-sm font-medium mb-2 ${n.text.secondary}`,children:"Company Name"}),(0,R.jsx)(C.pd,{type:"text",value:i.companyName,onChange:e=>p("companyName",e.target.value),placeholder:"Enter company name"})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:`block text-sm font-medium mb-2 ${n.text.secondary}`,children:"Reporting Period"}),(0,R.jsx)(C.pd,{type:"number",value:i.reportPeriod,onChange:e=>p("reportPeriod",parseInt(e.target.value)),min:"2020",max:"2030"})]}),(0,R.jsxs)("div",{className:"md:col-span-2",children:[(0,R.jsx)("label",{className:`block text-sm font-medium mb-2 ${n.text.secondary}`,children:"ESG Framework"}),(0,R.jsx)("select",{value:i.framework,onChange:e=>p("framework",e.target.value),className:`w-full border rounded-lg px-3 py-2 ${n.bg.input} ${n.border.input} ${n.text.primary}`,children:[{id:"SEBI BRSR",name:"SEBI BRSR",description:"Securities and Exchange Board of India Business Responsibility and Sustainability Reporting"},{id:"GRI Standards",name:"GRI Standards",description:"Global Reporting Initiative Sustainability Reporting Standards"},{id:"TCFD",name:"TCFD",description:"Task Force on Climate-related Financial Disclosures"},{id:"SASB",name:"SASB",description:"Sustainability Accounting Standards Board"},{id:"EU Taxonomy",name:"EU Taxonomy",description:"European Union Taxonomy for Sustainable Activities"},{id:"CDP",name:"CDP",description:"Carbon Disclosure Project Reporting Framework"}].map(e=>(0,R.jsxs)("option",{value:e.id,children:[e.name," - ",e.description]},e.id))})]})]})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg ${n.bg.subtle}`,children:[(0,R.jsx)("h3",{className:`text-lg font-semibold mb-4 ${n.text.primary}`,children:"Report Options"}),(0,R.jsxs)("div",{className:"space-y-3",children:[(0,R.jsxs)("label",{className:"flex items-center gap-3",children:[(0,R.jsx)("input",{type:"checkbox",checked:i.executiveSummary,onChange:e=>p("executiveSummary",e.target.checked),className:"rounded"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{className:`font-medium ${n.text.primary}`,children:"Include Executive Summary"}),(0,R.jsx)("p",{className:`text-sm ${n.text.secondary}`,children:"High-level overview with key insights and recommendations"})]})]}),(0,R.jsxs)("label",{className:"flex items-center gap-3",children:[(0,R.jsx)("input",{type:"checkbox",checked:i.includeCharts,onChange:e=>p("includeCharts",e.target.checked),className:"rounded"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{className:`font-medium ${n.text.primary}`,children:"Include Charts & Visualizations"}),(0,R.jsx)("p",{className:`text-sm ${n.text.secondary}`,children:"Professional charts, graphs, and data visualizations"})]})]}),(0,R.jsxs)("label",{className:"flex items-center gap-3",children:[(0,R.jsx)("input",{type:"checkbox",checked:i.includeCompliance,onChange:e=>p("includeCompliance",e.target.checked),className:"rounded"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{className:`font-medium ${n.text.primary}`,children:"Include Compliance Section"}),(0,R.jsx)("p",{className:`text-sm ${n.text.secondary}`,children:"Regulatory compliance status and governance framework"})]})]})]})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg border ${n.border.primary}`,children:[(0,R.jsx)("h3",{className:`text-lg font-semibold mb-4 ${n.text.primary}`,children:"Data Summary"}),(0,R.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{className:`text-2xl font-bold ${n.text.primary}`,children:t.filter(e=>"environmental"===e.category).length}),(0,R.jsx)("div",{className:`text-sm ${n.text.secondary}`,children:"Environmental Metrics"})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{className:`text-2xl font-bold ${n.text.primary}`,children:t.filter(e=>"social"===e.category).length}),(0,R.jsx)("div",{className:`text-sm ${n.text.secondary}`,children:"Social Metrics"})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{className:`text-2xl font-bold ${n.text.primary}`,children:t.filter(e=>"governance"===e.category).length}),(0,R.jsx)("div",{className:`text-sm ${n.text.secondary}`,children:"Governance Metrics"})]})]}),0===t.length&&(0,R.jsx)(C.Fc,{type:"warning",title:"No Data Available",message:"Add ESG data entries to generate comprehensive reports.",className:"mt-4"})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg ${r?"bg-green-900/20 border-green-700":"bg-green-50 border-green-200"} border`,children:[(0,R.jsx)("h3",{className:"text-lg font-semibold mb-3 "+(r?"text-green-300":"text-green-800"),children:"\u2728 Professional Report Features"}),(0,R.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:["Executive-level formatting and design","Strategic insights and recommendations","Risk assessment and opportunity analysis","Compliance mapping and governance review","Professional branding and layout","Industry benchmarking and trends","Key performance indicators dashboard","Stakeholder-ready presentation format"].map(e=>(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)("span",{className:"text-green-500",children:"\u2713"}),(0,R.jsx)("span",{className:"text-sm "+(r?"text-green-200":"text-green-700"),children:e})]},e))})]})]})})},re=e=>{let{data:t,onClose:a}=e;const{isDark:r}=(0,f.D)(),n=(0,j.Y)(r),[i,l]=(0,s.useState)({title:"Custom ESG Report",companyName:"ESGenius Tech Solutions",framework:"SEBI BRSR",reportPeriod:(new Date).getFullYear(),sections:{executiveSummary:!0,environmentalMetrics:!0,socialMetrics:!0,governanceMetrics:!0,performanceTrends:!0,complianceStatus:!0,recommendations:!0},customSections:[]}),[o,c]=(0,s.useState)(!1),[d,m]=(0,s.useState)(""),x=(e,t)=>{l(a=>({...a,[e]:t}))};return(0,R.jsx)(C.aF,{isOpen:!0,onClose:a,title:"\ud83d\udee0\ufe0f Custom Report Builder",size:"xl",actions:[{label:o?"Generating...":"Generate Custom Report",onClick:async()=>{c(!0);try{await new Promise(e=>setTimeout(e,2e3));const e=t.map(e=>{if(e.environmental||e.social||e.governance){const t=[];return["environmental","social","governance"].forEach(a=>{e[a]&&Object.entries(e[a]).forEach(s=>{let[r,n]=s;"description"===r||""===n||isNaN(parseFloat(n))||t.push({...e,category:a,metric:r,value:parseFloat(n),companyName:e.companyName,sector:e.sector,region:e.region})})}),t}return[e]}).flat().filter(e=>e.category&&["environmental","social","governance"].includes(e.category)),a=Y(i.framework,e,{companyName:i.companyName,reportPeriod:i.reportPeriod,executiveSummary:i.sections.executiveSummary,includeCharts:!0,includeCompliance:i.sections.complianceStatus}),s=`Custom-ESG-Report-${i.title.replace(/\s+/g,"-")}-${(new Date).toISOString().split("T")[0]}.pdf`;a.save(s),alert("Custom ESG report generated successfully!")}catch(e){console.error("Report generation error:",e),alert("Error generating report. Please try again.")}finally{c(!1)}},variant:"primary",icon:"\ud83d\udcc4",disabled:o,loading:o},{label:"Cancel",onClick:a,variant:"outline"}],children:(0,R.jsxs)("div",{className:"space-y-6",children:[(0,R.jsxs)("div",{className:`p-4 rounded-lg ${n.bg.subtle}`,children:[(0,R.jsx)("h3",{className:`text-lg font-semibold mb-4 ${n.text.primary}`,children:"Report Configuration"}),(0,R.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:`block text-sm font-medium mb-2 ${n.text.secondary}`,children:"Report Title"}),(0,R.jsx)(C.pd,{type:"text",value:i.title,onChange:e=>x("title",e.target.value),placeholder:"Enter report title"})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:`block text-sm font-medium mb-2 ${n.text.secondary}`,children:"Company Name"}),(0,R.jsx)(C.pd,{type:"text",value:i.companyName,onChange:e=>x("companyName",e.target.value),placeholder:"Enter company name"})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:`block text-sm font-medium mb-2 ${n.text.secondary}`,children:"ESG Framework"}),(0,R.jsx)("select",{value:i.framework,onChange:e=>x("framework",e.target.value),className:`w-full border rounded-lg px-3 py-2 ${n.bg.input} ${n.border.input} ${n.text.primary}`,children:[{id:"SEBI BRSR",name:"SEBI BRSR"},{id:"GRI Standards",name:"GRI Standards"},{id:"TCFD",name:"TCFD"},{id:"SASB",name:"SASB"},{id:"EU Taxonomy",name:"EU Taxonomy"}].map(e=>(0,R.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{className:`block text-sm font-medium mb-2 ${n.text.secondary}`,children:"Reporting Period"}),(0,R.jsx)(C.pd,{type:"number",value:i.reportPeriod,onChange:e=>x("reportPeriod",parseInt(e.target.value)),min:"2020",max:"2030"})]})]})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg ${n.bg.subtle}`,children:[(0,R.jsx)("h3",{className:`text-lg font-semibold mb-4 ${n.text.primary}`,children:"Report Sections"}),(0,R.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:Object.entries({executiveSummary:"Executive Summary",environmentalMetrics:"Environmental Metrics",socialMetrics:"Social Metrics",governanceMetrics:"Governance Metrics",performanceTrends:"Performance Trends",complianceStatus:"Compliance Status",recommendations:"Strategic Recommendations"}).map(e=>{let[t,a]=e;return(0,R.jsxs)("label",{className:"flex items-center gap-3",children:[(0,R.jsx)("input",{type:"checkbox",checked:i.sections[t],onChange:e=>{return a=t,s=e.target.checked,void l(e=>({...e,sections:{...e.sections,[a]:s}}));var a,s},className:"rounded"}),(0,R.jsx)("span",{className:`font-medium ${n.text.primary}`,children:a})]},t)})})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg ${n.bg.subtle}`,children:[(0,R.jsx)("h3",{className:`text-lg font-semibold mb-4 ${n.text.primary}`,children:"Custom Sections"}),(0,R.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,R.jsx)(C.pd,{type:"text",value:d,onChange:e=>m(e.target.value),placeholder:"Enter custom section title",className:"flex-1"}),(0,R.jsx)(C.$n,{variant:"outline",onClick:()=>{d.trim()&&(l(e=>({...e,customSections:[...e.customSections,{title:d,content:""}]})),m(""))},icon:"+",disabled:!d.trim(),children:"Add Section"})]}),i.customSections.length>0&&(0,R.jsx)("div",{className:"space-y-2",children:i.customSections.map((e,t)=>(0,R.jsxs)("div",{className:`flex items-center justify-between p-3 rounded-lg ${n.bg.card} border`,children:[(0,R.jsx)("span",{className:`font-medium ${n.text.primary}`,children:e.title}),(0,R.jsx)(C.$n,{variant:"outline",onClick:()=>(e=>{l(t=>({...t,customSections:t.customSections.filter((t,a)=>a!==e)}))})(t),icon:"\ud83d\uddd1\ufe0f",size:"sm",children:"Remove"})]},t))})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg border ${n.border.primary}`,children:[(0,R.jsx)("h3",{className:`text-lg font-semibold mb-4 ${n.text.primary}`,children:"Available Data"}),(0,R.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{className:`text-2xl font-bold ${n.text.primary}`,children:t.reduce((e,t)=>t.environmental&&Object.keys(t.environmental).some(e=>"description"!==e&&""!==t.environmental[e])?e+Object.keys(t.environmental).filter(e=>"description"!==e&&""!==t.environmental[e]).length:e+("environmental"===t.category?1:0),0)}),(0,R.jsx)("div",{className:`text-sm ${n.text.secondary}`,children:"Environmental Metrics"})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{className:`text-2xl font-bold ${n.text.primary}`,children:t.reduce((e,t)=>t.social&&Object.keys(t.social).some(e=>"description"!==e&&""!==t.social[e])?e+Object.keys(t.social).filter(e=>"description"!==e&&""!==t.social[e]).length:e+("social"===t.category?1:0),0)}),(0,R.jsx)("div",{className:`text-sm ${n.text.secondary}`,children:"Social Metrics"})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{className:`text-2xl font-bold ${n.text.primary}`,children:t.reduce((e,t)=>t.governance&&Object.keys(t.governance).some(e=>"description"!==e&&""!==t.governance[e])?e+Object.keys(t.governance).filter(e=>"description"!==e&&""!==t.governance[e]).length:e+("governance"===t.category?1:0),0)}),(0,R.jsx)("div",{className:`text-sm ${n.text.secondary}`,children:"Governance Metrics"})]})]}),0===t.length&&(0,R.jsx)(C.Fc,{type:"warning",title:"No Data Available",message:"Add ESG data entries to generate comprehensive reports.",className:"mt-4"})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg ${r?"bg-blue-900/20 border-blue-700":"bg-blue-50 border-blue-200"} border`,children:[(0,R.jsx)("h3",{className:"text-lg font-semibold mb-3 "+(r?"text-blue-300":"text-blue-800"),children:"\ud83d\udccb Report Preview"}),(0,R.jsxs)("div",{className:"space-y-2",children:[(0,R.jsxs)("div",{className:"text-sm "+(r?"text-blue-200":"text-blue-700"),children:[(0,R.jsx)("strong",{children:"Title:"})," ",i.title]}),(0,R.jsxs)("div",{className:"text-sm "+(r?"text-blue-200":"text-blue-700"),children:[(0,R.jsx)("strong",{children:"Company:"})," ",i.companyName]}),(0,R.jsxs)("div",{className:"text-sm "+(r?"text-blue-200":"text-blue-700"),children:[(0,R.jsx)("strong",{children:"Framework:"})," ",i.framework]}),(0,R.jsxs)("div",{className:"text-sm "+(r?"text-blue-200":"text-blue-700"),children:[(0,R.jsx)("strong",{children:"Sections:"})," ",Object.values(i.sections).filter(Boolean).length+i.customSections.length," sections selected"]})]})]})]})})};var ne=a(7097);const ie=["#3a7a44","#6b7bd6","#ffbb28","#ff8042"];function le(e){return e.map(e=>{let t=null;if(e.reportingYear&&!isNaN(parseInt(e.reportingYear)))t=parseInt(e.reportingYear);else if(e.timestamp)try{t=new Date(e.timestamp).getFullYear()}catch{t=(new Date).getFullYear()}else t=(new Date).getFullYear();if(e.environmental||e.social||e.governance){const a=[];return["environmental","social","governance"].forEach(s=>{e[s]&&Object.entries(e[s]).forEach(r=>{let[n,i]=r;"description"===n||""===i||isNaN(parseFloat(i))||a.push({...e,category:s,metric:n,value:parseFloat(i),year:t,companyName:e.companyName,sector:e.sector,region:e.region})})}),a}{const a=(e.category||"").toLowerCase(),s=parseFloat(e.value);return[{...e,year:t,category:a,value:isNaN(s)?null:s}]}}).flat().filter(e=>e.year&&e.category&&null!==e.value&&["environmental","social","governance"].includes(e.category))}function oe(e){const t={};return e.forEach(e=>{t[e.year]||(t[e.year]={year:e.year,environmental:{sum:0,count:0},social:{sum:0,count:0},governance:{sum:0,count:0}}),["environmental","social","governance"].includes(e.category)&&(t[e.year][e.category].sum+=e.value,t[e.year][e.category].count+=1)}),Object.values(t).map(e=>({year:e.year,environmental:e.environmental.count?(e.environmental.sum/e.environmental.count).toFixed(2):"-",social:e.social.count?(e.social.sum/e.social.count).toFixed(2):"-",governance:e.governance.count?(e.governance.sum/e.governance.count).toFixed(2):"-",average:[e.environmental,e.social,e.governance].every(e=>e.count)?((e.environmental.sum/e.environmental.count+e.social.sum/e.social.count+e.governance.sum/e.governance.count)/3).toFixed(2):"-"})).sort((e,t)=>e.year-t.year)}function ce(e){const t={environmental:{sum:0,count:0},social:{sum:0,count:0},governance:{sum:0,count:0}};e.forEach(e=>{["environmental","social","governance"].includes(e.category)&&(t[e.category].sum+=e.value,t[e.category].count+=1)});const a=t.environmental.count?(t.environmental.sum/t.environmental.count).toFixed(2):"-",s=t.social.count?(t.social.sum/t.social.count).toFixed(2):"-",r=t.governance.count?(t.governance.sum/t.governance.count).toFixed(2):"-",n=[a,s,r].every(e=>"-"!==e)?((+a+ +s+ +r)/3).toFixed(2):"-";return{environmental:a,social:s,governance:r,overall:n}}const de=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=new Map;return e.forEach(e=>{const a=e.id||`${e.companyName||""}|${(e.category||"").toLowerCase()}|${e.metric||""}|${e.year||e.reportingYear||""}|${String(e.value)}`,s=t.get(a);if(s){const r=new Date(s.timestamp||s.createdAt||0).getTime();new Date(e.timestamp||e.createdAt||0).getTime()>=r&&t.set(a,e)}else t.set(a,e)}),Array.from(t.values())};const me=function(){var e,t,a,b,F;const{isDark:I,toggleTheme:k}=(0,f.D)(),G=(0,j.Y)(I),[A]=(0,s.useState)({role:localStorage.getItem("userRole")||"esg_manager",id:localStorage.getItem("currentUser")||"user_123"}),[M,O]=(0,s.useState)([]),[z,B]=(0,s.useState)("SEBI BRSR"),[L,_]=(0,s.useState)("All"),[U,Y]=(0,s.useState)((new Date).getFullYear()),[W,q]=(0,s.useState)([]),[V,H]=(0,s.useState)({}),[K,X]=(0,s.useState)(!1),[Q,J]=(0,s.useState)(""),[Z,ee]=(0,s.useState)([]),[te,ae]=(0,s.useState)("timestamp"),[me,xe]=(0,s.useState)("desc"),[pe,he]=(0,s.useState)(null),[ge,ue]=(0,s.useState)(!1),[ve,ye]=(0,s.useState)(!1),[be,fe]=(0,s.useState)(!1),[je,Ne]=(0,s.useState)(!1),[Se,Ce]=(0,s.useState)(!1),[we,Fe]=(0,s.useState)(!1),[Ee,Re]=(0,s.useState)({}),[$e,Te]=(0,s.useState)({}),[Ie,ke]=(0,s.useState)(!1),Ge=async()=>{ue(!0);try{const e=await(0,v.YF)(),t={companyName:e&&e.length&&e[0].companyName||"Company",environmental:e.filter(e=>"environmental"===e.category),social:e.filter(e=>"social"===e.category),governance:e.filter(e=>"governance"===e.category),kpis:{},analytics:{}},a=z&&z.includes("GRI")?"GRI":z,s=ne.E.generateESGReport(t,a),r=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");i.href=n;const l=`ESG-Full-Report-${z.replace(/\s+/g,"-")}-${(new Date).toISOString().split("T")[0]}.json`;i.download=l,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(n),We("Full report downloaded","success")}catch(e){console.error("Failed to save full report",e),We("Failed to download report","error")}finally{ue(!1)}},Ae=()=>{const e=le(M).filter(e=>"environmental"===e.category);return[{name:"Total Electricity Consumption",value:Oe(e,"energyConsumption")+" kWh"},{name:"Renewable Electricity Consumption",value:Oe(e,"renewableEnergyRatio")+" kWh"},{name:"Total Fuel Consumption",value:Oe(e,"fuelConsumption")+" liters"},{name:"Carbon Emissions",value:Oe(e,"carbonEmissions")+" T CO2e"},{name:"Water Usage",value:Oe(e,"waterUsage")+" cubic meters"},{name:"Waste Management",value:Oe(e,"wasteManagement")+" tons"}].filter(e=>e.value&&""!==String(e.value).trim()&&!String(e.value).startsWith("0 "))},De=()=>{const e=le(M).filter(e=>"social"===e.category);return[{name:"Total Number of Employees",value:Oe(e,"totalEmployees")},{name:"Female Employees Percentage",value:Oe(e,"femaleEmployeesPercentage")+" %"},{name:"Average Training Hours per Employee",value:Oe(e,"trainingHours")+" hrs/yr"},{name:"Community Investment Spend",value:Oe(e,"communityInvestment")+" INR"},{name:"Employee Turnover Rate",value:Oe(e,"employeeTurnover")+" %"},{name:"Workplace Safety Incidents",value:Oe(e,"workplaceSafety")}].filter(e=>e.value&&""!==String(e.value).trim()&&!String(e.value).startsWith("0"))},Pe=()=>{const e=le(M).filter(e=>"governance"===e.category);return[{name:"% of Independent Board Members",value:Oe(e,"boardDiversity")+" %"},{name:"Data Privacy Policy",value:Oe(e,"dataPrivacyPolicy")?"Yes":"No"},{name:"Total Revenue",value:Oe(e,"totalRevenue")+" INR"},{name:"Ethics Violations",value:Oe(e,"ethicsViolations")},{name:"Transparency Score",value:Oe(e,"transparencyScore")+" %"},{name:"Risk Management Score",value:Oe(e,"riskManagement")+" %"}].filter(e=>e.value&&""!==String(e.value).trim()&&!String(e.value).startsWith("0"))},Me=()=>{const e=le(M),t=e.filter(e=>"environmental"===e.category),a=e.filter(e=>"social"===e.category),s=e.filter(e=>"governance"===e.category),r=Oe(s,"totalRevenue"),n=Oe(t,"carbonEmissions"),i=Oe(a,"communityInvestment"),l=Oe(t,"renewableEnergyRatio"),o=Oe(a,"femaleEmployeesPercentage"),c=[];return n>0&&r>0&&c.push({name:"Carbon Intensity",value:(n/r).toFixed(6)+" T CO2e/INR"}),l>0&&c.push({name:"Renewable Electricity Ratio",value:l.toFixed(2)+" %"}),o>0&&c.push({name:"Gender Diversity Ratio",value:o.toFixed(0)+" %"}),i>0&&r>0&&c.push({name:"Community Spend Ratio",value:(i/r*100).toFixed(2)+" %"}),c},Oe=(e,t)=>{let a=e.find(e=>e.metric===t);if(a||(a=e.find(e=>e.metric&&e.metric.toLowerCase().includes(t.toLowerCase()))),!a){const s={energyConsumption:["energy","electricity","power"],carbonEmissions:["carbon","emissions","co2","scope"],waterUsage:["water","withdrawal"],wasteGenerated:["waste","generated"],wasteRecycled:["recycled","recycling"],totalEmployees:["employees","workforce","headcount"],femaleEmployeesPercentage:["female","women","gender","diversity"],boardDiversity:["board","independent","directors"]}[t]||[];a=e.find(e=>s.some(t=>e.metric&&e.metric.toLowerCase().includes(t)))}return a&&parseFloat(a.value)||0},ze=async()=>{try{console.log("Refreshing data...");let t=await(0,v.YF)();if(!t||0===t.length)try{const e=localStorage.getItem("esgData");if(e){const a=JSON.parse(e);Array.isArray(a)&&a.length>0&&(console.log("Found data in direct localStorage access:",a),t=a)}}catch(e){console.warn("Failed to read direct localStorage:",e)}if(console.log("Retrieved data:",t),t&&t.length>0){const e=de(t.map(e=>({...e,status:e.status||"Submitted",timestamp:e.timestamp||e.submissionDate||(new Date).toISOString()})));console.log("Converted data:",e),O(e);const a=le(e);if(console.log("Normalized data:",a),q(oe(a)),H(ce(a)),a.length>0){const e=E(a,"GRI"),t=E(a,"SASB"),s=E(a,"TCFD"),r=E(a,"BRSR");Te({GRI:e,SASB:t,TCFD:s,BRSR:r})}if(a.length>0){const e=[...new Set(a.map(e=>e.year))].filter(e=>e&&!isNaN(e)).sort((e,t)=>t-e);e.length>0&&Y(e[0])}return}return console.log("No data found in storage"),O([]),q([]),void H({})}catch(t){console.error("Error loading data:",t),O([]),q([]),H({})}},Be=()=>le(M).filter(e=>{const t="All"===L||e.status===L,a=""===Q||e.companyName&&e.companyName.toLowerCase().includes(Q.toLowerCase())||e.metric&&e.metric.toLowerCase().includes(Q.toLowerCase())||e.category&&e.category.toLowerCase().includes(Q.toLowerCase());return t&&a}).sort((e,t)=>{let a=e[te],s=t[te];return"timestamp"===te?(a=new Date(a||0).getTime(),s=new Date(s||0).getTime()):"value"===te&&(a=parseFloat(a)||0,s=parseFloat(s)||0),"asc"===me?a>s?1:-1:a<s?1:-1}),Le=e=>{te===e?xe("asc"===me?"desc":"asc"):(ae(e),xe("asc"))};(0,s.useEffect)(()=>{ze();const e=setInterval(ze,3e4),t=document.createElement("style");return t.textContent="\n      @media print {\n        .no-print { display: none !important; }\n        .print-break { page-break-before: always; }\n        body { font-size: 12pt; }\n        .bg-white { background: white !important; }\n        .shadow { box-shadow: none !important; }\n        .rounded-xl { border-radius: 0 !important; }\n      }\n    ",document.head.appendChild(t),()=>clearInterval(e)},[]);const _e=()=>{const e=le(M),t={};return e.forEach(e=>{const a=e.category.charAt(0).toUpperCase()+e.category.slice(1);t[a]||(t[a]=0),t[a]++}),Object.entries(t).map(e=>{let[t,a]=e;return{name:t,value:a}})},Ue=le(M).filter(e=>"All"===L||e.status===L),Ye=async()=>{const e=await(0,v.YF)(),t=le(e),a=e&&e.length>0&&e[0].companyName||"Company",s=P(z,t,{companyName:a,reportPeriod:U||(new Date).getFullYear()}),r=`Professional-ESG-Report-${z.replace(/\s+/g,"-")}-${(new Date).toISOString().split("T")[0]}.pdf`;s.save(r),We(`Professional ${z} report generated successfully!`,"success")},We=function(e){he({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}),setTimeout(()=>he(null),3e3)},qe=w.sp.hasPermission(A.role,w.Jj.VIEW_REPORTS);return w.sp.hasPermission(A.role,w.Jj.EXPORT_DATA),(0,R.jsxs)("div",{className:`min-h-screen transition-colors duration-300 ${G.bg.gradient}`,children:[(0,R.jsx)(N.A,{onLogout:()=>{window.location.href="/login"},currentUser:"admin@esgenius.com",title:"ESG Reports & Analytics",subtitle:"Comprehensive ESG Performance Reporting",showBreadcrumb:!0,breadcrumbItems:[{label:"Dashboard",href:"/"},{label:"Reports",href:"/reports",active:!0}],actions:[{label:"Save JSON",onClick:async()=>{await Ge()},variant:"outline"},{label:"Save PDF",onClick:async()=>{X(!1),await Ye()},variant:"outline"},{label:"Refresh Data",onClick:()=>{ze(),We("Data refreshed successfully!","success")},variant:"outline",icon:"\ud83d\udd04"},{label:"View Data Entry",onClick:()=>window.location.href="/data-entry",variant:"primary",icon:"\ud83d\udcdd"}]}),(0,R.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,R.jsx)(T,{complianceData:$e}),(0,R.jsx)("div",{className:`mb-6 p-4 rounded-lg ${G.bg.subtle} border-l-4 border-blue-500`,children:(0,R.jsxs)("div",{className:"flex items-center justify-between",children:[(0,R.jsxs)("div",{className:"flex items-center gap-3",children:[(0,R.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc8"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h3",{className:`font-semibold ${G.text.primary}`,children:"Data Status"}),(0,R.jsx)("p",{className:`text-sm ${G.text.secondary}`,children:M.length>0?`${M.length} ESG data points loaded from ${(null===(e=M[0])||void 0===e?void 0:e.companyName)||"your submissions"}`:"No ESG data found. Submit data via Data Entry to generate reports."})]})]}),(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[0===M.length?(0,R.jsx)("div",{className:"flex gap-2",children:(0,R.jsx)("button",{onClick:()=>window.location.href="/data-entry",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:"\ud83d\udcdd Add Data"})}):(0,R.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,R.jsx)("button",{onClick:()=>window.location.href="/data-entry",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:"\ud83d\udcdd Add Data"}),(0,R.jsx)("button",{onClick:()=>{const e=E(M,"GRI"),t=E(M,"SASB");Re({GRI:e,SASB:t}),Fe(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm whitespace-nowrap",children:"\ud83d\udccb Framework Compliance"}),(0,R.jsx)("button",{onClick:()=>ke(!0),className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 text-sm whitespace-nowrap",children:"\ud83d\udcc4 Framework Reports"}),(0,R.jsx)("button",{onClick:()=>{if(window.confirm("Are you sure you want to clear all ESG data? This action cannot be undone."))try{const e=["esgData","esg_database","suppliers","sampleData","dummyData","testData"];e.forEach(e=>{localStorage.removeItem(e)}),O([]),q([]),H({}),We("All data cleared successfully","success"),console.log("Cleared localStorage keys:",e)}catch(e){console.error("Error clearing data:",e),We("Error clearing data","error")}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 text-sm",title:"Clear all ESG data",children:"\ud83d\uddd1\ufe0f Clear Data"})]}),(0,R.jsx)("span",{className:"px-2 py-1 rounded text-xs "+(M.length>0?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:M.length>0?"Data Available":"No Data"}),M.length>0&&(0,R.jsx)("span",{className:"px-2 py-1 rounded text-xs bg-blue-100 text-blue-800",children:"GRI/SASB Ready"})]})]})}),!qe&&(0,R.jsx)(C.Fc,{type:"warning",title:"Access Restricted",message:"You do not have permission to view reports. Please contact your administrator.",className:"mb-6"}),(0,R.jsxs)("div",{className:`p-6 rounded-xl shadow-lg mb-8 ${G.bg.card}`,children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("h2",{className:`text-2xl font-bold ${G.text.primary}`,children:"ESG Performance Overview"}),(0,R.jsx)("p",{className:`text-sm ${G.text.secondary}`,children:"Comprehensive sustainability metrics dashboard"})]}),(0,R.jsx)("div",{className:"flex items-center gap-2",children:(0,R.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+(I?"bg-green-900 text-green-300":"bg-green-100 text-green-800"),children:"Live Data"})})]}),V&&void 0!==V.environmental?(0,R.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,R.jsx)(S.fg,{icon:"\ud83c\udf0d",value:V.environmental,label:"Environmental Score",trend:"\u2191 +2.3%",trendColor:"success",progress:parseFloat(V.environmental)||0}),(0,R.jsx)(S.fg,{icon:"\ud83d\udc65",value:V.social,label:"Social Score",trend:"\u2191 +1.8%",trendColor:"success",progress:parseFloat(V.social)||0}),(0,R.jsx)(S.fg,{icon:"\u2696\ufe0f",value:V.governance,label:"Governance Score",trend:"\u2192 0.0%",trendColor:"neutral",progress:parseFloat(V.governance)||0}),(0,R.jsx)(S.fg,{icon:"\u2b50",value:V.overall,label:"Overall ESG Score",trend:"\u2191 +1.4%",trendColor:"success",progress:parseFloat(V.overall)||0})]}):(0,R.jsx)(C.Fc,{type:"info",title:"No Data Available",message:"Start by adding ESG data entries to generate comprehensive reports and analytics."})]}),(0,R.jsxs)("div",{className:`p-6 rounded-xl shadow-lg mb-8 ${G.bg.card}`,children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,R.jsx)("h2",{className:`text-xl font-bold ${G.text.primary}`,children:"Year-over-Year Performance"}),(0,R.jsxs)("div",{className:"flex items-center gap-4",children:[(0,R.jsx)("label",{className:`text-sm font-medium ${G.text.secondary}`,children:"Select Year:"}),(0,R.jsx)("select",{value:U,onChange:e=>Y(parseInt(e.target.value)),className:`border rounded-lg px-3 py-2 text-sm ${G.bg.input} ${G.border.input} ${G.text.primary}`,disabled:0===W.length,children:W.length>0?W.filter(e=>e.year&&!isNaN(e.year)).sort((e,t)=>t.year-e.year).map(e=>(0,R.jsx)("option",{value:e.year,children:e.year},e.year)):(0,R.jsxs)("option",{value:(new Date).getFullYear(),children:[(new Date).getFullYear()," (No Data)"]})})]})]}),(0,R.jsx)("div",{className:"overflow-x-auto",children:(0,R.jsxs)("table",{className:`min-w-full text-sm ${G.text.primary}`,children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{className:`${G.bg.subtle}`,children:[(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Year"}),(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Environmental"}),(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Social"}),(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Governance"}),(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Overall Avg"}),(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Status"})]})}),(0,R.jsx)("tbody",{className:"divide-y divide-gray-200",children:W.length>0?W.map(e=>(0,R.jsxs)("tr",{className:`hover:${G.bg.subtle} transition-colors duration-200 ${e.year===U?`${G.bg.accent} font-semibold`:""}`,children:[(0,R.jsx)("td",{className:"px-4 py-3",children:e.year}),(0,R.jsx)("td",{className:"px-4 py-3",children:(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)("span",{children:"-"!==e.environmental?e.environmental:"N/A"}),"-"!==e.environmental&&(0,R.jsx)("div",{className:"w-2 h-2 rounded-full "+(parseFloat(e.environmental)>=70?"bg-green-500":parseFloat(e.environmental)>=50?"bg-yellow-500":"bg-red-500")})]})}),(0,R.jsx)("td",{className:"px-4 py-3",children:(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)("span",{children:"-"!==e.social?e.social:"N/A"}),"-"!==e.social&&(0,R.jsx)("div",{className:"w-2 h-2 rounded-full "+(parseFloat(e.social)>=70?"bg-green-500":parseFloat(e.social)>=50?"bg-yellow-500":"bg-red-500")})]})}),(0,R.jsx)("td",{className:"px-4 py-3",children:(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)("span",{children:"-"!==e.governance?e.governance:"N/A"}),"-"!==e.governance&&(0,R.jsx)("div",{className:"w-2 h-2 rounded-full "+(parseFloat(e.governance)>=70?"bg-green-500":parseFloat(e.governance)>=50?"bg-yellow-500":"bg-red-500")})]})}),(0,R.jsx)("td",{className:"px-4 py-3 font-semibold",children:"-"!==e.average?e.average:"N/A"}),(0,R.jsx)("td",{className:"px-4 py-3",children:"-"!==e.average?(0,R.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+(parseFloat(e.average)>=70?"bg-green-100 text-green-800":parseFloat(e.average)>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:parseFloat(e.average)>=70?"Excellent":parseFloat(e.average)>=50?"Good":"Needs Improvement"}):(0,R.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:"No Data"})})]},e.year)):(0,R.jsx)("tr",{children:(0,R.jsx)("td",{colSpan:"6",className:"px-4 py-8 text-center text-gray-500",children:(0,R.jsxs)("div",{children:[(0,R.jsx)("p",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,R.jsx)("p",{children:"No yearly data available"}),(0,R.jsx)("p",{className:"text-sm",children:"Add ESG data to see year-over-year trends"})]})})})})]})})]}),(0,R.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,R.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow",children:[(0,R.jsx)("h2",{className:"text-lg font-bold bg-emerald-600 text-white p-3 -m-6 mb-4 rounded-t-xl",children:"Environmental"}),(0,R.jsxs)("table",{className:"w-full text-sm",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{className:"bg-emerald-600 text-white",children:[(0,R.jsx)("th",{className:"text-left p-2",children:"Metric"}),(0,R.jsx)("th",{className:"text-left p-2",children:"Value"})]})}),(0,R.jsx)("tbody",{className:"divide-y",children:Ae().map((e,t)=>(0,R.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,R.jsx)("td",{className:"p-2 text-gray-700",children:e.name}),(0,R.jsx)("td",{className:"p-2 font-medium",children:e.value})]},t))})]})]}),(0,R.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow",children:[(0,R.jsx)("h2",{className:"text-lg font-bold bg-emerald-600 text-white p-3 -m-6 mb-4 rounded-t-xl",children:"Social"}),(0,R.jsxs)("table",{className:"w-full text-sm",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{className:"bg-emerald-600 text-white",children:[(0,R.jsx)("th",{className:"text-left p-2",children:"Metric"}),(0,R.jsx)("th",{className:"text-left p-2",children:"Value"})]})}),(0,R.jsx)("tbody",{className:"divide-y",children:De().map((e,t)=>(0,R.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,R.jsx)("td",{className:"p-2 text-gray-700",children:e.name}),(0,R.jsx)("td",{className:"p-2 font-medium",children:e.value})]},t))})]})]})]}),(0,R.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,R.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow",children:[(0,R.jsx)("h2",{className:"text-lg font-bold bg-emerald-600 text-white p-3 -m-6 mb-4 rounded-t-xl",children:"Governance"}),(0,R.jsxs)("table",{className:"w-full text-sm",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{className:"bg-emerald-600 text-white",children:[(0,R.jsx)("th",{className:"text-left p-2",children:"Metric"}),(0,R.jsx)("th",{className:"text-left p-2",children:"Value"})]})}),(0,R.jsx)("tbody",{className:"divide-y",children:Pe().map((e,t)=>(0,R.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,R.jsx)("td",{className:"p-2 text-gray-700",children:e.name}),(0,R.jsx)("td",{className:"p-2 font-medium",children:e.value})]},t))})]})]}),(0,R.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow",children:[(0,R.jsx)("h2",{className:"text-lg font-bold bg-emerald-600 text-white p-3 -m-6 mb-4 rounded-t-xl",children:"Auto-Calculated Metrics"}),(0,R.jsxs)("table",{className:"w-full text-sm",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{className:"bg-emerald-600 text-white",children:[(0,R.jsx)("th",{className:"text-left p-2",children:"Metric"}),(0,R.jsx)("th",{className:"text-left p-2",children:"Value"})]})}),(0,R.jsx)("tbody",{className:"divide-y",children:Me().map((e,t)=>(0,R.jsxs)("tr",{className:t%2===0?"bg-gray-50":"bg-white",children:[(0,R.jsx)("td",{className:"p-2 text-gray-700",children:e.name}),(0,R.jsx)("td",{className:"p-2 font-medium",children:e.value})]},t))})]})]})]}),(0,R.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 no-print",children:[(0,R.jsxs)("div",{className:`p-6 rounded-xl shadow-lg ${G.bg.card}`,children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("h3",{className:`text-lg font-bold ${G.text.primary}`,children:"Score Distribution"}),(0,R.jsx)("p",{className:`text-sm ${G.text.secondary}`,children:"Current year performance breakdown"})]}),(0,R.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+(I?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-800"),children:U})]}),(0,R.jsx)("div",{className:"h-[250px]",children:W.length>0&&W.find(e=>e.year===U)?(0,R.jsx)(r.u,{width:"100%",height:"100%",children:(0,R.jsxs)(n.E,{data:[{year:U,environmental:parseFloat(null===(t=W.find(e=>e.year===U))||void 0===t?void 0:t.environmental)||0,social:parseFloat(null===(a=W.find(e=>e.year===U))||void 0===a?void 0:a.social)||0,governance:parseFloat(null===(b=W.find(e=>e.year===U))||void 0===b?void 0:b.governance)||0}],margin:{top:20,right:30,left:20,bottom:5},children:[(0,R.jsx)(i.d,{strokeDasharray:"3 3",stroke:I?"#374151":"#e5e7eb"}),(0,R.jsx)(l.W,{dataKey:"year",stroke:I?"#9ca3af":"#6b7280"}),(0,R.jsx)(o.h,{domain:[0,100],stroke:I?"#9ca3af":"#6b7280"}),(0,R.jsx)(c.m,{contentStyle:{backgroundColor:I?"#1f2937":"#ffffff",border:"1px solid "+(I?"#374151":"#e5e7eb"),borderRadius:"8px"},formatter:(e,t)=>[`${e}`,t.charAt(0).toUpperCase()+t.slice(1)]}),(0,R.jsx)(d.y,{dataKey:"environmental",fill:"#059669",name:"Environmental",radius:[4,4,0,0]}),(0,R.jsx)(d.y,{dataKey:"social",fill:"#2563eb",name:"Social",radius:[4,4,0,0]}),(0,R.jsx)(d.y,{dataKey:"governance",fill:"#7c3aed",name:"Governance",radius:[4,4,0,0]})]})}):(0,R.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsx)("p",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,R.jsxs)("p",{children:["No data for ",U]}),(0,R.jsx)("p",{className:"text-sm",children:"Select a different year or add data"})]})})})]}),(0,R.jsxs)("div",{className:`p-6 rounded-xl shadow-lg ${G.bg.card}`,children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("h3",{className:`text-lg font-bold ${G.text.primary}`,children:"Performance Trends"}),(0,R.jsx)("p",{className:`text-sm ${G.text.secondary}`,children:"Multi-year ESG score evolution"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsxs)("div",{className:"flex items-center gap-1",children:[(0,R.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,R.jsx)("span",{className:"text-xs",children:"E"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-1",children:[(0,R.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,R.jsx)("span",{className:"text-xs",children:"S"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-1",children:[(0,R.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,R.jsx)("span",{className:"text-xs",children:"G"})]})]})]}),(0,R.jsx)("div",{className:"h-[250px]",children:W.length>0?(0,R.jsx)(r.u,{width:"100%",height:"100%",children:(0,R.jsxs)(g.b,{data:W.map(e=>({year:e.year,environmental:parseFloat(e.environmental)||0,social:parseFloat(e.social)||0,governance:parseFloat(e.governance)||0})),margin:{top:20,right:30,left:20,bottom:5},children:[(0,R.jsx)(i.d,{strokeDasharray:"3 3",stroke:I?"#374151":"#e5e7eb"}),(0,R.jsx)(l.W,{dataKey:"year",stroke:I?"#9ca3af":"#6b7280"}),(0,R.jsx)(o.h,{domain:[0,100],stroke:I?"#9ca3af":"#6b7280"}),(0,R.jsx)(c.m,{contentStyle:{backgroundColor:I?"#1f2937":"#ffffff",border:"1px solid "+(I?"#374151":"#e5e7eb"),borderRadius:"8px"},formatter:(e,t)=>[`${e}`,t.charAt(0).toUpperCase()+t.slice(1)]}),(0,R.jsx)(u.N,{type:"monotone",dataKey:"environmental",stroke:"#059669",strokeWidth:3,dot:{fill:"#059669",strokeWidth:2,r:4}}),(0,R.jsx)(u.N,{type:"monotone",dataKey:"social",stroke:"#2563eb",strokeWidth:3,dot:{fill:"#2563eb",strokeWidth:2,r:4}}),(0,R.jsx)(u.N,{type:"monotone",dataKey:"governance",stroke:"#7c3aed",strokeWidth:3,dot:{fill:"#7c3aed",strokeWidth:2,r:4}})]})}):(0,R.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsx)("p",{className:"text-lg mb-2",children:"\ud83d\udcc8"}),(0,R.jsx)("p",{children:"No trend data available"}),(0,R.jsx)("p",{className:"text-sm",children:"Add multi-year data to see trends"})]})})})]})]}),M.length>0&&(0,R.jsxs)("div",{className:"border rounded-lg p-4 mb-6 "+(I?"bg-purple-900/30 border-purple-700":"bg-purple-50 border-purple-200"),children:[(0,R.jsx)("h3",{className:"font-medium mb-3 "+(I?"text-purple-300":"text-purple-800"),children:"\ud83e\udd16 AI-Powered Insights"}),(0,R.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:M.length>0?[{type:"data",message:`${M.length} ESG data points analyzed across ${new Set(M.map(e=>e.category)).size} categories`,priority:"info"},{type:"completeness",message:`Data coverage: ${Math.round(M.length/50*100)}% of recommended ESG metrics`,priority:M.length>25?"high":"medium"},{type:"trend",message:W.length>1?"Multi-year trend analysis available":"Add historical data for trend analysis",priority:W.length>1?"high":"low"},{type:"framework",message:`Ready for ${Object.keys($e).length} framework reports`,priority:"medium"}].map((e,t)=>(0,R.jsxs)("div",{className:`p-3 rounded-lg ${G.bg.subtle}`,children:[(0,R.jsx)("div",{className:`text-sm font-medium ${G.text.primary}`,children:e.message}),(0,R.jsxs)("div",{className:"text-xs "+("high"===e.priority?"text-green-600":"medium"===e.priority?"text-yellow-600":"info"===e.priority?"text-blue-600":"text-gray-600"),children:[e.priority.toUpperCase()," IMPACT"]})]},t)):(0,R.jsx)("div",{className:`p-3 rounded-lg ${G.bg.subtle} col-span-2 text-center`,children:(0,R.jsx)("div",{className:`text-sm ${G.text.secondary}`,children:"Add ESG data to generate AI-powered insights"})})})]}),(0,R.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,R.jsxs)("div",{className:`p-6 rounded-xl shadow-lg no-print ${G.bg.card}`,children:[(0,R.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,R.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc4"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h2",{className:`text-xl font-bold ${G.text.primary}`,children:"Report Templates"}),(0,R.jsx)("p",{className:`text-sm ${G.text.secondary}`,children:"Choose from industry-standard ESG frameworks"})]})]}),(0,R.jsx)("div",{className:"space-y-3",children:[{type:"SEBI BRSR",description:"Mandatory ESG report for listed Indian companies"},{type:"GRI Standards",description:"Global Reporting Initiative based template"},{type:"Carbon Report",description:"Tracks CO2 emissions and carbon footprint"},{type:"Water Usage",description:"Analyzes total water consumption"},{type:"Waste Management",description:"Details waste segregation and disposal"},{type:"TCFD",description:"Climate-related financial disclosures framework"},{type:"SASB",description:"Industry-specific sustainability standards"},{type:"EU Taxonomy",description:"EU sustainable finance classification"}].map((e,t)=>(0,R.jsxs)("div",{className:"border-2 p-4 rounded-xl cursor-pointer transition-all duration-200 hover:scale-102 "+(z===e.type?`${G.border.accent} ${G.bg.accent} shadow-lg`:`${G.border.primary} ${G.hover.card}`),onClick:()=>B(e.type),children:[(0,R.jsxs)("div",{className:"flex items-start justify-between",children:[(0,R.jsxs)("div",{className:"flex-1",children:[(0,R.jsx)("h3",{className:`font-semibold ${G.text.primary}`,children:e.type}),(0,R.jsx)("p",{className:`text-sm mt-1 ${G.text.secondary}`,children:e.description})]}),z===e.type&&(0,R.jsx)("div",{className:"ml-2",children:(0,R.jsx)("span",{className:"text-green-500 text-lg",children:"\u2713"})})]}),(0,R.jsxs)("div",{className:"mt-3 flex items-center gap-2",children:[(0,R.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+(I?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-800"),children:e.type.includes("SEBI")?"Regulatory":e.type.includes("GRI")?"International":e.type.includes("TCFD")?"Climate":e.type.includes("SASB")?"Industry":e.type.includes("EU")?"EU Regulatory":"Operational"}),(0,R.jsx)("span",{className:`text-xs ${G.text.muted}`,children:"\u2022 Updated 2024"})]})]},t))})]}),(0,R.jsxs)("div",{className:`p-6 rounded-xl shadow-lg print-break ${G.bg.card}`,id:"report-summary",children:[(0,R.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("h2",{className:`text-xl font-bold ${G.text.primary}`,children:z}),(0,R.jsx)("p",{className:`text-sm ${G.text.secondary}`,children:"Interactive data visualization"})]}),(0,R.jsx)("div",{className:"flex items-center gap-2",children:(0,R.jsx)("span",{className:"text-xs px-2 py-1 rounded-full "+(I?"bg-green-900 text-green-300":"bg-green-100 text-green-800"),children:"Live Data"})})]}),(0,R.jsx)("div",{className:"relative",children:(()=>{const e=le(M);switch(z){case"SEBI BRSR":const t=[{name:"Environmental",value:parseFloat(V.environmental)||0},{name:"Social",value:parseFloat(V.social)||0},{name:"Governance",value:parseFloat(V.governance)||0}].filter(e=>e.value>0);return 0===t.length?(0,R.jsx)("div",{className:"h-[250px] flex items-center justify-center text-gray-500",children:(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsx)("p",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,R.jsx)("p",{children:"No data available for visualization"}),(0,R.jsx)("p",{className:"text-sm",children:"Add ESG data to see charts"})]})}):(0,R.jsx)("div",{className:"h-[250px]",children:(0,R.jsx)(r.u,{width:"100%",height:"100%",children:(0,R.jsxs)(n.E,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[(0,R.jsx)(i.d,{strokeDasharray:"3 3"}),(0,R.jsx)(l.W,{dataKey:"name"}),(0,R.jsx)(o.h,{domain:[0,100]}),(0,R.jsx)(c.m,{formatter:e=>[`${e}`,"Score"]}),(0,R.jsx)(d.y,{dataKey:"value",fill:"#059669",radius:[4,4,0,0]})]})})});case"GRI Standards":const a=_e();if(0===a.length)return(0,R.jsx)("div",{className:"h-[250px] flex items-center justify-center text-gray-500",children:(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsx)("p",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,R.jsx)("p",{children:"No GRI data available"}),(0,R.jsx)("p",{className:"text-sm",children:"Add ESG data to generate GRI charts"})]})});const s=a;return(0,R.jsx)("div",{className:"h-[250px]",children:(0,R.jsx)(r.u,{width:"100%",height:"100%",children:(0,R.jsxs)(m.r,{margin:{top:20,right:30,left:20,bottom:20},children:[(0,R.jsx)(x.F,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a}=e;return`${t} (${(100*a).toFixed(0)}%)`},outerRadius:80,dataKey:"value",children:s.map((e,t)=>(0,R.jsx)(p.f,{fill:ie[t%ie.length]},`cell-${t}`))}),(0,R.jsx)(c.m,{}),(0,R.jsx)(h.s,{})]})})});case"Carbon Report":let v=W.map(e=>({name:e.year.toString(),emissions:parseFloat(e.environmental)||0}));return 0===v.length||v.every(e=>0===e.emissions)?(0,R.jsx)("div",{className:"h-[250px] flex items-center justify-center text-gray-500",children:(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsx)("p",{className:"text-lg mb-2",children:"\ud83c\udf0d"}),(0,R.jsx)("p",{children:"No carbon emissions data available"}),(0,R.jsx)("p",{className:"text-sm",children:"Add environmental data to track emissions"})]})}):(0,R.jsx)("div",{className:"h-[250px]",children:(0,R.jsx)(r.u,{width:"100%",height:"100%",children:(0,R.jsxs)(g.b,{data:v,margin:{top:20,right:30,left:20,bottom:5},children:[(0,R.jsx)(i.d,{strokeDasharray:"3 3"}),(0,R.jsx)(l.W,{dataKey:"name"}),(0,R.jsx)(o.h,{}),(0,R.jsx)(c.m,{formatter:e=>[`${e} T CO2e`,"Emissions"]}),(0,R.jsx)(u.N,{type:"monotone",dataKey:"emissions",stroke:"#dc2626",strokeWidth:3,dot:{fill:"#dc2626",strokeWidth:2,r:4}})]})})});case"Water Usage":const y=e.filter(e=>"environmental"===e.category&&("waterUsage"===e.metric||"waterWithdrawal"===e.metric||"total_water_withdrawal"===e.metric||e.metric.includes("water"))),b={};y.forEach(e=>{const t=new Date(e.timestamp).toLocaleDateString("en-US",{month:"short",year:"2-digit"});b[t]||(b[t]={usage:0,count:0}),b[t].usage+=e.value,b[t].count+=1});let f=Object.entries(b).map(e=>{let[t,a]=e;return{month:t,usage:Math.round(a.usage/a.count),target:Math.round(a.usage/a.count*.9)}}).sort((e,t)=>new Date(e.month)-new Date(t.month));return 0===f.length?(0,R.jsx)("div",{className:"h-[250px] flex items-center justify-center text-gray-500",children:(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsx)("p",{className:"text-lg mb-2",children:"\ud83d\udca7"}),(0,R.jsx)("p",{children:"No water usage data available"}),(0,R.jsx)("p",{className:"text-sm",children:"Add water management data to see usage trends"})]})}):(0,R.jsx)("div",{className:"h-[250px]",children:(0,R.jsx)(r.u,{width:"100%",height:"100%",children:(0,R.jsxs)(n.E,{data:f,margin:{top:20,right:30,left:20,bottom:5},children:[(0,R.jsx)(i.d,{strokeDasharray:"3 3"}),(0,R.jsx)(l.W,{dataKey:"month"}),(0,R.jsx)(o.h,{}),(0,R.jsx)(c.m,{formatter:(e,t)=>[`${e} m\xb3`,"usage"===t?"Usage":"Target"]}),(0,R.jsx)(d.y,{dataKey:"usage",fill:"#2563eb",name:"Usage",radius:[4,4,0,0]}),(0,R.jsx)(d.y,{dataKey:"target",fill:"#93c5fd",name:"Target",radius:[4,4,0,0]})]})})});case"Waste Management":const j=e.filter(e=>"environmental"===e.category&&(e.metric.includes("waste")||"wasteGenerated"===e.metric||"wasteRecycled"===e.metric));let N=[];return j.length>0&&(N=[{name:"Recycled",value:Oe(j,"wasteRecycled")||0,fill:"#059669"},{name:"Generated",value:Oe(j,"wasteGenerated")||0,fill:"#eab308"},{name:"Management",value:Oe(j,"wasteManagement")||0,fill:"#dc2626"}].filter(e=>e.value>0)),0===N.length?(0,R.jsx)("div",{className:"h-[250px] flex items-center justify-center text-gray-500",children:(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsx)("p",{className:"text-lg mb-2",children:"\u267b\ufe0f"}),(0,R.jsx)("p",{children:"No waste management data available"}),(0,R.jsx)("p",{className:"text-sm",children:"Add waste data to see management breakdown"})]})}):(0,R.jsx)("div",{className:"h-[250px]",children:(0,R.jsx)(r.u,{width:"100%",height:"100%",children:(0,R.jsxs)(m.r,{margin:{top:20,right:30,left:20,bottom:20},children:[(0,R.jsx)(x.F,{data:N,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a}=e;return`${t} (${(100*a).toFixed(0)}%)`},outerRadius:80,dataKey:"value",children:N.map((e,t)=>(0,R.jsx)(p.f,{fill:e.fill},`cell-${t}`))}),(0,R.jsx)(c.m,{formatter:e=>[`${e} tons`,"Waste"]}),(0,R.jsx)(h.s,{})]})})});case"TCFD":const S=e.filter(e=>"governance"===e.category&&(e.metric.includes("climate")||e.metric.includes("risk")||e.metric.includes("governance")));if(0===S.length)return(0,R.jsx)("div",{className:"h-[250px] flex items-center justify-center text-gray-500",children:(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsx)("p",{className:"text-lg mb-2",children:"\ud83c\udf21\ufe0f"}),(0,R.jsx)("p",{children:"No TCFD data available"}),(0,R.jsx)("p",{className:"text-sm",children:"Add climate-related governance data"})]})});const C=S.filter(e=>e.metric.includes("climate")||e.metric.includes("Climate")||e.metric.includes("risk")||e.metric.includes("Risk")),w=S.filter(e=>e.metric.includes("scenario")||e.metric.includes("Scenario")),F=S.filter(e=>e.metric.includes("governance")||e.metric.includes("Governance")||e.metric.includes("board")||e.metric.includes("Board")),E=S.filter(e=>e.metric.includes("target")||e.metric.includes("Target")||e.metric.includes("metric")||e.metric.includes("Metric")),$=[{name:"Climate Risk Assessment",value:C.length>0?Math.round(Math.min(100,C.reduce((e,t)=>e+t.value,0)/C.length)):0},{name:"Scenario Analysis",value:w.length>0?Math.round(Math.min(100,w.reduce((e,t)=>e+t.value,0)/w.length)):0},{name:"Governance",value:F.length>0?Math.round(Math.min(100,F.reduce((e,t)=>e+t.value,0)/F.length)):0},{name:"Metrics & Targets",value:E.length>0?Math.round(Math.min(100,E.reduce((e,t)=>e+t.value,0)/E.length)):0}].filter(e=>e.value>0);return(0,R.jsx)("div",{className:"h-[250px]",children:(0,R.jsx)(r.u,{width:"100%",height:"100%",children:(0,R.jsxs)(n.E,{data:$,margin:{top:20,right:30,left:20,bottom:5},children:[(0,R.jsx)(i.d,{strokeDasharray:"3 3"}),(0,R.jsx)(l.W,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),(0,R.jsx)(o.h,{domain:[0,100]}),(0,R.jsx)(c.m,{formatter:e=>[`${e}%`,"Compliance"]}),(0,R.jsx)(d.y,{dataKey:"value",fill:"#7c3aed",radius:[4,4,0,0]})]})})});case"SASB":const T=e.filter(e=>"environmental"===e.category),I=e.filter(e=>"social"===e.category);if(0===T.length&&0===I.length)return(0,R.jsx)("div",{className:"h-[250px] flex items-center justify-center text-gray-500",children:(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsx)("p",{className:"text-lg mb-2",children:"\ud83d\udccb"}),(0,R.jsx)("p",{children:"No SASB data available"}),(0,R.jsx)("p",{className:"text-sm",children:"Add industry-specific sustainability data"})]})});const k=T.filter(e=>e.metric.includes("energy")||e.metric.includes("Energy")),G=T.filter(e=>e.metric.includes("water")||e.metric.includes("Water")),A=T.filter(e=>e.metric.includes("waste")||e.metric.includes("Waste")),D=I.filter(e=>e.metric.includes("safety")||e.metric.includes("Safety")||e.metric.includes("health")||e.metric.includes("Health")||e.metric.includes("injury")||e.metric.includes("Injury")),P=[{name:"Energy Management",value:k.length>0?Math.round(k.reduce((e,t)=>e+t.value,0)/k.length):0},{name:"Water Management",value:G.length>0?Math.round(G.reduce((e,t)=>e+t.value,0)/G.length):0},{name:"Waste Management",value:A.length>0?Math.round(A.reduce((e,t)=>e+t.value,0)/A.length):0},{name:"Employee Health & Safety",value:D.length>0?Math.round(D.reduce((e,t)=>e+t.value,0)/D.length):0}].filter(e=>e.value>0);return(0,R.jsx)("div",{className:"h-[250px]",children:(0,R.jsx)(r.u,{width:"100%",height:"100%",children:(0,R.jsxs)(n.E,{data:P,margin:{top:20,right:30,left:20,bottom:5},children:[(0,R.jsx)(i.d,{strokeDasharray:"3 3"}),(0,R.jsx)(l.W,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),(0,R.jsx)(o.h,{domain:[0,100]}),(0,R.jsx)(c.m,{formatter:e=>[`${e}%`,"Performance"]}),(0,R.jsx)(d.y,{dataKey:"value",fill:"#f59e0b",radius:[4,4,0,0]})]})})});case"EU Taxonomy":const M=e.filter(e=>e.metric&&(e.metric.includes("taxonomy")||e.metric.includes("eligible")||e.metric.includes("aligned")));if(0===M.length)return(0,R.jsx)("div",{className:"h-[250px] flex items-center justify-center text-gray-500",children:(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsx)("p",{className:"text-lg mb-2",children:"\ud83c\uddea\ud83c\uddfa"}),(0,R.jsx)("p",{children:"No EU Taxonomy data available"}),(0,R.jsx)("p",{className:"text-sm",children:"Add taxonomy-eligible activity data"})]})});const O=M.filter(e=>e.metric.includes("eligible")||e.metric.includes("Eligible")),z=M.filter(e=>e.metric.includes("aligned")||e.metric.includes("Aligned")),B=O.length>0?Math.round(O.reduce((e,t)=>e+t.value,0)/O.length):0,L=z.length>0?Math.round(z.reduce((e,t)=>e+t.value,0)/z.length):0,_=[{name:"Eligible Activities",value:B},{name:"Aligned Activities",value:L},{name:"Non-Eligible",value:Math.max(0,100-B-L)}].filter(e=>e.value>0);return(0,R.jsx)("div",{className:"h-[250px]",children:(0,R.jsx)(r.u,{width:"100%",height:"100%",children:(0,R.jsxs)(m.r,{margin:{top:20,right:30,left:20,bottom:20},children:[(0,R.jsx)(x.F,{data:_,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a}=e;return`${t} (${(100*a).toFixed(0)}%)`},outerRadius:80,dataKey:"value",children:_.map((e,t)=>(0,R.jsx)(p.f,{fill:["#10b981","#3b82f6","#ef4444"][t]},`cell-${t}`))}),(0,R.jsx)(c.m,{formatter:e=>[`${e}%`,"Revenue Share"]}),(0,R.jsx)(h.s,{})]})})});default:const U=_e();if(0===U.length)return(0,R.jsx)("div",{className:"h-[250px] flex items-center justify-center text-gray-500",children:(0,R.jsxs)("div",{className:"text-center",children:[(0,R.jsx)("p",{className:"text-lg mb-2",children:"\ud83d\udcca"}),(0,R.jsx)("p",{children:"No ESG data available"}),(0,R.jsx)("p",{className:"text-sm",children:"Add data entries to generate visualizations"})]})});const Y=U;return(0,R.jsx)("div",{className:"h-[250px]",children:(0,R.jsx)(r.u,{width:"100%",height:"100%",children:(0,R.jsxs)(m.r,{margin:{top:20,right:30,left:20,bottom:20},children:[(0,R.jsx)(x.F,{data:Y,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:a}=e;return`${t} (${(100*a).toFixed(0)}%)`},outerRadius:80,dataKey:"value",children:Y.map((e,t)=>(0,R.jsx)(p.f,{fill:ie[t%ie.length]},`cell-${t}`))}),(0,R.jsx)(c.m,{}),(0,R.jsx)(h.s,{})]})})})}})()})]})]}),(0,R.jsxs)("div",{className:"hidden print:block mb-4",children:[(0,R.jsx)("h1",{className:"text-2xl font-bold text-center mb-2",children:"ESG Performance Report"}),(0,R.jsxs)("p",{className:"text-center text-gray-600",children:["Generated on ",(new Date).toLocaleDateString()]}),(0,R.jsx)("hr",{className:"my-4"})]}),(0,R.jsxs)("div",{className:`p-6 rounded-xl shadow-lg mt-8 ${G.bg.card}`,children:[(0,R.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("h2",{className:`text-xl font-bold ${G.text.primary}`,children:"Data History & Management"}),(0,R.jsxs)("p",{className:`text-sm ${G.text.secondary}`,children:[Ue.length," entries available for reporting"]})]}),(0,R.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,R.jsx)(C.pd,{type:"text",placeholder:"Search by company or metric...",value:Q,onChange:e=>J(e.target.value),className:"w-full md:w-64",icon:"\ud83d\udd0d"}),(0,R.jsxs)("select",{value:L,onChange:e=>_(e.target.value),className:`border rounded-lg px-3 py-2 text-sm ${G.bg.input} ${G.border.input} ${G.text.primary}`,children:[(0,R.jsx)("option",{value:"All",children:"All Status"}),(0,R.jsx)("option",{value:"Pending",children:"Pending"}),(0,R.jsx)("option",{value:"Submitted",children:"Submitted"}),(0,R.jsx)("option",{value:"Failed",children:"Failed"})]}),(0,R.jsx)(C.$n,{variant:"success",onClick:()=>{0!==Z.length?((async()=>{if(0===Z.length)return void We("Please select items to approve","warning");const e=[...M],t=parseInt(localStorage.getItem("currentUser"))||1;for(const s of Z)if(e[s]){e[s].status="Submitted",e[s].lastModified=(new Date).toISOString();try{const a={companyName:e[s].companyName,sector:e[s].sector,region:e[s].region,reportingYear:e[s].reportingYear,environmental:"environmental"===e[s].category?{[e[s].metric]:e[s].value}:{},social:"social"===e[s].category?{[e[s].metric]:e[s].value}:{},governance:"governance"===e[s].category?{[e[s].metric]:e[s].value}:{},userId:t};await y.A.saveESGData(a)}catch(a){console.error("Failed to approve item:",s,a)}}O(e),ee([]),We(`${Z.length} items approved successfully`,"success")})(),We(`${Z.length} items approved successfully`,"success")):We("Please select items to approve","warning")},disabled:0===Z.length,icon:"\u2713",children:"Bulk Approve"})]})]}),(0,R.jsxs)("div",{className:"mb-6 flex flex-wrap gap-4 text-sm",children:[(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),(0,R.jsxs)("span",{className:G.text.secondary,children:["Pending: ",Ue.filter(e=>"Pending"===(e.status||"Pending")).length]})]}),(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),(0,R.jsxs)("span",{className:G.text.secondary,children:["Submitted: ",Ue.filter(e=>"Submitted"===e.status).length]})]}),(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),(0,R.jsxs)("span",{className:G.text.secondary,children:["Failed: ",Ue.filter(e=>"Failed"===e.status).length]})]}),(0,R.jsx)("div",{className:"flex items-center gap-2 ml-auto",children:(0,R.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full "+(I?"bg-blue-900 text-blue-300":"bg-blue-100 text-blue-800"),children:["Total: ",Ue.length]})})]}),Ue.length>0?(0,R.jsx)("div",{className:"overflow-x-auto",children:(0,R.jsxs)("table",{className:`min-w-full text-sm ${G.text.primary}`,children:[(0,R.jsx)("thead",{className:`${G.bg.subtle}`,children:(0,R.jsxs)("tr",{children:[(0,R.jsx)("th",{className:"px-4 py-3 text-left",children:(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)("input",{type:"checkbox",checked:Z.length===Ue.length&&Ue.length>0,onChange:()=>{Z.length===Ue.length?ee([]):ee(Ue.map((e,t)=>t))},className:"rounded"}),(0,R.jsx)("span",{className:"font-semibold",children:"Company"})]})}),(0,R.jsx)("th",{className:"px-4 py-3 text-left",children:(0,R.jsxs)("button",{onClick:()=>Le("category"),className:"flex items-center gap-1 font-semibold hover:text-blue-600 transition-colors duration-200",children:["Category","category"===te&&(0,R.jsx)("span",{className:"text-blue-600",children:"asc"===me?"\u2191":"\u2193"})]})}),(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Metric"}),(0,R.jsx)("th",{className:"px-4 py-3 text-left",children:(0,R.jsxs)("button",{onClick:()=>Le("value"),className:"flex items-center gap-1 font-semibold hover:text-blue-600 transition-colors duration-200",children:["Value","value"===te&&(0,R.jsx)("span",{className:"text-blue-600",children:"asc"===me?"\u2191":"\u2193"})]})}),(0,R.jsx)("th",{className:"px-4 py-3 text-left",children:(0,R.jsxs)("button",{onClick:()=>Le("timestamp"),className:"flex items-center gap-1 font-semibold hover:text-blue-600 transition-colors duration-200",children:["Date","timestamp"===te&&(0,R.jsx)("span",{className:"text-blue-600",children:"asc"===me?"\u2191":"\u2193"})]})}),(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Status"}),(0,R.jsx)("th",{className:"px-4 py-3 text-left font-semibold",children:"Actions"})]})}),(0,R.jsx)("tbody",{className:"divide-y divide-gray-200",children:Be().map((e,t)=>(0,R.jsxs)("tr",{className:"transition-colors duration-200 "+(Z.includes(t)?`${G.bg.accent} border-l-4 border-blue-500`:`hover:${G.bg.subtle}`),children:[(0,R.jsx)("td",{className:"px-4 py-3",children:(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)("input",{type:"checkbox",checked:Z.includes(t),onChange:()=>{return e=t,void(Z.includes(e)?ee(Z.filter(t=>t!==e)):ee([...Z,e]));var e},className:"rounded"}),(0,R.jsx)("span",{className:"font-medium",children:e.companyName||"N/A"})]})}),(0,R.jsx)("td",{className:"px-4 py-3",children:(0,R.jsxs)("div",{className:"flex items-center gap-2",children:[(0,R.jsx)("div",{className:"w-3 h-3 rounded-full "+("environmental"===e.category?"bg-green-500":"social"===e.category?"bg-blue-500":"bg-purple-500")}),(0,R.jsx)("span",{className:"capitalize font-medium",children:e.category})]})}),(0,R.jsx)("td",{className:"px-4 py-3",children:(0,R.jsx)("span",{className:"font-medium",children:e.metric||"General"})}),(0,R.jsx)("td",{className:"px-4 py-3",children:(0,R.jsx)("span",{className:"font-bold text-lg",children:e.value})}),(0,R.jsx)("td",{className:"px-4 py-3",children:e.timestamp?(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{className:"font-medium",children:new Date(e.timestamp).toLocaleDateString()}),(0,R.jsx)("div",{className:`text-xs ${G.text.muted}`,children:new Date(e.timestamp).toLocaleTimeString()})]}):(0,R.jsx)("span",{className:G.text.muted,children:"N/A"})}),(0,R.jsx)("td",{className:"px-4 py-3",children:(0,R.jsxs)("select",{value:e.status||"Pending",onChange:e=>{(async(e,t)=>{const a=[...M];if(a[e]){a[e].status=t,a[e].lastModified=(new Date).toISOString(),O(a);try{const t=parseInt(localStorage.getItem("currentUser"))||1,s={companyName:a[e].companyName,sector:a[e].sector,region:a[e].region,reportingYear:a[e].reportingYear,environmental:"environmental"===a[e].category?{[a[e].metric]:a[e].value}:{},social:"social"===a[e].category?{[a[e].metric]:a[e].value}:{},governance:"governance"===a[e].category?{[a[e].metric]:a[e].value}:{},userId:t};await y.A.saveESGData(s)}catch(s){console.error("Failed to update status:",s)}}})(t,e.target.value),We(`Status updated to ${e.target.value}`,"success")},className:"text-xs font-semibold px-3 py-1 rounded-full border-0 cursor-pointer "+("Submitted"===e.status?"bg-green-100 text-green-800":"Pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[(0,R.jsx)("option",{value:"Pending",children:"Pending"}),(0,R.jsx)("option",{value:"Submitted",children:"Submitted"}),(0,R.jsx)("option",{value:"Failed",children:"Failed"})]})}),(0,R.jsx)("td",{className:"px-4 py-3",children:(0,R.jsxs)("div",{className:"flex gap-2",children:[(0,R.jsx)("button",{onClick:()=>{(e=>{const t=`Details:\nCompany: ${e.companyName||"N/A"}\nCategory: ${e.category||"N/A"}\nMetric: ${e.metric||"N/A"}\nValue: ${e.value||"N/A"}\nDate: ${e.timestamp?new Date(e.timestamp).toLocaleString():"N/A"}`;We(t,"info")})(e),We("Viewing item details","info")},className:`p-2 rounded-lg transition-colors duration-200 ${G.hover.subtle}`,title:"View Details",children:(0,R.jsx)("span",{className:"text-blue-600",children:"\ud83d\udc41\ufe0f"})}),(0,R.jsx)("button",{onClick:()=>{(async e=>{if(window.confirm("Are you sure you want to delete this item?")){const s=Be()[e];try{let e=!1;if(s&&s.id)try{const t=await y.A.request(`/esg/data/${s.id}`,{method:"DELETE"});if(!t||t.error)throw new Error((null===t||void 0===t?void 0:t.error)||"Delete failed");e=!0}catch(t){console.warn("Backend delete failed, will fallback to localStorage:",t)}try{const e=JSON.parse(localStorage.getItem("esgData")||"[]"),t=Array.isArray(e)?e.filter(e=>!s||(e.id&&s.id?e.id!==s.id:!(e.timestamp===s.timestamp&&e.companyName===s.companyName&&e.category===s.category&&e.metric===s.metric))):[];localStorage.setItem("esgData",JSON.stringify(t))}catch(t){console.warn("Failed to update localStorage during delete:",t)}try{O(e=>e.filter(e=>!s||(e.id&&s.id?e.id!==s.id:!(e.timestamp===s.timestamp&&e.companyName===s.companyName&&e.category===s.category&&e.metric===s.metric))))}catch(t){console.warn("Failed to update state data after delete:",t)}ee([]),We("Item deleted successfully","success")}catch(a){console.error("Failed to delete item:",a),We("Failed to delete item","error")}}})(t),We("Item deleted successfully","success")},className:`p-2 rounded-lg transition-colors duration-200 ${G.hover.subtle}`,title:"Delete",children:(0,R.jsx)("span",{className:"text-red-600",children:"\ud83d\uddd1\ufe0f"})})]})})]},t))})]})}):(0,R.jsx)(C.Fc,{type:"info",title:"No Data Available",message:"No report history found. Start by adding ESG data entries to generate reports."})]}),ve&&(0,R.jsx)(se,{data:M,onClose:()=>ye(!1)}),be&&(0,R.jsx)(re,{data:M,onClose:()=>fe(!1)}),we&&(0,R.jsx)(C.aF,{isOpen:we,onClose:()=>Fe(!1),title:"\ud83d\udccb Framework Compliance Analysis",size:"xl",isDark:I,children:(0,R.jsx)($,{})}),Ie&&(0,R.jsx)(D,{data:{companyName:(null===(F=M[0])||void 0===F?void 0:F.companyName)||"Company",reportingYear:(new Date).getFullYear(),environmental:M.filter(e=>"environmental"===e.category).reduce((e,t)=>(e[t.metric]=t.value,e),{}),social:M.filter(e=>"social"===e.category).reduce((e,t)=>(e[t.metric]=t.value,e),{}),governance:M.filter(e=>"governance"===e.category).reduce((e,t)=>(e[t.metric]=t.value,e),{})},onClose:()=>ke(!1)}),je&&(0,R.jsx)(C.aF,{isOpen:je,onClose:()=>Ne(!1),title:"\ud83d\udd2e Predictive ESG Analytics",isDark:I,children:(0,R.jsxs)("div",{className:"space-y-4",children:[(0,R.jsx)(C.Fc,{type:"info",title:"AI-Powered Insights",message:"Advanced predictive modeling for ESG performance forecasting"}),(0,R.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,R.jsxs)("div",{className:`p-4 rounded-lg ${G.bg.subtle}`,children:[(0,R.jsx)("h4",{className:`font-semibold ${G.text.primary} mb-2`,children:"\ud83d\udcc8 Trend Forecasting"}),(0,R.jsx)("p",{className:`text-sm ${G.text.secondary} mb-3`,children:"Predict ESG scores for next 12 months"}),(0,R.jsxs)("div",{className:"space-y-2",children:[(0,R.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,R.jsx)("span",{children:"Environmental"}),(0,R.jsx)("span",{className:"text-green-600",children:"\u2197 +5.2% projected"})]}),(0,R.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,R.jsx)("span",{children:"Social"}),(0,R.jsx)("span",{className:"text-blue-600",children:"\u2197 +3.1% projected"})]}),(0,R.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,R.jsx)("span",{children:"Governance"}),(0,R.jsx)("span",{className:"text-purple-600",children:"\u2192 +1.8% projected"})]})]})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg ${G.bg.subtle}`,children:[(0,R.jsx)("h4",{className:`font-semibold ${G.text.primary} mb-2`,children:"\u26a0\ufe0f Risk Assessment"}),(0,R.jsx)("p",{className:`text-sm ${G.text.secondary} mb-3`,children:"Identify potential ESG risks"}),(0,R.jsxs)("div",{className:"space-y-2",children:[(0,R.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,R.jsx)("span",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,R.jsx)("span",{children:"Carbon target at risk"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,R.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,R.jsx)("span",{children:"Social metrics on track"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,R.jsx)("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,R.jsx)("span",{children:"Governance improving"})]})]})]})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg border-l-4 border-blue-500 ${G.bg.subtle}`,children:[(0,R.jsx)("h4",{className:`font-semibold ${G.text.primary} mb-2`,children:"\ud83c\udfaf Recommendations"}),(0,R.jsxs)("ul",{className:`text-sm ${G.text.secondary} space-y-1`,children:[(0,R.jsx)("li",{children:"\u2022 Increase renewable energy adoption by 15% to meet 2025 targets"}),(0,R.jsx)("li",{children:"\u2022 Implement diversity training programs to improve social scores"}),(0,R.jsx)("li",{children:"\u2022 Enhance board independence for better governance ratings"})]})]}),(0,R.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,R.jsx)(C.$n,{variant:"primary",onClick:()=>We("Predictive model updated","success"),children:"Generate Forecast"}),(0,R.jsx)(C.$n,{variant:"outline",onClick:()=>Ne(!1),children:"Close"})]})]})}),Se&&(0,R.jsx)(C.aF,{isOpen:Se,onClose:()=>Ce(!1),title:"\ud83d\udd17 ESG Data Integrations",isDark:I,children:(0,R.jsxs)("div",{className:"space-y-4",children:[(0,R.jsx)(C.Fc,{type:"info",title:"Connect Your Systems",message:"Integrate with external ESG data sources and reporting platforms"}),(0,R.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,R.jsxs)("div",{className:`p-4 rounded-lg border ${G.border.primary}`,children:[(0,R.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,R.jsx)("span",{className:"text-2xl",children:"\ud83d\udcca"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h4",{className:`font-semibold ${G.text.primary}`,children:"Bloomberg ESG"}),(0,R.jsx)("p",{className:`text-xs ${G.text.secondary}`,children:"Market data integration"})]}),(0,R.jsx)("span",{className:"ml-auto px-2 py-1 text-xs bg-green-100 text-green-800 rounded",children:"Connected"})]}),(0,R.jsx)(C.$n,{size:"sm",variant:"outline",onClick:()=>We("Bloomberg sync initiated","success"),children:"Sync Data"})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg border ${G.border.primary}`,children:[(0,R.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,R.jsx)("span",{className:"text-2xl",children:"\ud83c\udf0d"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h4",{className:`font-semibold ${G.text.primary}`,children:"CDP Platform"}),(0,R.jsx)("p",{className:`text-xs ${G.text.secondary}`,children:"Carbon disclosure"})]}),(0,R.jsx)("span",{className:"ml-auto px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded",children:"Setup"})]}),(0,R.jsx)(C.$n,{size:"sm",variant:"primary",onClick:()=>We("CDP integration configured","success"),children:"Connect"})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg border ${G.border.primary}`,children:[(0,R.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,R.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc8"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h4",{className:`font-semibold ${G.text.primary}`,children:"MSCI ESG"}),(0,R.jsx)("p",{className:`text-xs ${G.text.secondary}`,children:"Rating benchmarks"})]}),(0,R.jsx)("span",{className:"ml-auto px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded",children:"Available"})]}),(0,R.jsx)(C.$n,{size:"sm",variant:"outline",onClick:()=>We("MSCI integration available","info"),children:"Learn More"})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg border ${G.border.primary}`,children:[(0,R.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,R.jsx)("span",{className:"text-2xl",children:"\ud83d\udd04"}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h4",{className:`font-semibold ${G.text.primary}`,children:"SAP Sustainability"}),(0,R.jsx)("p",{className:`text-xs ${G.text.secondary}`,children:"ERP integration"})]}),(0,R.jsx)("span",{className:"ml-auto px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:"Beta"})]}),(0,R.jsx)(C.$n,{size:"sm",variant:"outline",onClick:()=>We("SAP integration in beta","info"),children:"Join Beta"})]})]}),(0,R.jsxs)("div",{className:`p-4 rounded-lg ${G.bg.subtle}`,children:[(0,R.jsx)("h4",{className:`font-semibold ${G.text.primary} mb-2`,children:"\ud83d\ude80 API Endpoints"}),(0,R.jsxs)("div",{className:"space-y-2 text-sm font-mono",children:[(0,R.jsxs)("div",{className:"flex justify-between",children:[(0,R.jsx)("span",{children:"GET /api/esg/data"}),(0,R.jsx)("span",{className:"text-green-600",children:"Active"})]}),(0,R.jsxs)("div",{className:"flex justify-between",children:[(0,R.jsx)("span",{children:"POST /api/esg/import"}),(0,R.jsx)("span",{className:"text-green-600",children:"Active"})]}),(0,R.jsxs)("div",{className:"flex justify-between",children:[(0,R.jsx)("span",{children:"GET /api/esg/reports"}),(0,R.jsx)("span",{className:"text-green-600",children:"Active"})]})]})]}),(0,R.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,R.jsx)(C.$n,{variant:"primary",onClick:()=>We("Integration settings saved","success"),children:"Save Settings"}),(0,R.jsx)(C.$n,{variant:"outline",onClick:()=>Ce(!1),children:"Close"})]})]})}),pe&&(0,R.jsx)(C.y8,{message:pe.message,type:pe.type,onClose:()=>he(null)})]}),K&&(0,R.jsx)(C.aF,{isOpen:K,onClose:()=>X(!1),title:`Print Preview - ${z}`,size:"xl",actions:[{label:"Print Now",onClick:()=>{X(!1),setTimeout(()=>{window.print(),We("Report sent to printer","success")},100)},variant:"primary",icon:"\ud83d\udda8\ufe0f"},{label:"Close",onClick:()=>X(!1),variant:"outline"}],children:(0,R.jsx)("div",{className:"max-h-[70vh] overflow-y-auto",children:(0,R.jsxs)("div",{className:"print-preview",children:[(0,R.jsxs)("div",{className:"text-center mb-6",children:[(0,R.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"ESG Performance Report"}),(0,R.jsxs)("p",{className:"text-gray-600",children:["Report Type: ",z]}),(0,R.jsxs)("p",{className:"text-gray-600",children:["Generated on: ",(new Date).toLocaleDateString()]}),(0,R.jsx)("hr",{className:"my-4"})]}),(0,R.jsxs)("div",{className:"mb-6",children:[(0,R.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Overall ESG Performance Summary"}),(0,R.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,R.jsxs)("div",{className:"border p-3 text-center",children:[(0,R.jsx)("h3",{className:"font-semibold text-emerald-800",children:"Environmental"}),(0,R.jsx)("p",{className:"text-xl font-bold",children:V.environmental||"N/A"})]}),(0,R.jsxs)("div",{className:"border p-3 text-center",children:[(0,R.jsx)("h3",{className:"font-semibold text-blue-800",children:"Social"}),(0,R.jsx)("p",{className:"text-xl font-bold",children:V.social||"N/A"})]}),(0,R.jsxs)("div",{className:"border p-3 text-center",children:[(0,R.jsx)("h3",{className:"font-semibold text-purple-800",children:"Governance"}),(0,R.jsx)("p",{className:"text-xl font-bold",children:V.governance||"N/A"})]}),(0,R.jsxs)("div",{className:"border p-3 text-center",children:[(0,R.jsx)("h3",{className:"font-semibold text-gray-800",children:"Overall Score"}),(0,R.jsx)("p",{className:"text-xl font-bold",children:V.overall||"N/A"})]})]})]}),(0,R.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("h3",{className:"font-bold bg-emerald-600 text-white p-2 text-center",children:"Environmental"}),(0,R.jsxs)("table",{className:"w-full border border-collapse text-sm",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{className:"bg-emerald-600 text-white",children:[(0,R.jsx)("th",{className:"border p-2 text-left",children:"Metric"}),(0,R.jsx)("th",{className:"border p-2 text-left",children:"Value"})]})}),(0,R.jsx)("tbody",{children:Ae().map((e,t)=>(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{className:"border p-2",children:e.name}),(0,R.jsx)("td",{className:"border p-2",children:e.value})]},t))})]})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h3",{className:"font-bold bg-emerald-600 text-white p-2 text-center",children:"Social"}),(0,R.jsxs)("table",{className:"w-full border border-collapse text-sm",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{className:"bg-emerald-600 text-white",children:[(0,R.jsx)("th",{className:"border p-2 text-left",children:"Metric"}),(0,R.jsx)("th",{className:"border p-2 text-left",children:"Value"})]})}),(0,R.jsx)("tbody",{children:De().map((e,t)=>(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{className:"border p-2",children:e.name}),(0,R.jsx)("td",{className:"border p-2",children:e.value})]},t))})]})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h3",{className:"font-bold bg-emerald-600 text-white p-2 text-center",children:"Governance"}),(0,R.jsxs)("table",{className:"w-full border border-collapse text-sm",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{className:"bg-emerald-600 text-white",children:[(0,R.jsx)("th",{className:"border p-2 text-left",children:"Metric"}),(0,R.jsx)("th",{className:"border p-2 text-left",children:"Value"})]})}),(0,R.jsx)("tbody",{children:Pe().map((e,t)=>(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{className:"border p-2",children:e.name}),(0,R.jsx)("td",{className:"border p-2",children:e.value})]},t))})]})]}),(0,R.jsxs)("div",{children:[(0,R.jsx)("h3",{className:"font-bold bg-emerald-600 text-white p-2 text-center",children:"Auto-Calculated Metrics"}),(0,R.jsxs)("table",{className:"w-full border border-collapse text-sm",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{className:"bg-emerald-600 text-white",children:[(0,R.jsx)("th",{className:"border p-2 text-left",children:"Metric"}),(0,R.jsx)("th",{className:"border p-2 text-left",children:"Value"})]})}),(0,R.jsx)("tbody",{children:Me().map((e,t)=>(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{className:"border p-2",children:e.name}),(0,R.jsx)("td",{className:"border p-2",children:e.value})]},t))})]})]})]}),W.length>0&&(0,R.jsxs)("div",{className:"mt-6",children:[(0,R.jsx)("h3",{className:"font-bold mb-2",children:"Year-over-Year Performance"}),(0,R.jsxs)("table",{className:"w-full border border-collapse text-sm",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{className:"bg-gray-100",children:[(0,R.jsx)("th",{className:"border p-2",children:"Year"}),(0,R.jsx)("th",{className:"border p-2",children:"Environmental"}),(0,R.jsx)("th",{className:"border p-2",children:"Social"}),(0,R.jsx)("th",{className:"border p-2",children:"Governance"}),(0,R.jsx)("th",{className:"border p-2",children:"Overall Avg"})]})}),(0,R.jsx)("tbody",{children:W.map(e=>(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{className:"border p-2",children:e.year}),(0,R.jsx)("td",{className:"border p-2",children:e.environmental}),(0,R.jsx)("td",{className:"border p-2",children:e.social}),(0,R.jsx)("td",{className:"border p-2",children:e.governance}),(0,R.jsx)("td",{className:"border p-2",children:e.average})]},e.year))})]})]})]})})}),(0,R.jsx)("div",{className:"fixed bottom-4 right-6 left-6 md:left-auto md:right-6 z-50",children:(0,R.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-end gap-3",children:[(0,R.jsx)("button",{onClick:()=>Ge(),className:"px-4 py-2 rounded-lg bg-blue-600 text-white text-sm hover:bg-blue-700 shadow-lg",disabled:ge,title:"Save Full Report (JSON)",children:ge?"Saving...":"\ud83d\udcbe Save JSON"}),(0,R.jsx)("button",{onClick:()=>Ye(),className:"px-4 py-2 rounded-lg bg-gray-50 text-gray-800 text-sm border hover:bg-gray-100 shadow-lg",disabled:ge,title:"Save Full Report (PDF)",children:"\ud83d\udcc4 Save PDF"}),(0,R.jsx)("button",{onClick:()=>(()=>{const e=document.getElementById("report-summary");if(!e)return void We("No report content to print","error");const t=window.open("","_blank","width=1000,height=800");if(!t)return void We("Unable to open print window (popup blocked?)","error");const a=Array.from(document.querySelectorAll('link[rel="stylesheet"], style')).map(e=>e.outerHTML).join("\n");t.document.open(),t.document.write(`<!doctype html><html><head><title>ESG Report - Print</title>${a}</head><body>`),t.document.write(e.innerHTML),t.document.write("</body></html>"),t.document.close(),t.focus(),setTimeout(()=>{t.print()},600)})(),className:"px-4 py-2 rounded-lg bg-white text-gray-800 text-sm border hover:bg-gray-100 shadow-lg",title:"Print Report",children:"\ud83d\udda8\ufe0f Print"})]})})]})}},7097:(e,t,a)=>{a.d(t,{E:()=>s});class s{static generateESGReport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GRI";return{executiveSummary:this.generateExecutiveSummary(e),environmentalSection:this.generateEnvironmentalSection(e.environmental),socialSection:this.generateSocialSection(e.social),governanceSection:this.generateGovernanceSection(e.governance),kpiDashboard:this.generateKPIDashboard(e),frameworkMapping:this.mapToFramework(e,t),generatedAt:(new Date).toISOString()}}static generateExecutiveSummary(e){const t=this.identifyKeyHighlights(e);return{overview:`ESG performance summary for ${e.companyName}`,keyAchievements:t.achievements,challenges:t.challenges,targets:t.targets,materialTopics:t.materialTopics}}static generateEnvironmentalSection(e){return{climateChange:{ghgEmissions:e.ghgEmissions,energyConsumption:e.energyConsumption,renewableEnergyShare:e.renewableEnergyShare},resourceManagement:{waterUsage:e.waterUsage,wasteGeneration:e.wasteGeneration,recyclingRate:e.recyclingRate},biodiversity:e.biodiversityImpacts||[],targets:e.environmentalTargets||[]}}static generateSocialSection(e){return{workforce:{diversity:e.diversity,turnover:e.turnover,training:e.training},healthSafety:{incidentRate:e.incidentRate,safetyTraining:e.safetyTraining},community:{investments:e.communityInvestments,programs:e.communityPrograms},humanRights:e.humanRights||{}}}static generateGovernanceSection(e){return{boardStructure:{independence:e.boardIndependence,diversity:e.boardDiversity,size:e.boardSize},ethics:{codeOfConduct:e.codeOfConduct,trainingCompletion:e.ethicsTraining,violations:e.ethicsViolations},riskManagement:e.riskManagement||{},transparency:e.transparency||{}}}static generateKPIDashboard(e){var t,a,s,r,n,i;return{environmental:[{metric:"GHG Emissions",value:null===(t=e.environmental)||void 0===t?void 0:t.ghgEmissions,unit:"tCO2e",trend:"decreasing"},{metric:"Energy Intensity",value:null===(a=e.environmental)||void 0===a?void 0:a.energyIntensity,unit:"kWh/revenue",trend:"stable"}],social:[{metric:"Employee Turnover",value:null===(s=e.social)||void 0===s?void 0:s.turnover,unit:"%",trend:"improving"},{metric:"Safety Incidents",value:null===(r=e.social)||void 0===r?void 0:r.incidentRate,unit:"per 100k hours",trend:"decreasing"}],governance:[{metric:"Board Independence",value:null===(n=e.governance)||void 0===n?void 0:n.boardIndependence,unit:"%",trend:"stable"},{metric:"Ethics Training",value:null===(i=e.governance)||void 0===i?void 0:i.ethicsTraining,unit:"%",trend:"increasing"}]}}static mapToFramework(e,t){var a,s,r,n,i,l,o,c,d,m;return{GRI:{"GRI 305-1":null===(a=e.environmental)||void 0===a?void 0:a.scope1Emissions,"GRI 305-2":null===(s=e.environmental)||void 0===s?void 0:s.scope2Emissions,"GRI 401-1":null===(r=e.social)||void 0===r?void 0:r.newHires,"GRI 405-1":null===(n=e.social)||void 0===n?void 0:n.diversity},SASB:{"EM-GHG-110a.1":null===(i=e.environmental)||void 0===i?void 0:i.totalEmissions,"EM-GHG-110a.2":null===(l=e.environmental)||void 0===l?void 0:l.emissionIntensity},TCFD:{governance:null===(o=e.governance)||void 0===o?void 0:o.climateGovernance,strategy:null===(c=e.environmental)||void 0===c?void 0:c.climateStrategy,riskManagement:null===(d=e.governance)||void 0===d?void 0:d.climateRiskManagement,metrics:null===(m=e.environmental)||void 0===m?void 0:m.climateMetrics}}[t]||{}}static identifyKeyHighlights(e){return{achievements:["Reduced GHG emissions by 15%","Achieved 40% board diversity","Zero safety incidents this quarter"],challenges:["Scope 3 emissions tracking","Supply chain transparency","Data quality improvements needed"],targets:["Net zero by 2050","50% renewable energy by 2025","100% supplier ESG assessment by 2024"],materialTopics:["Climate Change","Employee Wellbeing","Data Privacy","Supply Chain Ethics"]}}static exportToPDF(e){return{format:"PDF",size:"2.5MB",pages:45,downloadUrl:"/reports/esg-report.pdf",generatedAt:(new Date).toISOString()}}static exportToXBRL(e,t){return{format:"XBRL",taxonomy:t,size:"1.2MB",downloadUrl:"/reports/esg-report.xbrl",generatedAt:(new Date).toISOString()}}}}}]);
//# sourceMappingURL=265.bf9a4c4a.chunk.js.map