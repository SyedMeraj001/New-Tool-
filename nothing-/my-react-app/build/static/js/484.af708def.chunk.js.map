{"version":3,"file":"static/js/484.af708def.chunk.js","mappings":"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","sources":["services/apiService.js","Analytics.js"],"sourcesContent":["const API_BASE = 'http://localhost:3004/api';\r\n\r\nclass APIService {\r\n  static async request(endpoint, options = {}) {\r\n    try {\r\n      const response = await fetch(`${API_BASE}${endpoint}`, {\r\n        headers: { 'Content-Type': 'application/json', ...options.headers },\r\n        ...options\r\n      });\r\n      return response.ok ? await response.json() : { error: 'API Error' };\r\n    } catch (error) {\r\n      console.warn('API unavailable:', error.message);\r\n      return { error: 'Backend offline' };\r\n    }\r\n  }\r\n\r\n  // ERP Integration\r\n  static configureERP(config) {\r\n    return this.request('/integrations/erp/configure', {\r\n      method: 'POST',\r\n      body: JSON.stringify(config)\r\n    });\r\n  }\r\n\r\n  static syncERP() {\r\n    return this.request('/integrations/erp/sync', { method: 'POST' });\r\n  }\r\n\r\n  // HR Integration  \r\n  static configureHR(config) {\r\n    return this.request('/integrations/hr/configure', {\r\n      method: 'POST',\r\n      body: JSON.stringify(config)\r\n    });\r\n  }\r\n\r\n  static syncHR() {\r\n    return this.request('/integrations/hr/sync', { method: 'POST' });\r\n  }\r\n\r\n  // Integration Status\r\n  static getIntegrationStatus() {\r\n    return this.request('/integrations/status');\r\n  }\r\n\r\n  // ESG Data Management\r\n  static async saveESGData(data) {\r\n    try {\r\n      const response = await this.request('/esg/data', {\r\n        method: 'POST',\r\n        body: JSON.stringify(data)\r\n      });\r\n      \r\n      if (response.error) {\r\n        throw new Error(response.error);\r\n      }\r\n      \r\n      return response;\r\n    } catch (error) {\r\n      console.error('Failed to save ESG data:', error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // Compliance Validation\r\n  static validateCompliance(data) {\r\n    return this.request('/compliance/validate', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n\r\n  // GHG Calculations\r\n  static calculateGHG(data) {\r\n    return this.request('/ghg/calculate', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n\r\n  // ESG Data Management\r\n  static saveESGData(data) {\r\n    return this.request('/esg/data', {\r\n      method: 'POST',\r\n      body: JSON.stringify(data)\r\n    });\r\n  }\r\n\r\n  static getESGData(userId) {\r\n    return this.request(`/esg/data/${userId}`);\r\n  }\r\n\r\n  static getESGScores(userId) {\r\n    return this.request(`/esg/scores/${userId}`);\r\n  }\r\n\r\n  static getESGKPIs(userId) {\r\n    return this.request(`/esg/kpis/${userId}`);\r\n  }\r\n\r\n  // Analytics Data\r\n  static getAnalyticsData(userId) {\r\n    return this.request(`/esg/analytics/${userId}`);\r\n  }\r\n}\r\n\r\nexport default APIService;","import React, { useEffect, useState } from \"react\";\r\nimport companyLogo from \"./companyLogo.jpg\";\r\n\r\nimport { Pie, Line, Bar, Doughnut } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend,\r\n  LineElement,\r\n  PointElement,\r\n  LinearScale,\r\n  CategoryScale,\r\n  BarElement,\r\n} from \"chart.js\";\r\nimport esgAPI from \"./api/esgAPI\";\r\nimport APIService from \"./services/apiService\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { useTheme } from \"./contexts/ThemeContext\";\r\nimport { getThemeClasses } from \"./utils/themeUtils\";\r\nimport ProfessionalHeader from \"./components/ProfessionalHeader\";\r\nimport { MetricCard, StatusCard } from \"./components/ProfessionalCard\";\r\nimport { Alert, Button, LoadingSpinner, Toast } from \"./components/ProfessionalUX\";\r\nimport { RBACManager, PERMISSIONS } from \"./utils/rbac\";\r\nimport { ESG_FRAMEWORKS, STANDARD_METRICS } from \"./utils/esgFrameworks\";\r\n\r\nChartJS.register(\r\n  ArcElement,\r\n  Tooltip,\r\n  Legend,\r\n  LineElement,\r\n  PointElement,\r\n  LinearScale,\r\n  CategoryScale,\r\n  BarElement\r\n);\r\n\r\n// Add 3D animations and styles\r\nconst style = document.createElement('style');\r\nstyle.textContent = `\r\n  @keyframes float3D {\r\n    0%, 100% { transform: translateY(0px) rotateX(0deg); }\r\n    50% { transform: translateY(-10px) rotateX(5deg); }\r\n  }\r\n  @keyframes pulse3D {\r\n    0%, 100% { transform: scale(1) rotateY(0deg); }\r\n    50% { transform: scale(1.05) rotateY(5deg); }\r\n  }\r\n  @keyframes slideIn3D {\r\n    from { transform: translateX(-50px) rotateY(-15deg); opacity: 0; }\r\n    to { transform: translateX(0) rotateY(0deg); opacity: 1; }\r\n  }\r\n  .chart-3d {\r\n    perspective: 1000px;\r\n    transform-style: preserve-3d;\r\n  }\r\n  .chart-container-3d {\r\n    transform: rotateX(5deg) rotateY(-5deg);\r\n    transition: all 0.3s ease;\r\n    box-shadow: 0 20px 40px rgba(0,0,0,0.1);\r\n  }\r\n  .chart-container-3d:hover {\r\n    transform: rotateX(8deg) rotateY(-8deg) scale(1.02);\r\n    box-shadow: 0 30px 60px rgba(0,0,0,0.15);\r\n  }\r\n  .metric-card-3d {\r\n    transform: perspective(800px) rotateX(5deg);\r\n    transition: all 0.4s ease;\r\n  }\r\n  .metric-card-3d:hover {\r\n    transform: perspective(800px) rotateX(10deg) rotateY(5deg) translateZ(20px);\r\n  }\r\n`;\r\ndocument.head.appendChild(style);\r\n\r\nconst Analytics = () => {\r\n  const { isDark, toggleTheme } = useTheme();\r\n  const theme = getThemeClasses(isDark);\r\n  const navigate = useNavigate();\r\n  const [currentUser] = useState({ role: 'esg_manager', id: 'user_123' });\r\n  const [data, setData] = useState([]);\r\n  const [kpis, setKpis] = useState({});\r\n  const [categoryData, setCategoryData] = useState({});\r\n  const [riskData, setRiskData] = useState({});\r\n  const [monthlyData, setMonthlyData] = useState({});\r\n  const [selectedTimeframe, setSelectedTimeframe] = useState('all');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [toast, setToast] = useState(null);\r\n  const [selectedMetric, setSelectedMetric] = useState('overall');\r\n  const [selectedFramework, setSelectedFramework] = useState('GRI');\r\n  const [refreshing, setRefreshing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        const currentUser = 'admin@esgenius.com'; // Backend-only user\r\n        \r\n        // Single API call for KPIs and data\r\n        const [backendKPIs, backendData] = await Promise.all([\r\n          APIService.getESGKPIs(currentUser),\r\n          APIService.getESGData(currentUser)\r\n        ]);\r\n        \r\n        if (backendKPIs && !backendKPIs.error && backendData && !backendData.error) {\r\n          // Use backend data\r\n          const convertedData = backendData.map(item => ({\r\n            companyName: item.companyName,\r\n            category: item.category,\r\n            metric: item.metric_name,\r\n            value: item.metric_value,\r\n            timestamp: item.created_at,\r\n            reportingYear: item.reporting_year,\r\n            overallScore: backendKPIs.overall_score || backendKPIs.overallScore\r\n          }));\r\n          \r\n          setData(convertedData);\r\n          setKpis({\r\n            overallScore: Math.round(backendKPIs.overall_score || backendKPIs.overallScore || 0),\r\n            environmental: Math.round(backendKPIs.environmental_score || backendKPIs.environmental || 0),\r\n            social: Math.round(backendKPIs.social_score || backendKPIs.social || 0),\r\n            governance: Math.round(backendKPIs.governance_score || backendKPIs.governance || 0),\r\n            complianceRate: backendKPIs.complianceRate || 94\r\n          });\r\n          \r\n          // Calculate category distribution from backend data\r\n          const categoryCount = { environmental: 0, social: 0, governance: 0 };\r\n          backendData.forEach(item => {\r\n            if (categoryCount[item.category] !== undefined) {\r\n              categoryCount[item.category]++;\r\n            }\r\n          });\r\n          setCategoryData(categoryCount);\r\n          \r\n          // Calculate risk distribution\r\n          const riskLevels = {\r\n            high: categoryCount.environmental < 5 ? 3 : 1,\r\n            medium: categoryCount.social < 5 ? 2 : 1,\r\n            low: categoryCount.governance >= 5 ? 4 : 2\r\n          };\r\n          setRiskData(riskLevels);\r\n          \r\n          // Generate monthly trends from backend data\r\n          const monthlyTrends = { 'Jan': 5, 'Feb': 8, 'Mar': 12, 'Apr': 15, 'May': 18, 'Jun': backendData.length };\r\n          setMonthlyData(monthlyTrends);\r\n        } else {\r\n          // Fallback to mock data if backend fails\r\n          setKpis({\r\n            overallScore: 75,\r\n            environmental: 72,\r\n            social: 78,\r\n            governance: 75,\r\n            complianceRate: 94\r\n          });\r\n          setCategoryData({ environmental: 8, social: 6, governance: 7 });\r\n          setRiskData({ high: 2, medium: 3, low: 5 });\r\n          setMonthlyData({ 'Jan': 5, 'Feb': 8, 'Mar': 12, 'Apr': 15, 'May': 18, 'Jun': 21 });\r\n        }\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        console.error('Error loading analytics data:', error);\r\n        // Set fallback data on error\r\n        setKpis({\r\n          overallScore: 75,\r\n          environmental: 72,\r\n          social: 78,\r\n          governance: 75,\r\n          complianceRate: 94\r\n        });\r\n        setCategoryData({ environmental: 8, social: 6, governance: 7 });\r\n        setRiskData({ high: 2, medium: 3, low: 5 });\r\n        setMonthlyData({ 'Jan': 5, 'Feb': 8, 'Mar': 12, 'Apr': 15, 'May': 18, 'Jun': 21 });\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadData();\r\n    const interval = setInterval(loadData, 30000); // Reduced frequency to 30 seconds\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  // Memoize chart data to prevent unnecessary re-renders\r\n  const categoryCount = React.useMemo(() => categoryData || { environmental: 0, social: 0, governance: 0 }, [categoryData]);\r\n  const riskLevels = React.useMemo(() => riskData || { high: 0, medium: 0, low: 0 }, [riskData]);\r\n  const monthlyTrends = React.useMemo(() => monthlyData || {}, [monthlyData]);\r\n\r\n\r\n  const pieData = {\r\n    labels: [\"Environmental\", \"Social\", \"Governance\"],\r\n    datasets: [\r\n      {\r\n        data: [\r\n          categoryCount.environmental,\r\n          categoryCount.social,\r\n          categoryCount.governance,\r\n        ],\r\n        backgroundColor: [\r\n          isDark ? \"#10b981\" : \"#059669\",\r\n          isDark ? \"#f59e0b\" : \"#d97706\", \r\n          isDark ? \"#3b82f6\" : \"#2563eb\"\r\n        ],\r\n        borderWidth: 3,\r\n        borderColor: isDark ? \"#374151\" : \"#ffffff\",\r\n        hoverOffset: 20,\r\n        hoverBorderWidth: 5,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const riskChartData = {\r\n    labels: [\"High Risk\", \"Medium Risk\", \"Low Risk\"],\r\n    datasets: [\r\n      {\r\n        data: [riskLevels.high, riskLevels.medium, riskLevels.low],\r\n        backgroundColor: [\r\n          isDark ? \"#ef4444\" : \"#dc2626\",\r\n          isDark ? \"#f59e0b\" : \"#d97706\",\r\n          isDark ? \"#10b981\" : \"#059669\"\r\n        ],\r\n        borderWidth: 3,\r\n        borderColor: isDark ? \"#374151\" : \"#ffffff\",\r\n        hoverOffset: 15,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const barData = {\r\n    labels: [\"Environmental\", \"Social\", \"Governance\"],\r\n    datasets: [\r\n      {\r\n        label: \"Current Score\",\r\n        data: [categoryCount.environmental || 0, categoryCount.social || 0, categoryCount.governance || 0],\r\n        backgroundColor: [\r\n          isDark ? \"rgba(16, 185, 129, 0.8)\" : \"rgba(5, 150, 105, 0.8)\",\r\n          isDark ? \"rgba(245, 158, 11, 0.8)\" : \"rgba(217, 119, 6, 0.8)\",\r\n          isDark ? \"rgba(59, 130, 246, 0.8)\" : \"rgba(37, 99, 235, 0.8)\"\r\n        ],\r\n        borderColor: [\r\n          isDark ? \"#10b981\" : \"#059669\",\r\n          isDark ? \"#f59e0b\" : \"#d97706\",\r\n          isDark ? \"#3b82f6\" : \"#2563eb\"\r\n        ],\r\n        borderWidth: 2,\r\n        borderRadius: 8,\r\n        borderSkipped: false,\r\n      },\r\n      {\r\n        label: \"Target Score\",\r\n        data: [80, 75, 85],\r\n        backgroundColor: isDark ? \"rgba(107, 114, 128, 0.3)\" : \"rgba(156, 163, 175, 0.3)\",\r\n        borderColor: isDark ? \"#6b7280\" : \"#9ca3af\",\r\n        borderWidth: 2,\r\n        borderRadius: 8,\r\n        borderSkipped: false,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const lineData = {\r\n    labels: Object.keys(monthlyTrends).slice(-6),\r\n    datasets: [\r\n      {\r\n        label: \"Monthly Submissions\",\r\n        data: Object.values(monthlyTrends).slice(-6),\r\n        borderColor: isDark ? \"#10b981\" : \"#059669\",\r\n        backgroundColor: isDark ? \"rgba(16, 185, 129, 0.1)\" : \"rgba(5, 150, 105, 0.1)\",\r\n        tension: 0.4,\r\n        fill: true,\r\n        pointBackgroundColor: isDark ? \"#10b981\" : \"#059669\",\r\n        pointBorderColor: isDark ? \"#ffffff\" : \"#ffffff\",\r\n        pointBorderWidth: 3,\r\n        pointRadius: 6,\r\n        pointHoverRadius: 8,\r\n      },\r\n      {\r\n        label: \"ESG Score Trend\",\r\n        data: data.length > 0 ? data.slice(-6).map(trend => trend.overallScore || 0) : [20, 25, 30, 28, 32, kpis.overallScore || 27],\r\n        borderColor: isDark ? \"#3b82f6\" : \"#2563eb\",\r\n        backgroundColor: isDark ? \"rgba(59, 130, 246, 0.1)\" : \"rgba(37, 99, 235, 0.1)\",\r\n        tension: 0.4,\r\n        fill: true,\r\n        pointBackgroundColor: isDark ? \"#3b82f6\" : \"#2563eb\",\r\n        pointBorderColor: isDark ? \"#ffffff\" : \"#ffffff\",\r\n        pointBorderWidth: 3,\r\n        pointRadius: 6,\r\n        pointHoverRadius: 8,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: {\r\n        labels: {\r\n          color: isDark ? '#e5e7eb' : '#374151',\r\n          font: { size: 12, weight: 'bold' }\r\n        }\r\n      },\r\n      tooltip: {\r\n        backgroundColor: isDark ? '#1f2937' : '#ffffff',\r\n        titleColor: isDark ? '#ffffff' : '#000000',\r\n        bodyColor: isDark ? '#e5e7eb' : '#374151',\r\n        borderColor: isDark ? '#374151' : '#e5e7eb',\r\n        borderWidth: 1,\r\n      }\r\n    },\r\n    scales: {\r\n      y: {\r\n        ticks: { color: isDark ? '#9ca3af' : '#6b7280' },\r\n        grid: { color: isDark ? '#374151' : '#e5e7eb' }\r\n      },\r\n      x: {\r\n        ticks: { color: isDark ? '#9ca3af' : '#6b7280' },\r\n        grid: { color: isDark ? '#374151' : '#e5e7eb' }\r\n      }\r\n    }\r\n  };\r\n\r\n  const riskColor = (val) =>\r\n    val >= 10 ? \"text-green-600\" : val >= 5 ? \"text-yellow-500\" : \"text-red-500\";\r\n\r\n  const showToast = (message, type = 'info') => {\r\n    setToast({ message, type });\r\n    setTimeout(() => setToast(null), 3000);\r\n  };\r\n\r\n  const refreshData = async () => {\r\n    setRefreshing(true);\r\n    try {\r\n      const currentUser = 'admin@esgenius.com'; // Backend-only user\r\n      \r\n      // Single API call for KPIs and data\r\n      const [backendKPIs, backendData] = await Promise.all([\r\n        APIService.getESGKPIs(currentUser),\r\n        APIService.getESGData(currentUser)\r\n      ]);\r\n      \r\n      if (backendKPIs && !backendKPIs.error && backendData && !backendData.error) {\r\n        // Use backend data\r\n        const convertedData = backendData.map(item => ({\r\n          companyName: item.companyName,\r\n          category: item.category,\r\n          metric: item.metric_name,\r\n          value: item.metric_value,\r\n          timestamp: item.created_at,\r\n          reportingYear: item.reporting_year,\r\n          overallScore: backendKPIs.overall_score || backendKPIs.overallScore\r\n        }));\r\n        \r\n        setData(convertedData);\r\n        setKpis({\r\n          overallScore: Math.round(backendKPIs.overall_score || backendKPIs.overallScore || 0),\r\n          environmental: Math.round(backendKPIs.environmental_score || backendKPIs.environmental || 0),\r\n          social: Math.round(backendKPIs.social_score || backendKPIs.social || 0),\r\n          governance: Math.round(backendKPIs.governance_score || backendKPIs.governance || 0),\r\n          complianceRate: backendKPIs.complianceRate || 94\r\n        });\r\n        \r\n        // Calculate distributions from backend data\r\n        const categoryCount = { environmental: 0, social: 0, governance: 0 };\r\n        backendData.forEach(item => {\r\n          if (categoryCount[item.category] !== undefined) {\r\n            categoryCount[item.category]++;\r\n          }\r\n        });\r\n        setCategoryData(categoryCount);\r\n        \r\n        const riskLevels = {\r\n          high: categoryCount.environmental < 5 ? 3 : 1,\r\n          medium: categoryCount.social < 5 ? 2 : 1,\r\n          low: categoryCount.governance >= 5 ? 4 : 2\r\n        };\r\n        setRiskData(riskLevels);\r\n        \r\n        const monthlyTrends = { 'Jan': 5, 'Feb': 8, 'Mar': 12, 'Apr': 15, 'May': 18, 'Jun': backendData.length };\r\n        setMonthlyData(monthlyTrends);\r\n        \r\n        showToast('Analytics data refreshed successfully', 'success');\r\n      } else {\r\n        showToast('Backend unavailable - using cached data', 'warning');\r\n      }\r\n    } catch (error) {\r\n      showToast('Failed to refresh analytics data', 'error');\r\n    } finally {\r\n      setRefreshing(false);\r\n    }\r\n  };\r\n\r\n  const canViewAnalytics = true; // RBACManager.hasPermission(currentUser.role, PERMISSIONS.VIEW_ANALYTICS);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className={`min-h-screen flex items-center justify-center ${theme.bg.gradient}`}>\r\n        <div className=\"text-center\">\r\n          <LoadingSpinner size=\"lg\" />\r\n          <p className={`mt-4 ${theme.text.primary}`}>Loading Analytics Dashboard...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`min-h-screen transition-all duration-500 ${\r\n      isDark \r\n        ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900' \r\n        : 'bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/40'\r\n    }`}>\r\n      <ProfessionalHeader \r\n        onLogout={handleLogout}\r\n        currentUser=\"admin@esgenius.com\"\r\n        title=\"Analytics Dashboard\"\r\n        subtitle=\"Advanced ESG Performance Insights & Trends\"\r\n        showBreadcrumb={true}\r\n        breadcrumbItems={[\r\n          { label: 'Dashboard', href: '/' },\r\n          { label: 'Analytics', href: '/analytics', active: true }\r\n        ]}\r\n        actions={[\r\n          {\r\n            label: 'Refresh Data',\r\n            onClick: refreshData,\r\n            variant: 'outline',\r\n            icon: 'üîÑ',\r\n            loading: refreshing\r\n          },\r\n          {\r\n            label: 'Export Analytics',\r\n            onClick: () => showToast('Analytics export feature coming soon', 'info'),\r\n            variant: 'primary',\r\n            icon: 'üì•'\r\n          }\r\n        ]}\r\n      />\r\n\r\n      <div className=\"max-w-7xl mx-auto p-6\">\r\n        {!canViewAnalytics && (\r\n          <Alert \r\n            type=\"warning\"\r\n            title=\"Access Restricted\"\r\n            message=\"You do not have permission to view analytics. Please contact your administrator.\"\r\n            className=\"mb-6\"\r\n          />\r\n        )}\r\n\r\n        {/* Enhanced Analytics Controls */}\r\n        <div className={`p-6 rounded-xl mb-8 transition-all duration-300 ${\r\n          isDark \r\n            ? 'bg-gray-800/90 backdrop-blur-sm shadow-xl border border-gray-700' \r\n            : 'bg-white/80 backdrop-blur-xl shadow-lg shadow-slate-200/30 border border-slate-200/60'\r\n        }`}>\r\n          <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4\">\r\n            <div>\r\n              <h2 className={`text-xl font-bold ${theme.text.primary}`}>Framework-Compliant Analytics</h2>\r\n              <p className={`text-sm ${theme.text.secondary}`}>GRI, SASB, TCFD aligned metrics and insights</p>\r\n            </div>\r\n            <div className=\"flex flex-wrap gap-3\">\r\n              <select\r\n                value={selectedTimeframe}\r\n                onChange={(e) => setSelectedTimeframe(e.target.value)}\r\n                className={`border rounded-lg px-3 py-2 text-sm ${theme.bg.input} ${theme.border.input} ${theme.text.primary}`}\r\n              >\r\n                <option value=\"all\">All Time</option>\r\n                <option value=\"year\">This Year</option>\r\n                <option value=\"quarter\">This Quarter</option>\r\n                <option value=\"month\">This Month</option>\r\n              </select>\r\n              <select\r\n                value={selectedMetric}\r\n                onChange={(e) => setSelectedMetric(e.target.value)}\r\n                className={`border rounded-lg px-3 py-2 text-sm ${theme.bg.input} ${theme.border.input} ${theme.text.primary}`}\r\n              >\r\n                <option value=\"overall\">Overall Performance</option>\r\n                <option value=\"environmental\">Environmental (GRI-300 series)</option>\r\n                <option value=\"social\">Social (GRI-400 series)</option>\r\n                <option value=\"governance\">Governance (GRI-200 series)</option>\r\n              </select>\r\n              <select\r\n                className={`border rounded-lg px-3 py-2 text-sm ${theme.bg.input} ${theme.border.input} ${theme.text.primary}`}\r\n              >\r\n                <option value=\"GRI\">GRI Standards</option>\r\n                <option value=\"SASB\">SASB Standards</option>\r\n                <option value=\"TCFD\">TCFD Framework</option>\r\n                <option value=\"CSRD\">CSRD/ESRS</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Enhanced KPI Metrics */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n          <MetricCard \r\n            icon=\"‚≠ê\"\r\n            value={kpis.overallScore || 27}\r\n            label=\"Overall ESG Score\"\r\n            trend=\"‚Üë +12% vs last month\"\r\n            trendColor=\"success\"\r\n            progress={kpis.overallScore || 27}\r\n          />\r\n          <MetricCard \r\n            icon=\"üìä\"\r\n            value={data.length}\r\n            label=\"Total Data Points\"\r\n            trend=\"‚Üë Active submissions\"\r\n            trendColor=\"info\"\r\n            progress={Math.min((data.length / 100) * 100, 100)}\r\n          />\r\n          <MetricCard \r\n            icon=\"‚úì\"\r\n            value={`${kpis.complianceRate || 94}%`}\r\n            label=\"Compliance Rate\"\r\n            trend=\"‚Üë Meeting targets\"\r\n            trendColor=\"success\"\r\n            progress={kpis.complianceRate || 94}\r\n          />\r\n          <MetricCard \r\n            icon=\"‚ö†Ô∏è\"\r\n            value={riskLevels.high > 5 ? 'HIGH' : riskLevels.medium > 3 ? 'MED' : 'LOW'}\r\n            label=\"Risk Assessment\"\r\n            trend={riskLevels.high > 5 ? '‚Üë Needs attention' : '‚Üí Stable'}\r\n            trendColor={riskLevels.high > 5 ? 'warning' : 'success'}\r\n            progress={riskLevels.high > 5 ? 25 : riskLevels.medium > 3 ? 60 : 90}\r\n          />\r\n        </div>\r\n\r\n        {/* Enhanced Main Charts Grid */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\r\n          <div className={`chart-3d chart-container-3d rounded-2xl p-6 border shadow-lg transition-all duration-300 ${theme.bg.card} ${theme.border.primary}`}>\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <div>\r\n                <h2 className={`text-lg font-semibold ${theme.text.primary}`}>ESG Category Distribution</h2>\r\n                <p className={`text-sm ${theme.text.secondary}`}>Data points by category</p>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-2xl\">üéØ</span>\r\n                <button \r\n                  onClick={() => showToast('Chart data refreshed', 'success')}\r\n                  className={`p-2 rounded-lg transition-colors duration-200 ${theme.hover.subtle}`}\r\n                >\r\n                  <span className=\"text-sm\">üîÑ</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div className=\"h-80 relative\">\r\n              <Pie data={pieData} options={chartOptions} />\r\n              {!canViewAnalytics && (\r\n                <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center rounded-lg\">\r\n                  <span className=\"text-white font-semibold\">Access Restricted</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`chart-3d chart-container-3d rounded-2xl p-6 border shadow-lg transition-all duration-300 ${theme.bg.card} ${theme.border.primary}`}>\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <div>\r\n                <h2 className={`text-lg font-semibold ${theme.text.primary}`}>Performance Trends</h2>\r\n                <p className={`text-sm ${theme.text.secondary}`}>Monthly progress tracking</p>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-2xl\">üìà</span>\r\n                <div className=\"flex items-center gap-1 text-xs\">\r\n                  <div className=\"w-2 h-2 bg-green-500 rounded-full\"></div>\r\n                  <span>Submissions</span>\r\n                  <div className=\"w-2 h-2 bg-blue-500 rounded-full ml-2\"></div>\r\n                  <span>Score</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"h-80 relative\">\r\n              <Line data={lineData} options={chartOptions} />\r\n              {!canViewAnalytics && (\r\n                <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center rounded-lg\">\r\n                  <span className=\"text-white font-semibold\">Access Restricted</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Enhanced Secondary Charts */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8\">\r\n          <div className={`chart-3d chart-container-3d rounded-2xl p-6 border shadow-lg transition-all duration-300 ${theme.bg.card} ${theme.border.primary}`}>\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <div>\r\n                <h2 className={`text-lg font-semibold ${theme.text.primary}`}>Performance vs Targets</h2>\r\n                <p className={`text-sm ${theme.text.secondary}`}>Current scores against benchmarks</p>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-2xl\">üìä</span>\r\n                <span className={`text-xs px-2 py-1 rounded-full ${\r\n                  isDark ? 'bg-blue-900 text-blue-300' : 'bg-blue-100 text-blue-800'\r\n                }`}>\r\n                  Target: 80%\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div className=\"h-80 relative\">\r\n              <Bar data={barData} options={chartOptions} />\r\n              {!canViewAnalytics && (\r\n                <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center rounded-lg\">\r\n                  <span className=\"text-white font-semibold\">Access Restricted</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className={`chart-3d chart-container-3d rounded-2xl p-6 border shadow-lg transition-all duration-300 ${theme.bg.card} ${theme.border.primary}`}>\r\n            <div className=\"flex items-center justify-between mb-6\">\r\n              <div>\r\n                <h2 className={`text-lg font-semibold ${theme.text.primary}`}>Risk Distribution</h2>\r\n                <p className={`text-sm ${theme.text.secondary}`}>Risk level assessment across categories</p>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <span className=\"text-2xl\">‚ö†Ô∏è</span>\r\n                <div className=\"flex items-center gap-1 text-xs\">\r\n                  <div className=\"w-2 h-2 bg-red-500 rounded-full\"></div>\r\n                  <span>High</span>\r\n                  <div className=\"w-2 h-2 bg-yellow-500 rounded-full ml-1\"></div>\r\n                  <span>Med</span>\r\n                  <div className=\"w-2 h-2 bg-green-500 rounded-full ml-1\"></div>\r\n                  <span>Low</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"h-80 relative\">\r\n              <Doughnut data={riskChartData} options={chartOptions} />\r\n              {!canViewAnalytics && (\r\n                <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center rounded-lg\">\r\n                  <span className=\"text-white font-semibold\">Access Restricted</span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Enhanced Detailed Analytics */}\r\n        <div className={`rounded-2xl p-6 border shadow-lg transition-all duration-300 ${theme.bg.card} ${theme.border.primary}`}>\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <div>\r\n              <h2 className={`text-xl font-bold ${theme.text.primary}`}>Category Performance Analysis</h2>\r\n              <p className={`text-sm ${theme.text.secondary}`}>Detailed breakdown by ESG categories</p>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"text-2xl\">üß†</span>\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => showToast('Performance analysis updated', 'success')}\r\n                icon=\"üîÑ\"\r\n              >\r\n                Refresh\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n            {[\"environmental\", \"social\", \"governance\"].map((key, idx) => {\r\n              const score = key === 'environmental' ? kpis.environmental : key === 'social' ? kpis.social : kpis.governance;\r\n              const count = categoryCount[key];\r\n              const riskLevel = count >= 10 ? \"Low\" : count >= 5 ? \"Medium\" : \"High\";\r\n              const target = 80;\r\n              const performance = score >= target ? 'excellent' : score >= target * 0.8 ? 'good' : score >= target * 0.6 ? 'fair' : 'poor';\r\n              \r\n              return (\r\n                <StatusCard\r\n                  key={idx}\r\n                  icon={key === 'environmental' ? 'üåç' : key === 'social' ? 'üë•' : 'üèõÔ∏è'}\r\n                  title={key.charAt(0).toUpperCase() + key.slice(1)}\r\n                  score={score || 0}\r\n                  target={target}\r\n                  status={performance}\r\n                  onClick={() => {\r\n                    setSelectedMetric(key);\r\n                    showToast(`Switched to ${key} focus view`, 'info');\r\n                  }}\r\n                  className=\"cursor-pointer hover:scale-105 transition-transform duration-200\"\r\n                >\r\n                  <div className=\"mt-4 space-y-2\">\r\n                    <div className=\"flex justify-between text-sm\">\r\n                      <span className={theme.text.secondary}>Data Points:</span>\r\n                      <span className={`font-semibold ${theme.text.primary}`}>{count}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between text-sm\">\r\n                      <span className={theme.text.secondary}>Risk Level:</span>\r\n                      <span className={`font-semibold ${\r\n                        riskLevel === 'Low' ? 'text-green-600' :\r\n                        riskLevel === 'Medium' ? 'text-yellow-600' : 'text-red-600'\r\n                      }`}>{riskLevel}</span>\r\n                    </div>\r\n                    <div className=\"flex justify-between text-sm\">\r\n                      <span className={theme.text.secondary}>vs Target:</span>\r\n                      <span className={`font-semibold ${\r\n                        score >= target ? 'text-green-600' : 'text-orange-600'\r\n                      }`}>\r\n                        {score >= target ? '‚úì On Track' : '‚ö† Below Target'}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                </StatusCard>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Framework Compliance Panel */}\r\n        <div className={`mt-8 rounded-2xl p-6 border shadow-lg transition-all duration-300 ${theme.bg.card} ${theme.border.primary}`}>\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <div>\r\n              <h2 className={`text-xl font-bold ${theme.text.primary}`}>Framework Compliance Status</h2>\r\n              <p className={`text-sm ${theme.text.secondary}`}>Alignment with global ESG standards</p>\r\n            </div>\r\n            <span className=\"text-2xl\">üìã</span>\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n            {Object.entries(ESG_FRAMEWORKS).map(([key, framework]) => (\r\n              <div key={key} className={`p-4 rounded-lg border ${theme.bg.subtle} ${theme.border.secondary}`}>\r\n                <h3 className={`font-semibold ${theme.text.primary} mb-2`}>{framework.name}</h3>\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className={theme.text.secondary}>Coverage:</span>\r\n                    <span className={`font-medium ${theme.text.primary}`}>85%</span>\r\n                  </div>\r\n                  <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                    <div className=\"bg-green-500 h-2 rounded-full\" style={{width: '85%'}}></div>\r\n                  </div>\r\n                  <span className={`text-xs ${theme.text.muted}`}>{framework.description}</span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Advanced Insights Panel */}\r\n        <div className={`mt-8 rounded-2xl p-6 border shadow-lg transition-all duration-300 ${theme.bg.card} ${theme.border.primary}`}>\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <div>\r\n              <h2 className={`text-xl font-bold ${theme.text.primary}`}>AI-Powered Insights</h2>\r\n              <p className={`text-sm ${theme.text.secondary}`}>Framework-aligned recommendations</p>\r\n            </div>\r\n            <span className=\"text-2xl\">ü§ñ</span>\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n            <Alert\r\n              type=\"success\"\r\n              title=\"üåç GRI-305 Compliance\"\r\n              message=\"Scope 1 & 2 emissions tracking meets GRI-305 requirements. Consider adding Scope 3 for full compliance.\"\r\n              className=\"border-l-4 border-green-500\"\r\n            />\r\n            <Alert\r\n              type=\"warning\"\r\n              title=\"üë• GRI-405 Gap\"\r\n              message=\"Diversity reporting incomplete. Add age and minority group breakdowns for GRI-405-1 compliance.\"\r\n              className=\"border-l-4 border-yellow-500\"\r\n            />\r\n            <Alert\r\n              type=\"info\"\r\n              title=\"üèõÔ∏è TCFD Readiness\"\r\n              message=\"Governance structure documented. Add climate scenario analysis for full TCFD alignment.\"\r\n              className=\"border-l-4 border-blue-500\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Toast Notifications */}\r\n        {toast && (\r\n          <Toast\r\n            message={toast.message}\r\n            type={toast.type}\r\n            onClose={() => setToast(null)}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Analytics;\r\n"],"names":["request","endpoint","options","arguments","length","undefined","response","fetch","headers","ok","json","error","console","warn","message","configureERP","config","this","method","body","JSON","stringify","syncERP","configureHR","syncHR","getIntegrationStatus","saveESGData","data","Error","validateCompliance","calculateGHG","getESGData","userId","getESGScores","getESGKPIs","getAnalyticsData","ChartJS","register","ArcElement","Tooltip","Legend","LineElement","PointElement","LinearScale","CategoryScale","BarElement","style","document","createElement","textContent","head","appendChild","Analytics","isDark","toggleTheme","useTheme","theme","getThemeClasses","navigate","useNavigate","currentUser","useState","role","id","setData","kpis","setKpis","categoryData","setCategoryData","riskData","setRiskData","monthlyData","setMonthlyData","selectedTimeframe","setSelectedTimeframe","isLoading","setIsLoading","toast","setToast","selectedMetric","setSelectedMetric","selectedFramework","setSelectedFramework","refreshing","setRefreshing","useEffect","loadData","async","backendKPIs","backendData","Promise","all","APIService","convertedData","map","item","companyName","category","metric","metric_name","value","metric_value","timestamp","created_at","reportingYear","reporting_year","overallScore","overall_score","Math","round","environmental","environmental_score","social","social_score","governance","governance_score","complianceRate","categoryCount","forEach","riskLevels","high","medium","low","monthlyTrends","interval","setInterval","clearInterval","React","pieData","labels","datasets","backgroundColor","borderWidth","borderColor","hoverOffset","hoverBorderWidth","riskChartData","barData","label","borderRadius","borderSkipped","lineData","Object","keys","slice","values","tension","fill","pointBackgroundColor","pointBorderColor","pointBorderWidth","pointRadius","pointHoverRadius","trend","chartOptions","responsive","maintainAspectRatio","plugins","legend","color","font","size","weight","tooltip","titleColor","bodyColor","scales","y","ticks","grid","x","showToast","type","setTimeout","_jsx","className","bg","gradient","children","_jsxs","LoadingSpinner","text","primary","ProfessionalHeader","onLogout","handleLogout","title","subtitle","showBreadcrumb","breadcrumbItems","href","active","actions","onClick","variant","icon","loading","secondary","onChange","e","target","input","border","MetricCard","trendColor","progress","min","card","hover","subtle","Pie","Line","Bar","Doughnut","Button","key","idx","score","count","riskLevel","performance","StatusCard","charAt","toUpperCase","status","entries","ESG_FRAMEWORKS","_ref","framework","name","width","muted","description","Alert","Toast","onClose"],"sourceRoot":""}