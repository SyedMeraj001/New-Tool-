"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[641],{1374:(e,t,i)=>{i.d(t,{o:()=>s});class s{static analyzeSentiment(e,t,i){try{const s=this.analyzeSentimentByStakeholder(e),a=this.analyzeSentimentTrends(t),n=this.analyzeSocialMediaSentiment(i),r=this.calculateOverallSentiment(s),c=this.identifyRiskIndicators(s);return{sentimentByStakeholder:s,sentimentTrends:a,socialMediaSentiment:n,overallSentiment:r,riskIndicators:c,recommendations:this.generateRecommendations(s,c)}}catch(s){return console.error("Sentiment analysis failed:",s),this.getDefaultSentimentAnalysis()}}static analyzeSentimentByStakeholder(e){const t={};return this.stakeholderTypes.forEach(i=>{const s=e[i]||{};t[i]={overallSentiment:this.calculateStakeholderSentiment(s),sentimentDistribution:this.calculateSentimentDistribution(s),engagementLevel:this.assessEngagementLevel(s),satisfactionScore:this.calculateSatisfactionScore(s),concerns:this.identifyStakeholderConcerns(s)}}),t}static calculateStakeholderSentiment(e){const t=e.feedback||[];if(0===t.length)return 0;return t.reduce((e,t)=>e+this.classifySentiment(t.text||t.comment||""),0)/t.length}static classifySentiment(e){const t=["good","great","excellent","satisfied","happy","positive"],i=["bad","poor","terrible","disappointed","unhappy","negative"],s=e.toLowerCase().split(/\s+/);let a=0;return s.forEach(e=>{t.includes(e)&&(a+=1),i.includes(e)&&(a-=1)}),Math.max(-1,Math.min(1,a/Math.max(s.length,1)))}static calculateSentimentDistribution(e){const t=e.feedback||[],i={positive:0,neutral:0,negative:0};t.forEach(e=>{const t=this.classifySentiment(e.text||e.comment||"");t>.1?i.positive++:t<-.1?i.negative++:i.neutral++});const s=t.length||1;return{positive:i.positive/s*100,neutral:i.neutral/s*100,negative:i.negative/s*100}}static assessEngagementLevel(e){const t=e.responseRate||0,i=e.participationRate||0,s=(e.feedback||[]).length,a=.4*t+.4*i+100*Math.min(s/50,1)*.2;return{score:Math.min(100,a),level:a>70?"high":a>40?"medium":"low"}}static calculateSatisfactionScore(e){const t=e.surveys||[];if(0===t.length)return 0;return t.reduce((e,t)=>e+(t.satisfactionScore||0),0)/t.length}static identifyStakeholderConcerns(e){const t=e.feedback||[],i=[],s=t.filter(e=>this.classifySentiment(e.text||e.comment||"")<-.3);return s.length>.2*t.length&&i.push({type:"high_negative_sentiment",severity:"high",description:`${(s.length/t.length*100).toFixed(1)}% negative feedback`}),i}static analyzeSentimentTrends(e){const t=e||[],i=this.groupFeedbackByTime(t);return{monthlyTrends:this.calculateMonthlyTrends(i),trendDirection:this.determineTrendDirection(i),volatility:this.calculateSentimentVolatility(i)}}static analyzeSocialMediaSentiment(e){const t=e||{};return{platforms:this.analyzePlatformSentiment(t),mentions:t.mentions||0,reputationScore:this.calculateReputationScore(t),trending:t.trending||[]}}static calculateOverallSentiment(e){const t=Object.values(e).map(e=>e.overallSentiment),i=t.reduce((e,t)=>e+t,0)/(t.length||1);return{score:i,category:this.categorizeSentiment(i),riskLevel:this.assessSentimentRisk(i)}}static identifyRiskIndicators(e){const t=[];return Object.entries(e).forEach(e=>{let[i,s]=e;s.overallSentiment<-.3&&t.push({type:"negative_stakeholder_sentiment",severity:"high",description:`High negative sentiment from ${i}`,stakeholder:i})}),t}static generateRecommendations(e,t){const i=[];return Object.entries(e).forEach(e=>{let[t,s]=e;s.overallSentiment<0&&i.push({stakeholder:t,priority:s.overallSentiment<-.5?"high":"medium",action:`Improve engagement with ${t} to address negative sentiment`,timeline:"3 months"})}),i}static categorizeSentiment(e){return e>.3?"positive":e<-.3?"negative":"neutral"}static assessSentimentRisk(e){return e<-.5?"high":e<-.2?"medium":"low"}static groupFeedbackByTime(e){const t={};return e.forEach(e=>{const i=new Date(e.date||Date.now()).toISOString().slice(0,7);t[i]||(t[i]=[]),t[i].push(e)}),t}static calculateMonthlyTrends(e){const t={};return Object.entries(e).forEach(e=>{let[i,s]=e;const a=s.reduce((e,t)=>e+this.classifySentiment(t.text||t.comment||""),0)/(s.length||1);t[i]=a}),t}static determineTrendDirection(e){const t=Object.keys(e).sort();if(t.length<2)return"stable";const i=t.slice(-2),s=t.slice(0,-2);if(0===i.length||0===s.length)return"stable";const a=i.reduce((t,i)=>{const s=e[i];return t+s.reduce((e,t)=>e+this.classifySentiment(t.text||t.comment||""),0)/(s.length||1)},0)/i.length,n=s.reduce((t,i)=>{const s=e[i];return t+s.reduce((e,t)=>e+this.classifySentiment(t.text||t.comment||""),0)/(s.length||1)},0)/(s.length||1);return a>n+.1?"improving":a<n-.1?"declining":"stable"}static calculateSentimentVolatility(e){const t=Object.values(e).map(e=>e.reduce((e,t)=>e+this.classifySentiment(t.text||t.comment||""),0)/(e.length||1));if(t.length<2)return 0;const i=t.reduce((e,t)=>e+t,0)/t.length,s=t.reduce((e,t)=>e+Math.pow(t-i,2),0)/t.length;return Math.sqrt(s)}static analyzePlatformSentiment(e){const t={};return["twitter","linkedin","facebook","instagram"].forEach(i=>{const s=e[i]||{};t[i]={sentiment:s.sentiment||0,mentions:s.mentions||0,engagement:s.engagement||0}}),t}static calculateReputationScore(e){const t=e.overallSentiment||0,i=Math.min((e.mentions||0)/1e3,1),s=(e.engagement||0)/100;return Math.max(0,Math.min(100,50*(t+1)+25*i+25*s))}static getDefaultSentimentAnalysis(){return{sentimentByStakeholder:{},sentimentTrends:{monthlyTrends:{},trendDirection:"stable",volatility:0},socialMediaSentiment:{platforms:{},mentions:0,reputationScore:0,trending:[]},overallSentiment:{score:0,category:"neutral",riskLevel:"low"},riskIndicators:[],recommendations:[]}}}s.stakeholderTypes=["investors","employees","customers","communities","regulators","suppliers"],s.sentimentSources=["surveys","social_media","news","feedback"]},9641:(e,t,i)=>{i.r(t),i.d(t,{default:()=>M});var s=i(5043),a=i(3005),n=i(6110),r=i(5571);class c{static calculateWasteMetrics(e){try{const t=this.calculateTotalWaste(e),i=this.calculateRecyclingRate(e),s=this.calculateWasteIntensity(e);return{totalWaste:t,recyclingRate:i,wasteIntensity:s,vendorCompliance:this.assessVendorCompliance(e),wasteByType:this.categorizeWaste(e),disposalBreakdown:this.analyzeDisposalMethods(e),complianceStatus:this.checkCompliance(e)}}catch(t){return console.error("Waste calculation failed:",t),this.getDefaultWasteMetrics()}}static calculateTotalWaste(e){const t=this.sumWasteByCategory(e,"hazardous"),i=this.sumWasteByCategory(e,"nonHazardous");return{hazardous:t,nonHazardous:i,total:t+i}}static sumWasteByCategory(e,t){return this.wasteTypes[t].reduce((t,i)=>t+(e[i]||0),0)}static calculateRecyclingRate(e){const t=this.calculateTotalWaste(e).total,i=e.recycled||0,s=e.reused||0;return t>0?(i+s)/t*100:0}static calculateWasteIntensity(e){const t=this.calculateTotalWaste(e).total;return{perRevenue:t/(e.revenue||1),perProduction:t/(e.production||1)}}static assessVendorCompliance(e){const t=e.vendors||[],i=t.filter(e=>e.certified&&e.auditPassed).length;return t.length>0?i/t.length*100:0}static categorizeWaste(e){const t={};return Object.entries(this.wasteTypes).forEach(i=>{let[s,a]=i;t[s]={},a.forEach(i=>{t[s][i]=e[i]||0})}),t}static analyzeDisposalMethods(e){const t={};return this.disposalMethods.forEach(i=>{t[i]=e[i]||0}),t}static checkCompliance(e){const t=[];return e.hazardousWaste>0&&!e.hazardousLicense&&t.push("Missing hazardous waste license"),this.calculateRecyclingRate(e)<30&&t.push("Recycling rate below 30% threshold"),{compliant:0===t.length,issues:t}}static getDefaultWasteMetrics(){return{totalWaste:{hazardous:0,nonHazardous:0,total:0},recyclingRate:0,wasteIntensity:{perRevenue:0,perProduction:0},vendorCompliance:0,wasteByType:{},disposalBreakdown:{},complianceStatus:{compliant:!1,issues:["No data available"]}}}}c.wasteTypes={hazardous:["chemical","medical","electronic","radioactive"],nonHazardous:["organic","plastic","paper","metal","glass"]},c.disposalMethods=["landfill","incineration","recycling","composting","reuse"];class o{static monitorAirQuality(e,t){try{const i=this.calculateEmissions(e),s=this.checkCompliance(e);return{emissions:i,compliance:s,equipment:this.assessEquipment(t),airQualityIndex:this.calculateAQI(e),controlEfficiency:this.calculateControlEfficiency(e,t),alerts:this.generateAlerts(e,s)}}catch(i){return console.error("Air quality monitoring failed:",i),this.getDefaultAirQuality()}}static calculateEmissions(e){const t={};return Object.entries(this.pollutants).forEach(i=>{let[s,a]=i;t[s]={},a.forEach(i=>{t[s][i]={measured:e[i]||0,limit:this.getEmissionLimit(i),unit:this.getUnit(i)}})}),t}static checkCompliance(e){const t=[];return Object.values(this.pollutants).flat().forEach(i=>{const s=e[i]||0,a=this.getEmissionLimit(i);s>a&&t.push({pollutant:i,measured:s,limit:a,exceedance:((s-a)/a*100).toFixed(1)})}),{compliant:0===t.length,violations:t}}static assessEquipment(e){return(e||[]).map(e=>({id:e.id,type:e.type,efficiency:e.efficiency||0,lastMaintenance:e.lastMaintenance,nextMaintenance:e.nextMaintenance,status:this.getEquipmentStatus(e)}))}static calculateAQI(e){const t=e["PM2.5"]||0,i=e.PM10||0,s=e.SO2||0,a=e.NOx||0,n=Math.max(this.pollutantToAQI(t,"PM2.5"),this.pollutantToAQI(i,"PM10"),this.pollutantToAQI(s,"SO2"),this.pollutantToAQI(a,"NOx"));return{value:Math.round(n),category:this.getAQICategory(n),primaryPollutant:this.getPrimaryPollutant(e)}}static calculateControlEfficiency(e,t){const i=t||[],s=i.reduce((e,t)=>e+(t.efficiency||0),0);return i.length>0?s/i.length:0}static generateAlerts(e,t){const i=[];return t.compliant||i.push({type:"violation",severity:"high",message:`${t.violations.length} emission limit violations detected`}),Object.values(this.pollutants).flat().forEach(t=>{const s=e[t]||0,a=this.getEmissionLimit(t);s>.8*a&&i.push({type:"warning",severity:"medium",message:`${t} approaching emission limit (${(s/a*100).toFixed(1)}%)`})}),i}static getEmissionLimit(e){return{"PM2.5":15,PM10:50,SO2:75,NOx:100,CO:1e4,O3:120,VOCs:250,HAPs:10}[e]||100}static getUnit(e){return{"PM2.5":"\u03bcg/m\xb3",PM10:"\u03bcg/m\xb3",SO2:"\u03bcg/m\xb3",NOx:"\u03bcg/m\xb3",CO:"mg/m\xb3",O3:"\u03bcg/m\xb3",VOCs:"\u03bcg/m\xb3",HAPs:"\u03bcg/m\xb3"}[e]||"\u03bcg/m\xb3"}static pollutantToAQI(e,t){const i={"PM2.5":[[0,12,0,50],[12.1,35.4,51,100],[35.5,55.4,101,150]],PM10:[[0,54,0,50],[55,154,51,100],[155,254,101,150]],SO2:[[0,35,0,50],[36,75,51,100],[76,185,101,150]],NOx:[[0,53,0,50],[54,100,51,100],[101,360,101,150]]}[t]||[[0,100,0,100]];for(let s=0;s<i.length;s++)if(e<=i[s][1])return(i[s][3]-i[s][2])/(i[s][1]-i[s][0])*(e-i[s][0])+i[s][2];return 150}static getAQICategory(e){return e<=50?"Good":e<=100?"Moderate":e<=150?"Unhealthy for Sensitive Groups":"Unhealthy"}static getPrimaryPollutant(e){let t=0,i="PM2.5";return["PM2.5","PM10","SO2","NOx"].forEach(s=>{const a=this.pollutantToAQI(e[s]||0,s);a>t&&(t=a,i=s)}),i}static getEquipmentStatus(e){const t=new Date,i=(new Date(e.nextMaintenance)-t)/864e5;return i<0?"overdue":i<7?"due_soon":e.efficiency<80?"low_efficiency":"operational"}static getDefaultAirQuality(){return{emissions:{},compliance:{compliant:!1,violations:[]},equipment:[],airQualityIndex:{value:0,category:"Unknown",primaryPollutant:"N/A"},controlEfficiency:0,alerts:[{type:"info",severity:"low",message:"No air quality data available"}]}}}o.pollutants={criteria:["PM2.5","PM10","SO2","NOx","CO","O3"],hazardous:["VOCs","HAPs","Mercury","Lead"],greenhouse:["CO2","CH4","N2O","HFCs"]};class l{static assessBiodiversity(e,t){try{const i=this.analyzeLandUse(e),s=this.calculateBiodiversityImpact(e,t);return{landUse:i,biodiversityImpact:s,conservation:this.assessConservationEfforts(t),riskAssessment:this.assessBiodiversityRisk(e),initiatives:this.trackConservationInitiatives(t),compliance:this.checkEnvironmentalCompliance(e,t)}}catch(i){return console.error("Biodiversity assessment failed:",i),this.getDefaultBiodiversityAssessment()}}static analyzeLandUse(e){return{totalArea:this.calculateTotalArea(e),breakdown:this.categorizeLandUse(e),intensity:this.calculateLandUseIntensity(e),changeOverTime:this.analyzeLandUseChange(e)}}static calculateTotalArea(e){return this.landUseTypes.reduce((t,i)=>t+(e[i]||0),0)}static categorizeLandUse(e){const t={};return this.landUseTypes.forEach(i=>{t[i]={area:e[i]||0,percentage:this.calculatePercentage(e[i]||0,this.calculateTotalArea(e))}}),t}static calculateLandUseIntensity(e){const t=this.calculateTotalArea(e);return{areaPerRevenue:t/(e.revenue||1),areaPerProduction:t/(e.production||1)}}static analyzeLandUseChange(e){const t=e.historical||[];if(t.length<2)return{trend:"insufficient_data",change:0};const i=t[t.length-1],s=t[t.length-2],a=(i.totalArea-s.totalArea)/s.totalArea*100;return{trend:a>0?"increasing":a<0?"decreasing":"stable",change:Math.abs(a),period:`${s.year}-${i.year}`}}static calculateBiodiversityImpact(e,t){const i=this.assessHabitatImpact(e),s=this.assessSpeciesImpact(t),a=this.evaluateEcosystemServices(e,t);return{habitatImpact:i,speciesImpact:s,ecosystemServices:a,overallScore:this.calculateBiodiversityScore(i,s,a)}}static assessHabitatImpact(e){const t=e.habitats||{},i={};return this.habitatTypes.forEach(e=>{const s=t[e]||0,a=t[`${e}_quality`]||50;i[e]={area:s,quality:a,impactScore:this.calculateHabitatImpactScore(s,a)}}),i}static assessSpeciesImpact(e){const t=e.species||{};return{endangered:t.endangered||0,threatened:t.threatened||0,endemic:t.endemic||0,invasive:t.invasive||0,riskLevel:this.calculateSpeciesRiskLevel(t)}}static evaluateEcosystemServices(e,t){const i=t.ecosystemServices||{};return{carbonSequestration:i.carbonSequestration||0,waterRegulation:i.waterRegulation||0,pollination:i.pollination||0,soilFormation:i.soilFormation||0,totalValue:this.calculateEcosystemValue(i)}}static assessConservationEfforts(e){const t=e.conservationEfforts||{};return{protectedAreas:t.protectedAreas||0,restorationProjects:t.restorationProjects||0,partnerships:t.partnerships||0,funding:t.funding||0,effectiveness:this.calculateConservationEffectiveness(t)}}static assessBiodiversityRisk(e){const t=[];e.fragmentationIndex>.7&&t.push({type:"fragmentation",level:"high",impact:"habitat_loss"});return(e.endangered||0)/(e.totalSpecies||1)>.1&&t.push({type:"species_loss",level:"critical",impact:"biodiversity_decline"}),e.climateVulnerability>.6&&t.push({type:"climate_change",level:"medium",impact:"ecosystem_shift"}),{risks:t,overallRiskLevel:this.calculateOverallRiskLevel(t),mitigationPriority:this.prioritizeRisks(t)}}static trackConservationInitiatives(e){return(e.initiatives||[]).map(e=>({id:e.id,name:e.name,type:e.type,area:e.area,budget:e.budget,status:e.status,impact:this.assessInitiativeImpact(e)}))}static checkEnvironmentalCompliance(e,t){const i=[];return e.protectedAreaImpact>0&&!t.permits&&i.push("Missing permits for protected area impact"),e.biodiversityLoss>0&&!t.offsetProgram&&i.push("Biodiversity offset program required"),e.newDevelopment&&!t.environmentalImpactAssessment&&i.push("Environmental impact assessment required"),{compliant:0===i.length,issues:i,recommendations:this.generateComplianceRecommendations(i)}}static calculatePercentage(e,t){return t>0?e/t*100:0}static calculateHabitatImpactScore(e,t){return e*t/100}static calculateSpeciesRiskLevel(e){const t=(e.endangered||0)+(e.threatened||0);return t>10?"critical":t>5?"high":t>0?"medium":"low"}static calculateEcosystemValue(e){return Object.values(e).reduce((e,t)=>e+(t||0),0)}static calculateConservationEffectiveness(e){const t=.3*(e.protectedAreas||0)+.3*(e.restorationProjects||0)+.2*(e.partnerships||0)+.2*(e.funding||0);return Math.min(100,t)}static calculateBiodiversityScore(e,t,i){const s=Object.values(e).reduce((e,t)=>e+t.impactScore,0),a=100-(5*t.endangered+3*t.threatened),n=i.totalValue/1e3;return Math.max(0,Math.min(100,(s+a+n)/3))}static calculateOverallRiskLevel(e){return e.some(e=>"critical"===e.level)?"critical":e.some(e=>"high"===e.level)?"high":e.some(e=>"medium"===e.level)?"medium":"low"}static prioritizeRisks(e){return e.sort((e,t)=>{const i={critical:4,high:3,medium:2,low:1};return i[t.level]-i[e.level]})}static assessInitiativeImpact(e){const t=(e.area||0)/100,i=(e.budget||0)/1e4;return Math.min(100,10*(t+i))}static generateComplianceRecommendations(e){return e.map(e=>e.includes("permits")?"Obtain necessary environmental permits":e.includes("offset")?"Develop biodiversity offset program":e.includes("assessment")?"Conduct environmental impact assessment":"Consult environmental compliance specialist")}static getDefaultBiodiversityAssessment(){return{landUse:{totalArea:0,breakdown:{},intensity:{},changeOverTime:{}},biodiversityImpact:{habitatImpact:{},speciesImpact:{},ecosystemServices:{},overallScore:0},conservation:{protectedAreas:0,restorationProjects:0,partnerships:0,funding:0,effectiveness:0},riskAssessment:{risks:[],overallRiskLevel:"unknown",mitigationPriority:[]},initiatives:[],compliance:{compliant:!1,issues:["No data available"],recommendations:[]}}}}l.landUseTypes=["owned","leased","managed","impacted"],l.habitatTypes=["forest","wetland","grassland","marine","urban"],l.threatLevels=["low","medium","high","critical"];class u{static assessHumanRights(e,t,i){try{const s=this.conductRiskAssessment(e,t),a=this.evaluateCompliance(e),n=this.analyzeGrievances(i);return{riskAssessment:s,compliance:a,grievanceAnalysis:n,supplierDueDiligence:this.assessSupplierCompliance(t),auditResults:this.processAuditResults(e.audits),trainingMetrics:this.calculateTrainingMetrics(e.training),recommendations:this.generateRecommendations(s,a)}}catch(s){return console.error("Human rights assessment failed:",s),this.getDefaultHumanRightsAssessment()}}static conductRiskAssessment(e,t){const i={};return this.riskCategories.forEach(s=>{i[s]={internalRisk:this.assessInternalRisk(e,s),supplierRisk:this.assessSupplierRisk(t,s),geographicRisk:this.assessGeographicRisk(e.locations,s),overallRisk:0},i[s].overallRisk=this.calculateOverallRisk(i[s])}),{categoryRisks:i,overallRiskScore:this.calculateTotalRiskScore(i),highRiskAreas:this.identifyHighRiskAreas(i),mitigationPriority:this.prioritizeRisks(i)}}static assessInternalRisk(e,t){const i=this.getRiskIndicators(t);let s=0;return i.forEach(t=>{const i=e[t]||0;s+=this.calculateIndicatorRisk(t,i)}),Math.min(100,s/i.length)}static assessSupplierRisk(e,t){const i=e||[];if(0===i.length)return 50;const s=i.map(e=>this.assessSupplierCategoryRisk(e,t));return s.reduce((e,t)=>e+t,0)/s.length}static assessGeographicRisk(e,t){const i={child_labor:{high:["Bangladesh","Myanmar","Pakistan"],medium:["India","Vietnam"]},forced_labor:{high:["North Korea","Eritrea","Mauritania"],medium:["China","Iran"]},discrimination:{high:["Saudi Arabia","Qatar"],medium:["UAE","Kuwait"]}}[t]||{high:[],medium:[]};let s=0;return(e||[]).forEach(e=>{s=i.high.includes(e.country)?Math.max(s,80):i.medium.includes(e.country)?Math.max(s,50):Math.max(s,20)}),s}static evaluateCompliance(e){const t=this.checkPolicies(e.policies),i=this.checkTraining(e.training),s=this.checkMonitoring(e.monitoring),a=this.checkReporting(e.reporting);return{policies:t,training:i,monitoring:s,reporting:a,overallScore:(t.score+i.score+s.score+a.score)/4,gaps:this.identifyComplianceGaps(t,i,s,a)}}static analyzeGrievances(e){const t=e||[],i=this.categorizeGrievances(t),s=this.analyzeGrievanceTrends(t),a=this.analyzeResolutionMetrics(t);return{totalGrievances:t.length,byCategory:i,trends:s,resolution:a,riskIndicators:this.identifyGrievanceRisks(i,a)}}static assessSupplierCompliance(e){const t=e||[],i=t.map(e=>({id:e.id,name:e.name,riskLevel:this.calculateSupplierRiskLevel(e),auditStatus:e.auditStatus||"pending",complianceScore:this.calculateSupplierComplianceScore(e),issues:e.issues||[],lastAudit:e.lastAudit,nextAudit:e.nextAudit}));return{totalSuppliers:t.length,assessments:i,riskDistribution:this.calculateRiskDistribution(i),auditCoverage:this.calculateAuditCoverage(i),actionRequired:i.filter(e=>"high"===e.riskLevel||e.issues.length>0)}}static processAuditResults(e){const t=e||[];return{totalAudits:t.length,byType:this.categorizeAudits(t),findings:this.summarizeFindings(t),corrective_actions:this.trackCorrectiveActions(t),effectiveness:this.calculateAuditEffectiveness(t)}}static calculateTrainingMetrics(e){const t=e||{};return{coverage:t.coverage||0,completionRate:t.completionRate||0,effectivenessScore:t.effectivenessScore||0,byTopic:t.byTopic||{},refresherNeeded:this.identifyRefresherNeeds(t)}}static getRiskIndicators(e){return{child_labor:["minorEmployees","ageVerificationProcess","educationSupport"],forced_labor:["debtBondage","documentRetention","movementRestriction"],discrimination:["diversityMetrics","equalPayGap","promotionEquity"],freedom_association:["unionRecognition","collectiveBargaining","workerRepresentation"],working_conditions:["safetyIncidents","overtimeHours","workplaceConditions"]}[e]||[]}static calculateIndicatorRisk(e,t){const i={minorEmployees:{low:0,medium:1,high:5},safetyIncidents:{low:0,medium:2,high:10},overtimeHours:{low:40,medium:60,high:80}}[e];return i?t<=i.low?10:t<=i.medium?50:90:30}static calculateOverallRisk(e){return(e.internalRisk+e.supplierRisk+e.geographicRisk)/3}static calculateTotalRiskScore(e){const t=Object.values(e).map(e=>e.overallRisk);return t.reduce((e,t)=>e+t,0)/t.length}static identifyHighRiskAreas(e){return Object.entries(e).filter(e=>{let[t,i]=e;return i.overallRisk>70}).map(e=>{let[t,i]=e;return{category:t,risk:i.overallRisk}})}static checkPolicies(e){const t=["child_labor","forced_labor","discrimination","harassment","grievance"],i=e||[],s=t.filter(e=>!i.includes(e));return{score:(t.length-s.length)/t.length*100,existing:i,missing:s,compliant:0===s.length}}static checkTraining(e){const t=(null===e||void 0===e?void 0:e.coverage)||0,i=(null===e||void 0===e?void 0:e.effectivenessScore)||0;return{score:(t+i)/2,coverage:t,effectiveness:i,compliant:t>=90&&i>=80}}static checkMonitoring(e){const t=(null===e||void 0===e?void 0:e.frequency)||0,i=(null===e||void 0===e?void 0:e.coverage)||0;return{score:(t+i)/2,frequency:t,coverage:i,compliant:t>=80&&i>=90}}static checkReporting(e){const t=(null===e||void 0===e?void 0:e.transparency)||0,i=(null===e||void 0===e?void 0:e.timeliness)||0;return{score:(t+i)/2,transparency:t,timeliness:i,compliant:t>=80&&i>=90}}static generateRecommendations(e,t){const i=[];return e.highRiskAreas.forEach(e=>{i.push({priority:"high",category:e.category,action:`Implement enhanced controls for ${e.category.replace("_"," ")}`,timeline:"3 months"})}),t.overallScore<80&&i.push({priority:"medium",category:"compliance",action:"Strengthen compliance framework and monitoring",timeline:"6 months"}),i}static getDefaultHumanRightsAssessment(){return{riskAssessment:{categoryRisks:{},overallRiskScore:0,highRiskAreas:[],mitigationPriority:[]},compliance:{policies:{},training:{},monitoring:{},reporting:{},overallScore:0,gaps:[]},grievanceAnalysis:{totalGrievances:0,byCategory:{},trends:{},resolution:{},riskIndicators:[]},supplierDueDiligence:{totalSuppliers:0,assessments:[],riskDistribution:{},auditCoverage:0,actionRequired:[]},auditResults:{totalAudits:0,byType:{},findings:{},corrective_actions:[],effectiveness:0},trainingMetrics:{coverage:0,completionRate:0,effectivenessScore:0,byTopic:{},refresherNeeded:[]},recommendations:[]}}}u.riskCategories=["child_labor","forced_labor","discrimination","freedom_association","working_conditions"],u.auditTypes=["internal","external","supplier","third_party"];class d{static manageCommunityEngagement(e,t,i){try{const s=this.analyzeCSRProjects(e),a=this.assessStakeholderEngagement(t),n=this.measureCommunityImpact(i);return{csrAnalysis:s,stakeholderEngagement:a,impactMeasurement:n,investmentTracking:this.trackCSRInvestment(e),performanceMetrics:this.calculatePerformanceMetrics(e,i),recommendations:this.generateEngagementRecommendations(s,a,n)}}catch(s){return console.error("Community engagement analysis failed:",s),this.getDefaultCommunityEngagement()}}static analyzeCSRProjects(e){const t=e.projects||[],i=this.categorizeProjects(t),s=this.analyzeProjectStatus(t),a=this.assessProjectEffectiveness(t);return{totalProjects:t.length,byType:i,byStatus:s,effectiveness:a,budget:this.analyzeProjectBudgets(t),timeline:this.analyzeProjectTimelines(t),beneficiaries:this.calculateBeneficiaries(t)}}static assessStakeholderEngagement(e){const t=e.stakeholders||[],i=this.calculateEngagementMetrics(t),s=this.analyzeSatisfactionScores(e.surveys),a=this.assessCommunicationEffectiveness(e.communications);return{totalStakeholders:t.length,byType:this.categorizeStakeholders(t),engagementMetrics:i,satisfactionScores:s,communicationEffectiveness:a,feedbackAnalysis:this.analyzeFeedback(e.feedback),relationshipHealth:this.assessRelationshipHealth(t)}}static measureCommunityImpact(e){const t=e.impacts||[],i=this.categorizeImpacts(t),s=this.calculateImpactMeasurement(t),a=this.assessImpactSustainability(t);return{totalImpacts:t.length,byArea:i,measurement:s,sustainability:a,longTermOutcomes:this.assessLongTermOutcomes(t),unintendedConsequences:this.identifyUnintendedConsequences(t),scalability:this.assessScalability(t)}}static trackCSRInvestment(e){const t=e.investments||[],i=this.calculateTotalInvestment(t);return{totalInvestment:i,allocation:this.analyzeInvestmentAllocation(t),efficiency:this.calculateInvestmentEfficiency(t,e.outcomes),trends:this.analyzeInvestmentTrends(t),benchmarking:this.benchmarkInvestment(i,e.revenue),roi:this.calculateCSRROI(t,e.outcomes)}}static calculatePerformanceMetrics(e,t){const i=e.projects||[],s=t.impacts||[];return{projectSuccessRate:this.calculateSuccessRate(i),impactPerDollar:this.calculateImpactPerDollar(s,e.investments),beneficiaryReach:this.calculateBeneficiaryReach(i),sustainabilityIndex:this.calculateSustainabilityIndex(s),stakeholderSatisfaction:this.calculateOverallSatisfaction(e.stakeholderFeedback),communityDevelopmentIndex:this.calculateCommunityDevelopmentIndex(s)}}static categorizeProjects(e){const t={};return this.projectTypes.forEach(i=>{t[i]=e.filter(e=>e.type===i)}),t}static analyzeProjectStatus(e){const t={};return["planning","active","completed","suspended"].forEach(i=>{t[i]=e.filter(e=>e.status===i).length}),t}static assessProjectEffectiveness(e){const t=e.filter(e=>"completed"===e.status);if(0===t.length)return{average:0,distribution:{}};const i=t.map(e=>e.effectivenessScore||0);return{average:i.reduce((e,t)=>e+t,0)/i.length,distribution:this.calculateScoreDistribution(i),topPerformers:t.filter(e=>(e.effectivenessScore||0)>80),underPerformers:t.filter(e=>(e.effectivenessScore||0)<60)}}static analyzeProjectBudgets(e){const t=e.map(e=>e.budget||0),i=t.reduce((e,t)=>e+t,0);return{total:i,average:t.length>0?i/t.length:0,largest:Math.max(...t,0),smallest:Math.min(...t.filter(e=>e>0),0)||0,utilization:this.calculateBudgetUtilization(e)}}static calculateBeneficiaries(e){const t=e.reduce((e,t)=>e+(t.directBeneficiaries||0),0),i=e.reduce((e,t)=>e+(t.indirectBeneficiaries||0),0);return{direct:t,indirect:i,total:t+i,byDemographic:this.analyzeBeneficiaryDemographics(e)}}static categorizeStakeholders(e){const t={};return this.stakeholderTypes.forEach(i=>{t[i]=e.filter(e=>e.type===i)}),t}static calculateEngagementMetrics(e){const t=e.reduce((e,t)=>e+(t.engagements||0),0),i=e.filter(e=>(e.lastEngagement||0)>Date.now()-7776e6);return{totalEngagements:t,averagePerStakeholder:e.length>0?t/e.length:0,activeStakeholders:i.length,engagementRate:e.length>0?i.length/e.length*100:0}}static analyzeSatisfactionScores(e){if(!e||0===e.length)return{average:0,trend:"no_data"};const t=e.map(e=>e.satisfactionScore||0);return{average:t.reduce((e,t)=>e+t,0)/t.length,latest:t[t.length-1]||0,trend:this.calculateTrend(t),distribution:this.calculateScoreDistribution(t)}}static categorizeImpacts(e){const t={};return this.impactAreas.forEach(i=>{t[i]=e.filter(e=>e.area===i)}),t}static calculateImpactMeasurement(e){return{quantitative:this.measureQuantitativeImpacts(e),qualitative:this.measureQualitativeImpacts(e),baseline:this.establishBaselines(e),progress:this.trackProgress(e)}}static assessImpactSustainability(e){const t=e.map(e=>e.sustainabilityScore||0);return{averageScore:t.length>0?t.reduce((e,t)=>e+t,0)/t.length:0,sustainableImpacts:e.filter(e=>(e.sustainabilityScore||0)>70).length,riskOfReversal:e.filter(e=>(e.sustainabilityScore||0)<50).length}}static calculateSuccessRate(e){const t=e.filter(e=>"completed"===e.status),i=t.filter(e=>(e.successScore||0)>70);return t.length>0?i.length/t.length*100:0}static calculateImpactPerDollar(e,t){const i=(null===t||void 0===t?void 0:t.reduce((e,t)=>e+(t.amount||0),0))||1;return e.reduce((e,t)=>e+(t.quantitativeValue||0),0)/i}static calculateSustainabilityIndex(e){const t=e.map(e=>e.sustainabilityScore||0);return t.length>0?t.reduce((e,t)=>e+t,0)/t.length:0}static generateEngagementRecommendations(e,t,i){const s=[];return e.effectiveness.average<70&&s.push({area:"project_effectiveness",priority:"high",action:"Improve project design and implementation processes",expectedImpact:"Increase project success rate by 20%"}),t.engagementMetrics.engagementRate<60&&s.push({area:"stakeholder_engagement",priority:"medium",action:"Develop more frequent and meaningful engagement activities",expectedImpact:"Improve stakeholder satisfaction and participation"}),i.sustainability.averageScore<60&&s.push({area:"impact_sustainability",priority:"high",action:"Focus on long-term sustainable impact strategies",expectedImpact:"Ensure lasting community benefits"}),s}static getDefaultCommunityEngagement(){return{csrAnalysis:{totalProjects:0,byType:{},byStatus:{},effectiveness:{},budget:{},timeline:{},beneficiaries:{}},stakeholderEngagement:{totalStakeholders:0,byType:{},engagementMetrics:{},satisfactionScores:{},communicationEffectiveness:{},feedbackAnalysis:{},relationshipHealth:{}},impactMeasurement:{totalImpacts:0,byArea:{},measurement:{},sustainability:{},longTermOutcomes:{},unintendedConsequences:[],scalability:{}},investmentTracking:{totalInvestment:0,allocation:{},efficiency:0,trends:{},benchmarking:{},roi:0},performanceMetrics:{projectSuccessRate:0,impactPerDollar:0,beneficiaryReach:0,sustainabilityIndex:0,stakeholderSatisfaction:0,communityDevelopmentIndex:0},recommendations:[]}}}d.projectTypes=["education","healthcare","infrastructure","environment","economic_development"],d.stakeholderTypes=["local_community","government","ngos","suppliers","customers"],d.impactAreas=["social","economic","environmental","cultural"];class m{static manageWorkforce(e,t,i){try{const s=this.analyzeDiversity(t),a=this.analyzeRetention(e),n=this.analyzePayEquity(e),r=this.analyzeTraining(e.training);return{diversityAnalysis:s,retentionAnalysis:a,payEquityAnalysis:n,trainingAnalysis:r,performanceMetrics:this.calculatePerformanceMetrics(i),overallScore:this.calculateWorkforceScore(s,a,n),recommendations:this.generateWorkforceRecommendations(s,a,n)}}catch(s){return console.error("Workforce management analysis failed:",s),this.getDefaultWorkforceAnalysis()}}static analyzeDiversity(e){const t={};return this.diversityCategories.forEach(i=>{t[i]=this.calculateDiversityMetrics(e[i]||{})}),{byCategory:t,overallDiversityIndex:this.calculateDiversityIndex(t),representation:this.analyzeRepresentation(e),trends:this.analyzeDiversityTrends(e.historical)}}static analyzeRetention(e){const t=e.employees||[],i=e.turnover||[];return{overallRetentionRate:this.calculateRetentionRate(t,i),byDemographic:this.calculateRetentionByDemographic(t,i),byRole:this.calculateRetentionByRole(t,i),exitReasons:this.analyzeExitReasons(i),costOfTurnover:this.calculateTurnoverCost(i,e.avgRecruitmentCost)}}static analyzePayEquity(e){const t=e.employees||[];return{genderPayGap:this.calculateGenderPayGap(t),ethnicityPayGap:this.calculateEthnicityPayGap(t),roleEquity:this.analyzeRoleEquity(t),promotionEquity:this.analyzePromotionEquity(e.promotions),complianceStatus:this.assessPayEquityCompliance(t)}}static analyzeTraining(e){const t=e||{};return{totalHours:t.totalHours||0,hoursPerEmployee:t.hoursPerEmployee||0,completionRate:t.completionRate||0,effectivenessScore:t.effectivenessScore||0,skillDevelopment:this.analyzeSkillDevelopment(t.skills),investmentROI:this.calculateTrainingROI(t)}}static calculateDiversityMetrics(e){const t=Object.values(e).reduce((e,t)=>e+t,0),i={};return Object.entries(e).forEach(e=>{let[s,a]=e;i[s]=t>0?a/t*100:0}),{distribution:i,diversityScore:this.calculateShannonIndex(e),representation:this.assessRepresentation(i)}}static calculateShannonIndex(e){const t=Object.values(e).reduce((e,t)=>e+t,0);if(0===t)return 0;let i=0;return Object.values(e).forEach(e=>{if(e>0){const s=e/t;i-=s*Math.log2(s)}}),i}static getDefaultWorkforceAnalysis(){return{diversityAnalysis:{byCategory:{},overallDiversityIndex:0,representation:{},trends:{}},retentionAnalysis:{overallRetentionRate:0,byDemographic:{},byRole:{},exitReasons:{},costOfTurnover:0},payEquityAnalysis:{genderPayGap:0,ethnicityPayGap:0,roleEquity:{},promotionEquity:{},complianceStatus:{}},trainingAnalysis:{totalHours:0,hoursPerEmployee:0,completionRate:0,effectivenessScore:0,skillDevelopment:{},investmentROI:0},performanceMetrics:{productivity:0,engagement:0,retention:0,satisfaction:0},overallScore:0,recommendations:[]}}}m.diversityCategories=["gender","age","ethnicity","disability","education"],m.performanceMetrics=["productivity","engagement","retention","satisfaction"];class h{static manageHealthSafety(e,t,i,s){try{const a=this.analyzeIncidents(e),n=this.calculateSafetyMetrics(e),r=this.processSafetyAudits(t),c=this.analyzeSafetyTraining(i),o=this.assessEmergencyPreparedness(s);return{incidentAnalysis:a,safetyMetrics:n,auditResults:r,trainingEffectiveness:c,emergencyPreparedness:o,complianceStatus:this.assessSafetyCompliance(e,t),overallSafetyScore:this.calculateOverallSafetyScore(n,r,c),recommendations:this.generateSafetyRecommendations(a,n,r)}}catch(a){return console.error("Health & safety analysis failed:",a),this.getDefaultHealthSafetyAnalysis()}}static analyzeIncidents(e){const t=e.incidents||[];return{totalIncidents:t.length,byType:this.categorizeIncidents(t),bySeverity:this.categorizeIncidentsBySeverity(t),trends:this.analyzeIncidentTrends(t),rootCauses:this.analyzeRootCauses(t),preventiveMeasures:this.identifyPreventiveMeasures(t),costImpact:this.calculateIncidentCosts(t)}}static calculateSafetyMetrics(e){const t=e.incidents||[],i=e.totalWorkHours||1e6;e.totalEmployees;return{ltifr:this.calculateLTIFR(t,i),trifr:this.calculateTRIFR(t,i),dart:this.calculateDART(t,i),oshaRate:this.calculateOSHARate(t,i),fatalities:t.filter(e=>"fatality"===e.severity).length,benchmarking:this.benchmarkSafetyMetrics(t,i)}}static processSafetyAudits(e){const t=e.audits||[],i=e.findings||[];return{totalAudits:t.length,auditCoverage:this.calculateAuditCoverage(t),findings:this.categorizeSafetyFindings(i),correctiveActions:this.trackCorrectiveActions(e.actions),auditEffectiveness:this.measureAuditEffectiveness(t,i),complianceGaps:this.identifyComplianceGaps(i)}}static analyzeSafetyTraining(e){const t=e||{};return{totalTrainingHours:t.totalHours||0,completionRate:t.completionRate||0,certificationStatus:this.analyzeCertifications(t.certifications),trainingEffectiveness:t.effectivenessScore||0,refresherCompliance:this.trackRefresherTraining(t.refresher),emergencyDrills:this.analyzeEmergencyDrills(t.drills)}}static assessEmergencyPreparedness(e){const t=e.procedures||[],i=e.drills||[],s=e.equipment||[];return{procedureCoverage:this.assessProcedureCoverage(t),drillCompliance:this.analyzeDrillCompliance(i),equipmentReadiness:this.assessEquipmentReadiness(s),responseCapability:this.evaluateResponseCapability(e),communicationSystems:this.assessCommunicationSystems(e.communications)}}static calculateLTIFR(e,t){return 1e6*e.filter(e=>"injury"===e.type&&e.lostTime>0).length/t}static calculateTRIFR(e,t){return 1e6*e.filter(e=>"injury"===e.type&&e.recordable).length/t}static calculateDART(e,t){return 2e5*e.filter(e=>"injury"===e.type&&(e.daysAway>0||e.restricted||e.transferred)).length/t}static calculateOSHARate(e,t){return 2e5*e.filter(e=>e.oshaRecordable).length/t}static calculateOverallSafetyScore(e,t,i){return(Math.max(0,100-10*e.ltifr)+(t.auditEffectiveness||70)+(i.trainingEffectiveness||70))/3}static generateSafetyRecommendations(e,t,i){const s=[];return t.ltifr>2&&s.push({area:"incident_reduction",priority:"high",action:"Implement enhanced safety controls to reduce LTIFR",timeline:"6 months"}),e.totalIncidents>50&&s.push({area:"prevention",priority:"medium",action:"Strengthen preventive safety measures and training",timeline:"3 months"}),s}static getDefaultHealthSafetyAnalysis(){return{incidentAnalysis:{totalIncidents:0,byType:{},bySeverity:{},trends:{},rootCauses:{},preventiveMeasures:[],costImpact:0},safetyMetrics:{ltifr:0,trifr:0,dart:0,oshaRate:0,fatalities:0,benchmarking:{}},auditResults:{totalAudits:0,auditCoverage:0,findings:{},correctiveActions:[],auditEffectiveness:0,complianceGaps:[]},trainingEffectiveness:{totalTrainingHours:0,completionRate:0,certificationStatus:{},trainingEffectiveness:0,refresherCompliance:{},emergencyDrills:{}},emergencyPreparedness:{procedureCoverage:0,drillCompliance:0,equipmentReadiness:0,responseCapability:0,communicationSystems:{}},complianceStatus:{compliant:!1,gaps:[],violations:[]},overallSafetyScore:0,recommendations:[]}}}h.incidentTypes=["injury","illness","near_miss","property_damage","environmental"],h.severityLevels=["minor","moderate","major","critical","fatality"],h.safetyMetrics=["ltifr","trifr","dart","osha_rate"];class p{static manageEthicsCompliance(e,t,i,s){try{const a=this.assessPolicyCompliance(e),n=this.evaluateTrainingPrograms(t),r=this.analyzeIncidents(i),c=this.conductEthicsRiskAssessment(e,i);return{policyCompliance:a,trainingEffectiveness:n,incidentAnalysis:r,riskAssessment:c,auditResults:this.processEthicsAudits(s),complianceScore:this.calculateOverallComplianceScore(a,n,r),recommendations:this.generateEthicsRecommendations(a,n,r,c)}}catch(a){return console.error("Ethics compliance analysis failed:",a),this.getDefaultEthicsCompliance()}}static assessPolicyCompliance(e){const t=e.policies||[],i=e.acknowledgments||[],s=e.updates||[];return{policyFramework:this.evaluatePolicyFramework(t),acknowledgmentRate:this.calculateAcknowledgmentRate(i,e.totalEmployees),policyUpdates:this.analyzePolicyUpdates(s),coverage:this.assessPolicyCoverage(t),effectiveness:this.measurePolicyEffectiveness(t,e.violations)}}static evaluateTrainingPrograms(e){const t=e.programs||[],i=e.completions||[],s=e.assessments||[];return{programCoverage:this.calculateProgramCoverage(t),completionRates:this.calculateCompletionRates(i,e.totalEmployees),effectivenessScores:this.analyzeTrainingEffectiveness(s),refresherCompliance:this.trackRefresherTraining(e.refresher),targetedTraining:this.assessTargetedTraining(t,e.riskProfiles)}}static analyzeIncidents(e){const t=e.incidents||[],i=e.investigations||[];return{totalIncidents:t.length,byType:this.categorizeIncidents(t),bySource:this.analyzeIncidentSources(t),trends:this.analyzeIncidentTrends(t),investigations:this.assessInvestigations(i),resolutions:this.trackResolutions(t),preventiveMeasures:this.identifyPreventiveMeasures(t)}}static conductEthicsRiskAssessment(e,t){const i=this.identifyRiskFactors(e,t),s=this.buildEthicsRiskMatrix(i),a=this.developMitigationStrategies(s);return{riskFactors:i,riskMatrix:s,overallRiskLevel:this.calculateOverallEthicsRisk(s),highRiskAreas:this.identifyHighRiskAreas(s),mitigationStrategies:a,monitoringPlan:this.createMonitoringPlan(s)}}static processEthicsAudits(e){const t=e.audits||[],i=e.findings||[],s=e.correctiveActions||[];return{auditCoverage:this.calculateAuditCoverage(t),findings:this.categorizeAuditFindings(i),correctiveActions:this.trackCorrectiveActions(s),auditEffectiveness:this.measureAuditEffectiveness(t,i),followUp:this.assessFollowUpActions(s)}}static evaluatePolicyFramework(e){const t=["code_of_conduct","anti_bribery","conflict_of_interest","whistleblower","gift_policy"],i=e.map(e=>e.type),s=t.filter(e=>!i.includes(e));return{completeness:(t.length-s.length)/t.length*100,existing:i,missing:s,lastUpdated:this.getLatestUpdateDate(e),comprehensiveness:this.assessPolicyComprehensiveness(e)}}static calculateAcknowledgmentRate(e,t){const i=e.length;return{rate:t>0?i/t*100:0,acknowledged:i,pending:t-i,overdue:e.filter(e=>this.isOverdue(e.dueDate)).length}}static analyzePolicyUpdates(e){const t=e.filter(e=>this.isRecent(e.date,365));return{totalUpdates:e.length,recentUpdates:t.length,updateFrequency:this.calculateUpdateFrequency(e),majorRevisions:e.filter(e=>"major"===e.type).length,minorRevisions:e.filter(e=>"minor"===e.type).length}}static calculateProgramCoverage(e){const t={};return this.trainingTypes.forEach(i=>{t[i]=e.filter(e=>e.type===i).length}),t}static calculateCompletionRates(e,t){const i={};return this.trainingTypes.forEach(s=>{const a=e.filter(e=>e.trainingType===s).length;i[s]=t>0?a/t*100:0}),i}static analyzeTrainingEffectiveness(e){const t={};return this.trainingTypes.forEach(i=>{const s=e.filter(e=>e.trainingType===i),a=s.map(e=>e.score||0);t[i]={averageScore:a.length>0?a.reduce((e,t)=>e+t,0)/a.length:0,passRate:s.filter(e=>(e.score||0)>=80).length/s.length*100||0,completions:s.length}}),t}static categorizeIncidents(e){const t={};return this.incidentTypes.forEach(i=>{t[i]=e.filter(e=>e.type===i)}),t}static analyzeIncidentSources(e){const t={};return e.forEach(e=>{const i=e.source||"unknown";t[i]=(t[i]||0)+1}),t}static analyzeIncidentTrends(e){const t=this.groupIncidentsByMonth(e);return{monthlyData:t,trend:this.calculateTrend(Object.values(t)),peakMonth:this.findPeakMonth(t),seasonality:this.detectSeasonality(t)}}static identifyRiskFactors(e,t){var i;const s=[],a=(null===(i=e.policies)||void 0===i?void 0:i.missing)||[];a.length>0&&s.push({type:"policy_gap",severity:"high",description:`Missing ${a.length} required policies`});Object.entries(e.trainingRates||{}).filter(e=>{let[t,i]=e;return i<80}).length>0&&s.push({type:"training_gap",severity:"medium",description:"Low training completion rates"});return(t.incidents||[]).filter(e=>this.isRecent(e.date,90)).length>5&&s.push({type:"incident_pattern",severity:"high",description:"High incident frequency"}),s}static buildEthicsRiskMatrix(e){const t={};return this.riskAreas.forEach(i=>{const s=e.filter(e=>this.isRelatedToArea(e,i));t[i]={probability:this.calculateRiskProbability(s),impact:this.calculateRiskImpact(i),riskLevel:"medium"},t[i].riskLevel=this.determineRiskLevel(t[i].probability,t[i].impact)}),t}static calculateOverallComplianceScore(e,t,i){var s;return(((null===(s=e.policyFramework)||void 0===s?void 0:s.completeness)||0)+(Object.values(t.completionRates||{}).reduce((e,t)=>e+t,0)/Object.keys(t.completionRates||{}).length||0)+Math.max(0,100-5*i.totalIncidents))/3}static generateEthicsRecommendations(e,t,i,s){var a,n;const r=[];(null===(a=e.policyFramework)||void 0===a?void 0:a.completeness)<80&&r.push({area:"policy",priority:"high",action:"Complete missing policy framework components",timeline:"3 months"});const c=Object.entries(t.completionRates||{}).filter(e=>{let[t,i]=e;return i<80});return c.length>0&&r.push({area:"training",priority:"medium",action:`Improve training completion rates in ${c.map(e=>{let[t]=e;return t}).join(", ")}`,timeline:"6 months"}),null===(n=s.highRiskAreas)||void 0===n||n.forEach(e=>{r.push({area:"risk_mitigation",priority:"high",action:`Implement enhanced controls for ${e.replace("_"," ")}`,timeline:"3 months"})}),r}static isOverdue(e){return new Date(e)<new Date}static isRecent(e,t){const i=new Date;return i.setDate(i.getDate()-t),new Date(e)>i}static calculateTrend(e){if(e.length<2)return"insufficient_data";const t=e.slice(-3).reduce((e,t)=>e+t,0)/3,i=e.slice(0,-3).reduce((e,t)=>e+t,0)/(e.length-3)||t;return t>1.1*i?"increasing":t<.9*i?"decreasing":"stable"}static determineRiskLevel(e,t){const i=e*t;return i>70?"high":i>40?"medium":"low"}static getDefaultEthicsCompliance(){return{policyCompliance:{policyFramework:{},acknowledgmentRate:{},policyUpdates:{},coverage:{},effectiveness:{}},trainingEffectiveness:{programCoverage:{},completionRates:{},effectivenessScores:{},refresherCompliance:{},targetedTraining:{}},incidentAnalysis:{totalIncidents:0,byType:{},bySource:{},trends:{},investigations:{},resolutions:{},preventiveMeasures:[]},riskAssessment:{riskFactors:[],riskMatrix:{},overallRiskLevel:"unknown",highRiskAreas:[],mitigationStrategies:{},monitoringPlan:{}},auditResults:{auditCoverage:0,findings:{},correctiveActions:[],auditEffectiveness:0,followUp:{}},complianceScore:0,recommendations:[]}}}p.riskAreas=["bribery","corruption","conflicts_of_interest","fraud","money_laundering"],p.trainingTypes=["code_of_conduct","anti_bribery","conflict_of_interest","fraud_prevention","whistleblower"],p.incidentTypes=["bribery_attempt","corruption_allegation","conflict_of_interest","fraud_case","policy_violation"];class g{static assessDataPrivacyCybersecurity(e,t,i,s){try{const a=this.assessPrivacyCompliance(e,s),n=this.evaluateSecurityPosture(t),r=this.analyzeSecurityIncidents(i),c=this.conductCyberRiskAssessment(t,i);return{privacyCompliance:a,securityPosture:n,incidentManagement:r,riskAssessment:c,trainingEffectiveness:this.evaluateSecurityTraining(e.training,t.training),overallMaturityScore:this.calculateMaturityScore(a,n,r),recommendations:this.generateSecurityRecommendations(a,n,r,c)}}catch(a){return console.error("Data privacy & cybersecurity assessment failed:",a),this.getDefaultSecurityAssessment()}}static assessPrivacyCompliance(e,t){const i=this.analyzeDataInventory(e.dataInventory),s=this.evaluateConsentManagement(e.consent),a=this.assessDataSubjectRights(e.rights),n=this.evaluateBreachManagement(e.breaches);return{dataInventory:i,consentManagement:s,dataSubjectRights:a,breachManagement:n,frameworkCompliance:this.assessFrameworkCompliance(t),privacyScore:this.calculatePrivacyScore(i,s,a,n)}}static evaluateSecurityPosture(e){const t=this.assessSecurityControls(e.controls),i=this.evaluateVulnerabilityManagement(e.vulnerabilities),s=this.assessAccessManagement(e.access),a=this.evaluateNetworkSecurity(e.network),n=this.assessEndpointSecurity(e.endpoints);return{controlsAssessment:t,vulnerabilityManagement:i,accessManagement:s,networkSecurity:a,endpointSecurity:n,securityScore:this.calculateSecurityScore(t,i,s,a,n)}}static analyzeSecurityIncidents(e){const t=e.incidents||[],i=this.categorizeSecurityIncidents(t),s=this.analyzeIncidentTrends(t),a=this.calculateResponseMetrics(t),n=this.analyzeIncidentImpact(t);return{totalIncidents:t.length,byType:i,trends:s,responseMetrics:a,impactAnalysis:n,lessonsLearned:this.extractLessonsLearned(t),preventiveMeasures:this.identifyPreventiveMeasures(t)}}static conductCyberRiskAssessment(e,t){const i=this.analyzeThreatLandscape(t),s=this.buildVulnerabilityProfile(e.vulnerabilities),a=this.buildCyberRiskMatrix(i,s);return{threatLandscape:i,vulnerabilityProfile:s,riskMatrix:a,businessImpact:this.assessBusinessImpact(a),overallRiskLevel:this.calculateOverallCyberRisk(a),criticalRisks:this.identifyCriticalRisks(a),mitigationStrategies:this.developCyberMitigationStrategies(a)}}static evaluateSecurityTraining(e,t){const i=this.calculateTrainingMetrics(e),s=this.calculateTrainingMetrics(t);return{privacyTraining:i,securityTraining:s,awarenessLevel:this.assessSecurityAwareness(e,t),overallEffectiveness:(i.effectiveness+s.effectiveness)/2,gaps:this.identifyTrainingGaps(e,t)}}static analyzeDataInventory(e){const t=e||[],i=this.categorizeDataByType(t),s=this.categorizeDataBySource(t),a=this.analyzeDataRetention(t);return{totalDataAssets:t.length,byType:i,bySource:s,retention:a,completeness:this.assessInventoryCompleteness(t),classification:this.assessDataClassification(t)}}static evaluateConsentManagement(e){const t=(null===e||void 0===e?void 0:e.consents)||[],i=(null===e||void 0===e?void 0:e.mechanisms)||[];return{totalConsents:t.length,validConsents:t.filter(e=>this.isConsentValid(e)).length,expiredConsents:t.filter(e=>this.isConsentExpired(e)).length,withdrawnConsents:t.filter(e=>"withdrawn"===e.status).length,consentMechanisms:i.length,complianceRate:this.calculateConsentComplianceRate(t)}}static assessDataSubjectRights(e){const t=(null===e||void 0===e?void 0:e.requests)||[],i=this.categorizeRightsRequests(t),s=this.calculateRightsResponseMetrics(t);return{totalRequests:t.length,byType:i,responseMetrics:s,fulfillmentRate:this.calculateFulfillmentRate(t),averageResponseTime:this.calculateAverageResponseTime(t)}}static assessSecurityControls(e){const t={};return this.securityControls.forEach(i=>{const s=(null===e||void 0===e?void 0:e[i])||{};t[i]={implemented:s.implemented||!1,effectiveness:s.effectiveness||0,lastTested:s.lastTested,status:this.determineControlStatus(s)}}),{controls:t,implementationRate:this.calculateImplementationRate(t),averageEffectiveness:this.calculateAverageEffectiveness(t),controlGaps:this.identifyControlGaps(t)}}static evaluateVulnerabilityManagement(e){const t=(null===e||void 0===e?void 0:e.vulnerabilities)||[],i=this.categorizeVulnerabilitiesBySeverity(t),s=this.categorizeVulnerabilitiesByAge(t),a=this.calculatePatchingMetrics(t);return{totalVulnerabilities:t.length,bySeverity:i,byAge:s,patchingMetrics:a,riskScore:this.calculateVulnerabilityRiskScore(t),trends:this.analyzeVulnerabilityTrends(t)}}static assessAccessManagement(e){const t=(null===e||void 0===e?void 0:e.users)||[],i=t.filter(e=>e.privileged),s=(null===e||void 0===e?void 0:e.reviews)||[];return{totalUsers:t.length,privilegedAccounts:i.length,mfaEnabled:t.filter(e=>e.mfaEnabled).length,lastAccessReview:this.getLatestAccessReview(s),accessViolations:this.identifyAccessViolations(t),complianceRate:this.calculateAccessComplianceRate(t)}}static categorizeSecurityIncidents(e){const t={};return this.threatTypes.forEach(i=>{t[i]=e.filter(e=>e.type===i)}),t}static calculateResponseMetrics(e){const t=e.map(e=>e.responseTime||0),i=e.map(e=>e.resolutionTime||0);return{averageResponseTime:this.calculateAverage(t),averageResolutionTime:this.calculateAverage(i),slaCompliance:this.calculateSLACompliance(e),escalationRate:this.calculateEscalationRate(e)}}static analyzeIncidentImpact(e){const t=e.map(e=>e.impact||{});return{totalFinancialImpact:t.reduce((e,t)=>e+(t.financial||0),0),dataRecordsAffected:t.reduce((e,t)=>e+(t.records||0),0),systemDowntime:t.reduce((e,t)=>e+(t.downtime||0),0),reputationalImpact:this.assessReputationalImpact(t),regulatoryImpact:this.assessRegulatoryImpact(t)}}static analyzeThreatLandscape(e){const t=e.incidents||[],i={};return this.threatTypes.forEach(e=>{const s=t.filter(t=>t.type===e);i[e]={frequency:s.length,severity:this.calculateAverageSeverity(s),trend:this.calculateThreatTrend(s),likelihood:this.calculateThreatLikelihood(s)}}),i}static buildCyberRiskMatrix(e,t){const i={};return Object.entries(e).forEach(e=>{let[t,s]=e;i[t]={likelihood:s.likelihood,impact:this.calculateThreatImpact(t),riskScore:s.likelihood*this.calculateThreatImpact(t),riskLevel:this.determineRiskLevel(s.likelihood*this.calculateThreatImpact(t))}}),i}static calculateMaturityScore(e,t,i){return((e.privacyScore||0)+(t.securityScore||0)+Math.max(0,100-2*i.totalIncidents))/3}static calculatePrivacyScore(e,t,i,s){return((e.completeness||0)+(t.complianceRate||0)+(i.fulfillmentRate||0)+Math.max(0,100-10*((null===s||void 0===s?void 0:s.totalBreaches)||0)))/4}static calculateSecurityScore(e,t,i,s,a){return((e.averageEffectiveness||0)+Math.max(0,100-t.riskScore)+(i.complianceRate||0)+((null===s||void 0===s?void 0:s.securityScore)||70)+((null===a||void 0===a?void 0:a.securityScore)||70))/5}static generateSecurityRecommendations(e,t,i,s){var a;const n=[];return e.privacyScore<70&&n.push({area:"privacy",priority:"high",action:"Strengthen data privacy compliance framework",timeline:"6 months"}),t.securityScore<70&&n.push({area:"security",priority:"high",action:"Enhance cybersecurity controls and monitoring",timeline:"3 months"}),i.totalIncidents>10&&n.push({area:"incident_response",priority:"medium",action:"Improve incident prevention and response capabilities",timeline:"4 months"}),null===(a=s.criticalRisks)||void 0===a||a.forEach(e=>{n.push({area:"risk_mitigation",priority:"critical",action:`Address critical ${e} risk`,timeline:"1 month"})}),n}static isConsentValid(e){return"active"===e.status&&!this.isConsentExpired(e)}static isConsentExpired(e){return e.expiryDate&&new Date(e.expiryDate)<new Date}static calculateAverage(e){return e.length>0?e.reduce((e,t)=>e+t,0)/e.length:0}static determineRiskLevel(e){return e>70?"critical":e>50?"high":e>30?"medium":"low"}static getDefaultSecurityAssessment(){return{privacyCompliance:{dataInventory:{},consentManagement:{},dataSubjectRights:{},breachManagement:{},frameworkCompliance:{},privacyScore:0},securityPosture:{controlsAssessment:{},vulnerabilityManagement:{},accessManagement:{},networkSecurity:{},endpointSecurity:{},securityScore:0},incidentManagement:{totalIncidents:0,byType:{},trends:{},responseMetrics:{},impactAnalysis:{},lessonsLearned:[],preventiveMeasures:[]},riskAssessment:{threatLandscape:{},vulnerabilityProfile:{},riskMatrix:{},businessImpact:{},overallRiskLevel:"unknown",criticalRisks:[],mitigationStrategies:{}},trainingEffectiveness:{privacyTraining:{},securityTraining:{},awarenessLevel:0,overallEffectiveness:0,gaps:[]},overallMaturityScore:0,recommendations:[]}}}g.dataTypes=["personal","sensitive","financial","health","biometric"],g.securityControls=["encryption","access_control","monitoring","backup","incident_response"],g.complianceFrameworks=["GDPR","CCPA","HIPAA","SOX","ISO27001"],g.threatTypes=["malware","phishing","ransomware","data_breach","insider_threat"];class v{static assessBoardLeadership(e,t,i,s){try{const a=this.analyzeBoardComposition(e),n=this.assessBoardDiversity(e),r=this.evaluateBoardPerformance(i,t),c=this.analyzeCompensation(s);return{compositionAnalysis:a,diversityAssessment:n,performanceEvaluation:r,compensationAnalysis:c,governanceEffectiveness:this.assessGovernanceEffectiveness(e,i),overallGovernanceScore:this.calculateGovernanceScore(a,n,r),recommendations:this.generateGovernanceRecommendations(a,n,r)}}catch(a){return console.error("Board & leadership analysis failed:",a),this.getDefaultBoardAnalysis()}}static analyzeBoardComposition(e){const t=e.members||[];return{totalMembers:t.length,independentDirectors:t.filter(e=>e.independent).length,executiveDirectors:t.filter(e=>!e.independent).length,independenceRatio:t.length>0?t.filter(e=>e.independent).length/t.length*100:0,averageTenure:this.calculateAverageTenure(t),skillsMatrix:this.analyzeSkillsMatrix(t),committees:this.analyzeCommittees(e.committees)}}static assessBoardDiversity(e){const t=e.members||[],i={};return this.diversityMetrics.forEach(e=>{i[e]=this.calculateDiversityMetric(t,e)}),{byMetric:i,overallDiversityScore:this.calculateOverallDiversityScore(i),representation:this.analyzeRepresentation(t),trends:this.analyzeDiversityTrends(e.historical)}}static evaluateBoardPerformance(e,t){const i=t.meetings||[],s=e.evaluations||[];return{meetingAttendance:this.calculateMeetingAttendance(i),decisionEffectiveness:this.assessDecisionEffectiveness(e),strategicOversight:this.evaluateStrategicOversight(s),riskOversight:this.evaluateRiskOversight(s),stakeholderEngagement:this.assessStakeholderEngagement(e),performanceRatings:this.analyzePerformanceRatings(s)}}static analyzeCompensation(e){const t=e||{};return{executiveCompensation:this.analyzeExecutiveCompensation(t.executive),directorCompensation:this.analyzeDirectorCompensation(t.directors),payForPerformance:this.assessPayForPerformance(t),peerBenchmarking:this.benchmarkCompensation(t),disclosureCompliance:this.assessCompensationDisclosure(t),shareholderApproval:this.trackShareholderApproval(t.approvals)}}static assessGovernanceEffectiveness(e,t){return{oversightEffectiveness:this.measureOversightEffectiveness(t),complianceOversight:this.assessComplianceOversight(e),riskManagement:this.evaluateRiskManagement(t),successionPlanning:this.assessSuccessionPlanning(e.succession),stakeholderRelations:this.evaluateStakeholderRelations(t),ethicalLeadership:this.assessEthicalLeadership(e,t)}}static calculateAverageTenure(e){if(0===e.length)return 0;return e.reduce((e,t)=>e+(t.tenure||0),0)/e.length}static analyzeSkillsMatrix(e){const t={};return e.forEach(e=>{(e.skills||[]).forEach(e=>{t[e]=(t[e]||0)+1})}),t}static calculateDiversityMetric(e,t){const i={};return e.forEach(e=>{const s=e[t]||"unknown";i[s]=(i[s]||0)+1}),{distribution:i,diversityIndex:this.calculateShannonIndex(i),representation:this.assessMetricRepresentation(i,t)}}static calculateShannonIndex(e){const t=Object.values(e).reduce((e,t)=>e+t,0);if(0===t)return 0;let i=0;return Object.values(e).forEach(e=>{if(e>0){const s=e/t;i-=s*Math.log2(s)}}),i}static calculateMeetingAttendance(e){if(0===e.length)return{overall:0,byMember:{}};const t={};let i=0,s=0;return e.forEach(e=>{(e.attendees||[]).forEach(e=>{t[e]=(t[e]||0)+1,i++}),s+=e.expectedAttendees||0}),{overall:s>0?i/s*100:0,byMember:t,averagePerMeeting:e.length>0?i/e.length:0}}static calculateGovernanceScore(e,t,i){var s;return(Math.min(100,e.independenceRatio+20)+(t.overallDiversityScore||50)+((null===(s=i.performanceRatings)||void 0===s?void 0:s.average)||70))/3}static generateGovernanceRecommendations(e,t,i){var s;const a=[];return e.independenceRatio<50&&a.push({area:"independence",priority:"high",action:"Increase board independence to meet governance standards",timeline:"12 months"}),t.overallDiversityScore<60&&a.push({area:"diversity",priority:"medium",action:"Enhance board diversity across multiple dimensions",timeline:"18 months"}),(null===(s=i.meetingAttendance)||void 0===s?void 0:s.overall)<80&&a.push({area:"engagement",priority:"medium",action:"Improve board member engagement and meeting attendance",timeline:"6 months"}),a}static getDefaultBoardAnalysis(){return{compositionAnalysis:{totalMembers:0,independentDirectors:0,executiveDirectors:0,independenceRatio:0,averageTenure:0,skillsMatrix:{},committees:{}},diversityAssessment:{byMetric:{},overallDiversityScore:0,representation:{},trends:{}},performanceEvaluation:{meetingAttendance:{},decisionEffectiveness:0,strategicOversight:0,riskOversight:0,stakeholderEngagement:0,performanceRatings:{}},compensationAnalysis:{executiveCompensation:{},directorCompensation:{},payForPerformance:0,peerBenchmarking:{},disclosureCompliance:0,shareholderApproval:{}},governanceEffectiveness:{oversightEffectiveness:0,complianceOversight:0,riskManagement:0,successionPlanning:0,stakeholderRelations:0,ethicalLeadership:0},overallGovernanceScore:0,recommendations:[]}}}v.boardRoles=["chairman","ceo","independent_director","executive_director","audit_committee","compensation_committee"],v.diversityMetrics=["gender","age","ethnicity","expertise","tenure"],v.governanceAreas=["oversight","strategy","risk_management","compliance","succession_planning"];class y{static generateAIInsights(e){try{const t=this.performGapAnalysis(e),i=this.calculateMaturityScore(e),s=this.generatePredictiveAlerts(e);return{gapAnalysis:t,maturityScoring:i,predictiveAlerts:s,policyRecommendations:this.generatePolicyRecommendations(t),automatedReporting:this.generateAutomatedReports(e)}}catch(t){return console.error("AI insights generation failed:",t),this.getDefaultAIInsights()}}static performGapAnalysis(e){const t=["GRI","SASB","TCFD","BRSR"],i={};let s=0;return t.forEach(t=>{const a=this.analyzeFrameworkGaps(e,t);i[t]=a,s+=a.completeness}),{byFramework:i,overallCompleteness:Math.round(s/t.length)}}static analyzeFrameworkGaps(e,t){if(!e||0===Object.keys(e).length)return{completeness:0,missingData:this.getFrameworkRequirements(t),qualityScore:0};const i=this.getFrameworkRequirements(t),s=this.extractAvailableData(e),a=i.filter(e=>!s.includes(e));return{completeness:Math.round((i.length-a.length)/i.length*100),missingData:a,qualityScore:this.assessDataQuality(e)}}static getFrameworkRequirements(e){return{GRI:["organizational_profile","strategy_analysis","governance_structure","stakeholder_engagement","environmental_metrics","social_metrics"],SASB:["industry_description","material_topics","accounting_metrics","activity_metrics"],TCFD:["governance_oversight","strategy_resilience","risk_management_process","metrics_targets"],BRSR:["general_disclosures","management_leadership","principle_wise_performance","assessment_evaluation"]}[e]||[]}static extractAvailableData(e){const t=[];return Object.entries(e).forEach(e=>{let[i,s]=e;Array.isArray(s)&&s.forEach(e=>{e.subcategory&&t.push(e.subcategory),e.metric&&t.push(e.metric)})}),[...new Set(t)]}static assessDataQuality(e){let t=0,i=0;return Object.values(e).forEach(e=>{Array.isArray(e)&&e.forEach(e=>{i++,e.verified&&(t+=25),e.source&&(t+=15),e.methodology&&(t+=10),null!==e.value&&void 0!==e.value&&(t+=10)})}),i>0?Math.round(t/i):0}static calculateMaturityScore(e){const t=this.assessDataCollectionMaturity(e),i=this.assessProcessIntegrationMaturity(e),s=this.assessReportingMaturity(e),a=this.assessGovernanceMaturity(e),n=(t+i+s+a)/4,r=this.getMaturityLevel(n);return{dataCollection:t,processIntegration:i,reporting:s,governance:a,overallMaturity:Math.round(10*n)/10,maturityLevel:r}}static assessDataCollectionMaturity(e){if(!e||0===Object.keys(e).length)return 0;const t=["environmental","social","governance"],i=t.filter(t=>e[t]&&e[t].length>0).length/t.length*100;return Math.min(100,i)}static assessProcessIntegrationMaturity(e){if(!e||0===Object.keys(e).length)return 0;let t=0;const i=Object.values(e).flat();return i.forEach(e=>{e.automated&&(t+=10),e.workflow&&(t+=5),e.approval_status&&(t+=5)}),Math.min(100,t/Math.max(1,i.length))}static assessReportingMaturity(e){if(!e||0===Object.keys(e).length)return 0;return Object.values(e).some(e=>Array.isArray(e)&&e.some(e=>e.reported||e.framework))?80:20}static assessGovernanceMaturity(e){if(!e||!e.governance)return 0;const t=e.governance||[];let i=0;return t.length>0&&(i+=50),t.some(e=>e.verified)&&(i+=30),t.length>5&&(i+=20),Math.min(100,i)}static getMaturityLevel(e){return e>=80?"Advanced":e>=60?"Intermediate":e>=40?"Developing":"Initial"}static generatePredictiveAlerts(e){const t=[];let i=0;const s=this.analyzeEnvironmentalRisks(e.environmental||[]);t.push(...s.alerts),i+=s.riskScore;const a=this.analyzeSocialRisks(e.social||[]);t.push(...a.alerts),i+=a.riskScore;const n=this.analyzeGovernanceRisks(e.governance||[]);return t.push(...n.alerts),i+=n.riskScore,{alerts:t,riskScore:Math.round(i/3)}}static analyzeEnvironmentalRisks(e){const t=[];let i=0;const s=e.filter(e=>e.metric&&e.metric.includes("emission"));if(s.length>0){s.reduce((e,t)=>e+(parseFloat(t.value)||0),0)/s.length>1e3&&(t.push({type:"climate_risk",severity:"high",description:"High carbon emissions detected - climate targets at risk"}),i+=60)}return{alerts:t,riskScore:i}}static analyzeSocialRisks(e){const t=[];let i=0;const s=e.filter(e=>e.metric&&(e.metric.includes("safety")||e.metric.includes("injury")));if(s.length>0){s.reduce((e,t)=>e+(parseFloat(t.value)||0),0)/s.length>5&&(t.push({type:"safety_risk",severity:"medium",description:"Safety metrics indicate potential workplace risks"}),i+=40)}return{alerts:t,riskScore:i}}static analyzeGovernanceRisks(e){const t=[];let i=0;return 0===e.filter(e=>e.metric&&e.metric.includes("compliance")).length&&(t.push({type:"compliance_risk",severity:"medium",description:"Limited governance compliance data available"}),i+=30),{alerts:t,riskScore:i}}static generatePolicyRecommendations(e){const t=[];return Object.entries(e.byFramework).forEach(e=>{let[i,s]=e;s.completeness<50&&t.push({type:"framework_compliance",priority:"high",description:`Improve ${i} framework compliance (${s.completeness}% complete)`,framework:i,missingData:s.missingData.slice(0,3)}),s.qualityScore<60&&t.push({type:"data_quality",priority:"medium",description:`Enhance data quality for ${i} reporting`,framework:i,currentScore:s.qualityScore})}),e.overallCompleteness<70&&t.push({type:"process_improvement",priority:"high",description:"Implement comprehensive ESG data collection strategy",impact:"Will improve overall framework compliance"}),{recommendations:t}}static generateAutomatedReports(e){const t={};return["BRSR","GRI","SASB","TCFD"].forEach(i=>{const s=this.analyzeFrameworkGaps(e,i);t[i]={completeness:s.completeness,draftGenerated:s.completeness>=60,qualityScore:s.qualityScore,missingDataCount:s.missingData.length,readyForReview:s.completeness>=80&&s.qualityScore>=70}}),t}static getDefaultAIInsights(){return{gapAnalysis:{byFramework:{},overallCompleteness:0},maturityScoring:{overallMaturity:0,maturityLevel:"Initial"},predictiveAlerts:{alerts:[],riskScore:0},policyRecommendations:{recommendations:[]},automatedReporting:{}}}}class f{static manageExternalPortals(e,t,i){try{const s=this.manageInvestorPortal(e.investor,i.investor),a=this.manageSupplierPortal(e.supplier,i.supplier),n=this.manageEmployeePortal(e.employee,i.employee);return{investorPortal:s,supplierPortal:a,employeePortal:n,auditorPortal:this.manageAuditorPortal(e.auditor,i.auditor),accessManagement:this.managePortalAccess(t),analytics:this.generatePortalAnalytics(e)}}catch(s){return console.error("External portals management failed:",s),this.getDefaultPortalManagement()}}static manageInvestorPortal(e,t){return{esgReports:this.organizeESGReports((null===t||void 0===t?void 0:t.reports)||[]),kpiDashboard:this.createKPIDashboard((null===t||void 0===t?void 0:t.kpis)||{}),benchmarks:this.provideBenchmarkData((null===t||void 0===t?void 0:t.benchmarks)||{}),accessLevel:"public",lastUpdated:(new Date).toISOString(),downloadStats:this.calculateDownloadStats((null===e||void 0===e?void 0:e.downloads)||[])}}static manageSupplierPortal(e,t){return{esgQuestionnaires:this.manageESGQuestionnaires((null===t||void 0===t?void 0:t.questionnaires)||[]),complianceUploads:this.trackComplianceUploads((null===t||void 0===t?void 0:t.uploads)||[]),assessmentResults:this.provideAssessmentResults((null===t||void 0===t?void 0:t.assessments)||[]),trainingModules:this.organizeTrainingModules((null===t||void 0===t?void 0:t.training)||[]),accessLevel:"restricted",activeSuppliers:(null===e||void 0===e?void 0:e.activeUsers)||0}}static manageEmployeePortal(e,t){return{trainingPrograms:this.organizeTrainingPrograms((null===t||void 0===t?void 0:t.training)||[]),grievanceSystem:this.manageGrievanceSystem((null===t||void 0===t?void 0:t.grievances)||[]),feedbackMechanism:this.manageFeedbackSystem((null===t||void 0===t?void 0:t.feedback)||[]),policyAccess:this.organizePolicyAccess((null===t||void 0===t?void 0:t.policies)||[]),accessLevel:"internal",engagementMetrics:this.calculateEngagementMetrics((null===e||void 0===e?void 0:e.engagement)||{})}}static manageAuditorPortal(e,t){return{dataVerification:this.organizeVerificationData((null===t||void 0===t?void 0:t.verification)||[]),evidenceRepository:this.manageEvidenceRepository((null===t||void 0===t?void 0:t.evidence)||[]),auditTrails:this.provideAuditTrails((null===t||void 0===t?void 0:t.trails)||[]),complianceDocuments:this.organizeComplianceDocuments((null===t||void 0===t?void 0:t.documents)||[]),accessLevel:"limited_time",verificationStatus:this.trackVerificationStatus((null===e||void 0===e?void 0:e.verifications)||[])}}static managePortalAccess(e){return{userManagement:this.manageUsers((null===e||void 0===e?void 0:e.users)||[]),roleBasedAccess:this.implementRoleBasedAccess((null===e||void 0===e?void 0:e.roles)||{}),securityControls:this.implementSecurityControls((null===e||void 0===e?void 0:e.security)||{}),auditLogs:this.maintainAuditLogs((null===e||void 0===e?void 0:e.logs)||[]),accessAnalytics:this.generateAccessAnalytics((null===e||void 0===e?void 0:e.analytics)||{})}}static generatePortalAnalytics(e){return{usageStatistics:this.calculateUsageStatistics(e),contentEngagement:this.analyzeContentEngagement(e),userSatisfaction:this.measureUserSatisfaction(e),performanceMetrics:this.calculatePerformanceMetrics(e),improvementAreas:this.identifyImprovementAreas(e)}}static organizeESGReports(e){return{annual:e.filter(e=>"annual"===e.type),quarterly:e.filter(e=>"quarterly"===e.type),sustainability:e.filter(e=>"sustainability"===e.type),totalReports:e.length}}static createKPIDashboard(e){return{environmental:e.environmental||{},social:e.social||{},governance:e.governance||{},trends:this.calculateKPITrends(e),benchmarks:this.addBenchmarkComparisons(e)}}static manageESGQuestionnaires(e){return{active:e.filter(e=>"active"===e.status),completed:e.filter(e=>"completed"===e.status),pending:e.filter(e=>"pending"===e.status),completionRate:this.calculateCompletionRate(e)}}static manageGrievanceSystem(e){return{open:e.filter(e=>"open"===e.status),resolved:e.filter(e=>"resolved"===e.status),anonymous:e.filter(e=>e.anonymous),averageResolutionTime:this.calculateAverageResolutionTime(e)}}static organizeVerificationData(e){return{dataPoints:e.length,verified:e.filter(e=>e.verified).length,pending:e.filter(e=>"pending"===e.status).length,verificationRate:this.calculateVerificationRate(e)}}static calculateUsageStatistics(e){return{totalUsers:Object.values(e).reduce((e,t)=>e+((null===t||void 0===t?void 0:t.activeUsers)||0),0),dailyActiveUsers:Math.floor(100*Math.random()),monthlyActiveUsers:Math.floor(500*Math.random()),sessionDuration:Math.floor(30*Math.random())+10}}static getDefaultPortalManagement(){return{investorPortal:{esgReports:{},kpiDashboard:{},benchmarks:{},accessLevel:"public",downloadStats:{}},supplierPortal:{esgQuestionnaires:{},complianceUploads:{},assessmentResults:{},trainingModules:{},accessLevel:"restricted",activeSuppliers:0},employeePortal:{trainingPrograms:{},grievanceSystem:{},feedbackMechanism:{},policyAccess:{},accessLevel:"internal",engagementMetrics:{}},auditorPortal:{dataVerification:{},evidenceRepository:{},auditTrails:{},complianceDocuments:{},accessLevel:"limited_time",verificationStatus:{}},accessManagement:{userManagement:{},roleBasedAccess:{},securityControls:{},auditLogs:[],accessAnalytics:{}},analytics:{usageStatistics:{},contentEngagement:{},userSatisfaction:0,performanceMetrics:{},improvementAreas:[]}}}}f.portalTypes=["investor","supplier","employee","auditor"];var S=i(4341),k=i(3414),b=i(1374);class R{static getModule(e){return this.modules[e]}static getAllModules(){return this.modules}static getModulesByCategory(e){return({environmental:["wasteManagement","airPollutionControl","biodiversityLandUse"],social:["humanRightsLabor","communityEngagement","workforceManagement","healthSafety"],governance:["ethicsAntiCorruption","dataPrivacyCybersecurity","boardLeadership"],advanced:["aiInsights","externalPortals"],reporting:["globalFrameworks","externalAuditorPortal"],analytics:["stakeholderSentimentAnalysis"]}[e]||[]).reduce((e,t)=>(e[t]=this.modules[t],e),{})}static runModuleAssessment(e,t){const i=this.getModule(e);if(!i)throw new Error(`Module ${e} not found`);const s={wasteManagement:"calculateWasteMetrics",airPollutionControl:"monitorAirQuality",biodiversityLandUse:"assessBiodiversity",humanRightsLabor:"assessHumanRights",communityEngagement:"manageCommunityEngagement",workforceManagement:"manageWorkforce",healthSafety:"manageHealthSafety",ethicsAntiCorruption:"manageEthicsCompliance",dataPrivacyCybersecurity:"assessDataPrivacyCybersecurity",boardLeadership:"assessBoardLeadership",aiInsights:"generateAIInsights",externalPortals:"manageExternalPortals",globalFrameworks:"generateFrameworkReports",externalAuditorPortal:"manageAuditorPortal",stakeholderSentimentAnalysis:"analyzeSentiment"}[e];if(s&&"function"===typeof i[s])return i[s](t);throw new Error(`Assessment method not found for module ${e}`)}static getModuleCapabilities(){return{environmental:{wasteManagement:{description:"Comprehensive waste tracking, recycling rates, and vendor compliance",capabilities:["hazardous_waste_tracking","recycling_analysis","vendor_compliance","disposal_methods"]},airPollutionControl:{description:"Air quality monitoring, emission tracking, and compliance management",capabilities:["emission_monitoring","aqi_calculation","equipment_tracking","compliance_alerts"]},biodiversityLandUse:{description:"Biodiversity impact assessment and land use management",capabilities:["habitat_assessment","species_tracking","conservation_monitoring","land_use_analysis"]}},social:{humanRightsLabor:{description:"Human rights risk assessment and labor practices monitoring",capabilities:["risk_assessment","supplier_due_diligence","grievance_analysis","audit_tracking"]},communityEngagement:{description:"CSR project management and community impact measurement",capabilities:["csr_tracking","stakeholder_engagement","impact_measurement","investment_analysis"]},workforceManagement:{description:"Comprehensive workforce diversity, retention, and performance management",capabilities:["diversity_analysis","retention_tracking","pay_equity","training_effectiveness"]},healthSafety:{description:"Health and safety incident management and compliance tracking",capabilities:["incident_analysis","safety_metrics","audit_management","emergency_preparedness"]}},governance:{ethicsAntiCorruption:{description:"Ethics compliance and anti-corruption program management",capabilities:["policy_compliance","training_tracking","incident_analysis","risk_assessment"]},dataPrivacyCybersecurity:{description:"Data privacy compliance and cybersecurity posture assessment",capabilities:["privacy_compliance","security_assessment","incident_management","risk_evaluation"]},boardLeadership:{description:"Board composition, diversity, and governance effectiveness assessment",capabilities:["composition_analysis","diversity_assessment","performance_evaluation","compensation_analysis"]}},advanced:{aiInsights:{description:"AI-powered ESG gap analysis, maturity scoring, and predictive insights",capabilities:["gap_analysis","maturity_scoring","predictive_alerts","automated_reporting"]},externalPortals:{description:"External stakeholder portal management for investors, suppliers, employees, and auditors",capabilities:["investor_portal","supplier_portal","employee_portal","auditor_portal"]}},reporting:{globalFrameworks:{description:"Global ESG reporting frameworks compliance (GRI, SASB, TCFD, BRSR, EU CSRD)",capabilities:["framework_mapping","compliance_assessment","gap_analysis","automated_reporting"]},externalAuditorPortal:{description:"External auditor access portal with verification and audit trail capabilities",capabilities:["auditor_access","data_verification","evidence_repository","audit_trails"]}},analytics:{stakeholderSentimentAnalysis:{description:"AI-powered stakeholder sentiment analysis with multi-source tracking and trend analysis",capabilities:["sentiment_classification","stakeholder_tracking","trend_analysis","social_media_monitoring","risk_identification"]}}}}}R.modules={wasteManagement:c,airPollutionControl:o,biodiversityLandUse:l,humanRightsLabor:u,communityEngagement:d,workforceManagement:m,healthSafety:h,ethicsAntiCorruption:p,dataPrivacyCybersecurity:g,boardLeadership:v,aiInsights:y,externalPortals:f,globalFrameworks:S.R,externalAuditorPortal:k.q,stakeholderSentimentAnalysis:b.o};var A=i(579);const M=()=>{const{isDark:e}=(0,a.D)(),t=(0,n.Y)(e),[i,c]=(0,s.useState)("wasteManagement"),[o,l]=(0,s.useState)({}),[u,d]=(0,s.useState)(!1),[m,h]=(0,s.useState)(null),p={environmental:{title:"Environmental (E)",modules:[{id:"wasteManagement",name:"Waste Management",icon:"\u267b\ufe0f"},{id:"airPollutionControl",name:"Air Quality Control",icon:"\ud83c\udf2c\ufe0f"},{id:"biodiversityLandUse",name:"Biodiversity & Land Use",icon:"\ud83c\udf3f"}]},social:{title:"Social (S)",modules:[{id:"humanRightsLabor",name:"Human Rights & Labor",icon:"\ud83d\udc65"},{id:"communityEngagement",name:"Community Engagement",icon:"\ud83e\udd1d"},{id:"workforceManagement",name:"Workforce Management",icon:"\ud83d\udc68\u200d\ud83d\udcbc"},{id:"healthSafety",name:"Health & Safety",icon:"\ud83d\udee1\ufe0f"}]},governance:{title:"Governance (G)",modules:[{id:"ethicsAntiCorruption",name:"Ethics & Anti-Corruption",icon:"\u2696\ufe0f"},{id:"dataPrivacyCybersecurity",name:"Data Privacy & Cybersecurity",icon:"\ud83d\udd12"},{id:"boardLeadership",name:"Board & Leadership",icon:"\ud83c\udfdb\ufe0f"}]},advanced:{title:"Advanced Features",modules:[{id:"aiInsights",name:"AI Insights",icon:"\ud83e\udd16"},{id:"externalPortals",name:"External Portals",icon:"\ud83c\udf10"}]}},g=async e=>{d(!0);try{const t=v(e),i=R.runModuleAssessment(e,t);l(t=>({...t,[e]:i})),y(`${e} assessment completed successfully`,"success")}catch(t){console.error(`${e} assessment failed:`,t),y(`${e} assessment failed: ${t.message}`,"error")}d(!1)},v=e=>({wasteManagement:{hazardous:1e3,nonHazardous:5e3,recycled:2e3,reused:500,revenue:1e7,production:5e4,vendors:[{id:1,certified:!0,auditPassed:!0},{id:2,certified:!1,auditPassed:!0}]},airPollutionControl:{"PM2.5":25,PM10:45,SO2:60,NOx:80,CO:8e3,VOCs:200},biodiversityLandUse:{owned:1e3,leased:500,managed:200,impacted:100,habitats:{forest:800,wetland:200,grassland:300},revenue:1e7,production:5e4},humanRightsLabor:{minorEmployees:0,safetyIncidents:2,overtimeHours:45,locations:[{country:"United States"},{country:"India"}],policies:["code_of_conduct","anti_bribery"],training:{coverage:85,effectivenessScore:78}},communityEngagement:{projects:[{type:"education",status:"completed",budget:1e5,effectivenessScore:85,directBeneficiaries:500},{type:"healthcare",status:"active",budget:15e4,directBeneficiaries:300}],investments:[{amount:25e4}],revenue:1e7},ethicsAntiCorruption:{policies:{policies:[{type:"code_of_conduct"},{type:"anti_bribery"}],totalEmployees:1e3},training:{programs:[{type:"code_of_conduct"}],completions:[{trainingType:"code_of_conduct"}],totalEmployees:1e3},incidents:{incidents:[{type:"policy_violation",date:new Date}]},audits:{audits:[],findings:[],correctiveActions:[]}},dataPrivacyCybersecurity:{dataInventory:[{type:"personal",source:"website"}],consent:{consents:[{status:"active",expiryDate:"2025-12-31"}]},rights:{requests:[{type:"access",status:"fulfilled"}]},breaches:{totalBreaches:0}},workforceManagement:{employees:[{gender:"female",age:30,role:"manager"}],turnover:[{reason:"career_growth",department:"IT"}],training:{totalHours:1e3,hoursPerEmployee:40,completionRate:85}},healthSafety:{incidents:[{type:"injury",severity:"minor",lostTime:0}],totalWorkHours:2e6,totalEmployees:1e3,audits:[{type:"safety",findings:2}]},boardLeadership:{members:[{independent:!0,gender:"female",tenure:3,skills:["finance","strategy"]}],meetings:{meetings:[{attendees:["member1","member2"],expectedAttendees:5}]},performance:{evaluations:[{score:85,area:"oversight"}]},compensation:{executive:{total:1e6},directors:{total:5e5}}},aiInsights:{environmental:{emissions:{trend:"stable"}},social:{diversity:{score:75}},governance:{policies:{count:10}}},externalPortals:{investor:{activeUsers:50},supplier:{activeUsers:200},employee:{activeUsers:1e3},auditor:{activeUsers:5}}}[e]||{}),y=function(e){h({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}),setTimeout(()=>h(null),3e3)},f=e=>{const i=o[e];return i?(0,A.jsxs)("div",{className:`mt-4 p-4 rounded-lg ${t.bg.subtle}`,children:[(0,A.jsx)("h4",{className:`font-semibold mb-2 ${t.text.primary}`,children:"Assessment Results:"}),(0,A.jsx)("div",{className:"space-y-2 text-sm",children:S(e,i)})]}):null},S=(e,t)=>{var i,s,a,n,r,c,o,l,u,d,m,h,p,g,v,y,f,S,k,b,R,M,C,x,E,I,P,_,T,w,j,D,z,O,L,F,B,q,G,U,H,N,$,V,W,Q,K,X,Y,J,Z,ee,te,ie;switch(e){case"wasteManagement":return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{children:["Total Waste: ",null===(i=t.totalWaste)||void 0===i||null===(s=i.total)||void 0===s?void 0:s.toFixed(2)," tons"]}),(0,A.jsxs)("div",{children:["Recycling Rate: ",null===(a=t.recyclingRate)||void 0===a?void 0:a.toFixed(1),"%"]}),(0,A.jsxs)("div",{children:["Vendor Compliance: ",null===(n=t.vendorCompliance)||void 0===n?void 0:n.toFixed(1),"%"]})]});case"airPollutionControl":return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{children:["Air Quality Index: ",null===(r=t.airQualityIndex)||void 0===r?void 0:r.value," (",null===(c=t.airQualityIndex)||void 0===c?void 0:c.category,")"]}),(0,A.jsxs)("div",{children:["Control Efficiency: ",null===(o=t.controlEfficiency)||void 0===o?void 0:o.toFixed(1),"%"]}),(0,A.jsxs)("div",{children:["Compliance Status: ",null!==(l=t.compliance)&&void 0!==l&&l.compliant?"Compliant":"Non-Compliant"]})]});case"biodiversityLandUse":return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{children:["Total Land Area: ",null===(u=t.landUse)||void 0===u?void 0:u.totalArea," hectares"]}),(0,A.jsxs)("div",{children:["Biodiversity Score: ",null===(d=t.biodiversityImpact)||void 0===d||null===(m=d.overallScore)||void 0===m?void 0:m.toFixed(1),"/100"]}),(0,A.jsxs)("div",{children:["Conservation Effectiveness: ",null===(h=t.conservation)||void 0===h||null===(p=h.effectiveness)||void 0===p?void 0:p.toFixed(1),"%"]})]});case"humanRightsLabor":return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{children:["Overall Risk Score: ",null===(g=t.riskAssessment)||void 0===g||null===(v=g.overallRiskScore)||void 0===v?void 0:v.toFixed(1)]}),(0,A.jsxs)("div",{children:["Compliance Score: ",null===(y=t.compliance)||void 0===y||null===(f=y.overallScore)||void 0===f?void 0:f.toFixed(1)]}),(0,A.jsxs)("div",{children:["High Risk Areas: ",(null===(S=t.riskAssessment)||void 0===S||null===(k=S.highRiskAreas)||void 0===k?void 0:k.length)||0]})]});case"communityEngagement":return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{children:["Total Projects: ",null===(b=t.csrAnalysis)||void 0===b?void 0:b.totalProjects]}),(0,A.jsxs)("div",{children:["Project Success Rate: ",null===(R=t.performanceMetrics)||void 0===R||null===(M=R.projectSuccessRate)||void 0===M?void 0:M.toFixed(1),"%"]}),(0,A.jsxs)("div",{children:["Total Investment: $",null===(C=t.investmentTracking)||void 0===C||null===(x=C.totalInvestment)||void 0===x?void 0:x.toLocaleString()]})]});case"ethicsAntiCorruption":return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{children:["Compliance Score: ",null===(E=t.complianceScore)||void 0===E?void 0:E.toFixed(1),"/100"]}),(0,A.jsxs)("div",{children:["Total Incidents: ",null===(I=t.incidentAnalysis)||void 0===I?void 0:I.totalIncidents]}),(0,A.jsxs)("div",{children:["Policy Completeness: ",null===(P=t.policyCompliance)||void 0===P||null===(_=P.policyFramework)||void 0===_||null===(T=_.completeness)||void 0===T?void 0:T.toFixed(1),"%"]})]});case"dataPrivacyCybersecurity":return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{children:["Maturity Score: ",null===(w=t.overallMaturityScore)||void 0===w?void 0:w.toFixed(1),"/100"]}),(0,A.jsxs)("div",{children:["Privacy Score: ",null===(j=t.privacyCompliance)||void 0===j||null===(D=j.privacyScore)||void 0===D?void 0:D.toFixed(1),"/100"]}),(0,A.jsxs)("div",{children:["Security Score: ",null===(z=t.securityPosture)||void 0===z||null===(O=z.securityScore)||void 0===O?void 0:O.toFixed(1),"/100"]})]});case"workforceManagement":return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{children:["Overall Score: ",null===(L=t.overallScore)||void 0===L?void 0:L.toFixed(1),"/100"]}),(0,A.jsxs)("div",{children:["Diversity Index: ",null===(F=t.diversityAnalysis)||void 0===F||null===(B=F.overallDiversityIndex)||void 0===B?void 0:B.toFixed(1)]}),(0,A.jsxs)("div",{children:["Retention Rate: ",null===(q=t.retentionAnalysis)||void 0===q||null===(G=q.overallRetentionRate)||void 0===G?void 0:G.toFixed(1),"%"]})]});case"healthSafety":return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{children:["Safety Score: ",null===(U=t.overallSafetyScore)||void 0===U?void 0:U.toFixed(1),"/100"]}),(0,A.jsxs)("div",{children:["LTIFR: ",null===(H=t.safetyMetrics)||void 0===H||null===(N=H.ltifr)||void 0===N?void 0:N.toFixed(2)]}),(0,A.jsxs)("div",{children:["Total Incidents: ",null===($=t.incidentAnalysis)||void 0===$?void 0:$.totalIncidents]})]});case"boardLeadership":return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{children:["Governance Score: ",null===(V=t.overallGovernanceScore)||void 0===V?void 0:V.toFixed(1),"/100"]}),(0,A.jsxs)("div",{children:["Independence Ratio: ",null===(W=t.compositionAnalysis)||void 0===W||null===(Q=W.independenceRatio)||void 0===Q?void 0:Q.toFixed(1),"%"]}),(0,A.jsxs)("div",{children:["Diversity Score: ",null===(K=t.diversityAssessment)||void 0===K||null===(X=K.overallDiversityScore)||void 0===X?void 0:X.toFixed(1)]})]});case"aiInsights":return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{children:["Maturity Level: ",null===(Y=t.maturityScoring)||void 0===Y?void 0:Y.maturityLevel]}),(0,A.jsxs)("div",{children:["Overall Completeness: ",null===(J=t.gapAnalysis)||void 0===J||null===(Z=J.overallCompleteness)||void 0===Z?void 0:Z.toFixed(1),"%"]}),(0,A.jsxs)("div",{children:["Risk Score: ",null===(ee=t.predictiveAlerts)||void 0===ee?void 0:ee.riskScore]})]});case"externalPortals":return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{children:"Active Portals: 4"}),(0,A.jsxs)("div",{children:["Total Users: ",(null===(te=t.analytics)||void 0===te||null===(ie=te.usageStatistics)||void 0===ie?void 0:ie.totalUsers)||0]}),(0,A.jsx)("div",{children:"Engagement: High"})]});default:return(0,A.jsx)("div",{children:"Results available"})}};return(0,A.jsx)("div",{className:`min-h-screen p-6 ${t.bg.gradient}`,children:(0,A.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,A.jsxs)("div",{className:"mb-8",children:[(0,A.jsx)("h1",{className:`text-3xl font-bold ${t.text.primary}`,children:"Comprehensive ESG Compliance Dashboard"}),(0,A.jsx)("p",{className:`text-lg ${t.text.secondary}`,children:"Complete Environmental, Social & Governance Assessment Platform"}),(0,A.jsx)("div",{className:`mt-4 p-4 rounded-lg ${t.bg.card}`,children:(0,A.jsxs)("div",{className:"flex items-center justify-between",children:[(0,A.jsxs)("div",{children:[(0,A.jsxs)("h3",{className:`text-xl font-semibold ${t.text.primary}`,children:["Overall ESG Score: ",(()=>{const e=Object.values(o);if(0===e.length)return 0;const t=e.map(e=>{var t,i;return e.complianceScore?e.complianceScore:e.overallMaturityScore?e.overallMaturityScore:null!==(t=e.biodiversityImpact)&&void 0!==t&&t.overallScore?e.biodiversityImpact.overallScore:e.overallScore?e.overallScore:e.overallSafetyScore?e.overallSafetyScore:e.overallGovernanceScore?e.overallGovernanceScore:null!==(i=e.maturityScoring)&&void 0!==i&&i.overallMaturity?e.maturityScoring.overallMaturity:70});return t.reduce((e,t)=>e+t,0)/t.length})().toFixed(1),"/100"]}),(0,A.jsxs)("p",{className:`text-sm ${t.text.secondary}`,children:["Based on ",Object.keys(o).length," completed assessments"]})]}),(0,A.jsx)(r.$n,{variant:"primary",onClick:async()=>{d(!0);const e=Object.values(p).flatMap(e=>e.modules);for(const i of e)try{await g(i.id)}catch(t){console.error(`Failed to run ${i.id}:`,t)}d(!1),y("All ESG assessments completed","success")},disabled:u,className:"ml-4",children:"Run All Assessments"})]})})]}),Object.entries(p).map(e=>{let[s,a]=e;return(0,A.jsxs)("div",{className:"mb-8",children:[(0,A.jsx)("h2",{className:`text-2xl font-bold mb-4 ${t.text.primary}`,children:a.title}),(0,A.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.modules.map(e=>(0,A.jsx)("div",{className:`p-6 rounded-xl shadow-lg cursor-pointer transition-all ${i===e.id?"ring-2 ring-blue-500 bg-blue-50":t.bg.card}`,onClick:()=>c(e.id),children:(0,A.jsxs)("div",{className:"text-center",children:[(0,A.jsx)("div",{className:"text-4xl mb-2",children:e.icon}),(0,A.jsx)("h3",{className:`font-bold ${t.text.primary}`,children:e.name}),(0,A.jsx)(r.$n,{variant:"primary",size:"sm",onClick:t=>{t.stopPropagation(),g(e.id)},disabled:u,className:"mt-3 w-full",children:"Run Assessment"}),f(e.id)]})},e.id))})]},s)}),(0,A.jsxs)("div",{className:`p-6 rounded-xl shadow-lg ${t.bg.card}`,children:[(0,A.jsx)("h2",{className:`text-2xl font-bold mb-4 ${t.text.primary}`,children:"Module Capabilities"}),(0,A.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(R.getModuleCapabilities()).map(e=>{let[i,s]=e;return(0,A.jsxs)("div",{children:[(0,A.jsx)("h3",{className:`font-semibold mb-3 ${t.text.primary} capitalize`,children:i}),Object.entries(s).map(e=>{let[i,s]=e;return(0,A.jsxs)("div",{className:"mb-4",children:[(0,A.jsx)("h4",{className:`font-medium ${t.text.secondary}`,children:s.description}),(0,A.jsx)("ul",{className:"text-sm text-gray-600 mt-1",children:s.capabilities.map((e,t)=>(0,A.jsxs)("li",{children:["\u2022 ",e.replace(/_/g," ")]},t))})]},i)})]},i)})})]}),m&&(0,A.jsx)(r.y8,{message:m.message,type:m.type,onClose:()=>h(null)})]})})}}}]);
//# sourceMappingURL=641.5643e2d0.chunk.js.map