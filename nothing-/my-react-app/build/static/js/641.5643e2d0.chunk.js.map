{"version":3,"file":"static/js/641.5643e2d0.chunk.js","mappings":"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","sources":["modules/analytics/StakeholderSentimentAnalysis.js","modules/environmental/WasteManagement.js","modules/environmental/AirPollutionControl.js","modules/environmental/BiodiversityLandUse.js","modules/social/HumanRightsLabor.js","modules/social/CommunityEngagement.js","modules/social/WorkforceManagement.js","modules/social/HealthSafety.js","modules/governance/EthicsAntiCorruption.js","modules/governance/DataPrivacyCybersecurity.js","modules/governance/BoardLeadership.js","modules/advanced/AIInsights.js","modules/advanced/ExternalPortals.js","modules/index.js","components/ComprehensiveESGDashboard.js"],"sourcesContent":["// Stakeholder Sentiment Analysis Module\nexport class StakeholderSentimentAnalysis {\n  static stakeholderTypes = ['investors', 'employees', 'customers', 'communities', 'regulators', 'suppliers'];\n  static sentimentSources = ['surveys', 'social_media', 'news', 'feedback'];\n\n  static analyzeSentiment(stakeholderData, feedbackData, socialMediaData) {\n    try {\n      const sentimentByStakeholder = this.analyzeSentimentByStakeholder(stakeholderData);\n      const sentimentTrends = this.analyzeSentimentTrends(feedbackData);\n      const socialMediaSentiment = this.analyzeSocialMediaSentiment(socialMediaData);\n      const overallSentiment = this.calculateOverallSentiment(sentimentByStakeholder);\n      const riskIndicators = this.identifyRiskIndicators(sentimentByStakeholder);\n      \n      return {\n        sentimentByStakeholder,\n        sentimentTrends,\n        socialMediaSentiment,\n        overallSentiment,\n        riskIndicators,\n        recommendations: this.generateRecommendations(sentimentByStakeholder, riskIndicators)\n      };\n    } catch (error) {\n      console.error('Sentiment analysis failed:', error);\n      return this.getDefaultSentimentAnalysis();\n    }\n  }\n\n  static analyzeSentimentByStakeholder(stakeholderData) {\n    const analysis = {};\n    \n    this.stakeholderTypes.forEach(type => {\n      const typeData = stakeholderData[type] || {};\n      analysis[type] = {\n        overallSentiment: this.calculateStakeholderSentiment(typeData),\n        sentimentDistribution: this.calculateSentimentDistribution(typeData),\n        engagementLevel: this.assessEngagementLevel(typeData),\n        satisfactionScore: this.calculateSatisfactionScore(typeData),\n        concerns: this.identifyStakeholderConcerns(typeData)\n      };\n    });\n    \n    return analysis;\n  }\n\n  static calculateStakeholderSentiment(typeData) {\n    const feedback = typeData.feedback || [];\n    if (feedback.length === 0) return 0;\n    \n    const sentimentSum = feedback.reduce((sum, item) => {\n      return sum + this.classifySentiment(item.text || item.comment || '');\n    }, 0);\n    \n    return sentimentSum / feedback.length;\n  }\n\n  static classifySentiment(text) {\n    const positiveWords = ['good', 'great', 'excellent', 'satisfied', 'happy', 'positive'];\n    const negativeWords = ['bad', 'poor', 'terrible', 'disappointed', 'unhappy', 'negative'];\n    \n    const words = text.toLowerCase().split(/\\s+/);\n    let score = 0;\n    \n    words.forEach(word => {\n      if (positiveWords.includes(word)) score += 1;\n      if (negativeWords.includes(word)) score -= 1;\n    });\n    \n    return Math.max(-1, Math.min(1, score / Math.max(words.length, 1)));\n  }\n\n  static calculateSentimentDistribution(typeData) {\n    const feedback = typeData.feedback || [];\n    const distribution = { positive: 0, neutral: 0, negative: 0 };\n    \n    feedback.forEach(item => {\n      const sentiment = this.classifySentiment(item.text || item.comment || '');\n      if (sentiment > 0.1) distribution.positive++;\n      else if (sentiment < -0.1) distribution.negative++;\n      else distribution.neutral++;\n    });\n    \n    const total = feedback.length || 1;\n    return {\n      positive: (distribution.positive / total) * 100,\n      neutral: (distribution.neutral / total) * 100,\n      negative: (distribution.negative / total) * 100\n    };\n  }\n\n  static assessEngagementLevel(typeData) {\n    const responseRate = typeData.responseRate || 0;\n    const participationRate = typeData.participationRate || 0;\n    const feedbackVolume = (typeData.feedback || []).length;\n    \n    const engagementScore = (responseRate * 0.4 + participationRate * 0.4 + Math.min(feedbackVolume / 50, 1) * 100 * 0.2);\n    \n    return {\n      score: Math.min(100, engagementScore),\n      level: engagementScore > 70 ? 'high' : engagementScore > 40 ? 'medium' : 'low'\n    };\n  }\n\n  static calculateSatisfactionScore(typeData) {\n    const surveys = typeData.surveys || [];\n    if (surveys.length === 0) return 0;\n    \n    const totalScore = surveys.reduce((sum, survey) => sum + (survey.satisfactionScore || 0), 0);\n    return totalScore / surveys.length;\n  }\n\n  static identifyStakeholderConcerns(typeData) {\n    const feedback = typeData.feedback || [];\n    const concerns = [];\n    \n    const negativeFeedback = feedback.filter(item => \n      this.classifySentiment(item.text || item.comment || '') < -0.3\n    );\n    \n    if (negativeFeedback.length > feedback.length * 0.2) {\n      concerns.push({\n        type: 'high_negative_sentiment',\n        severity: 'high',\n        description: `${((negativeFeedback.length / feedback.length) * 100).toFixed(1)}% negative feedback`\n      });\n    }\n    \n    return concerns;\n  }\n\n  static analyzeSentimentTrends(feedbackData) {\n    const feedback = feedbackData || [];\n    const timeSeriesData = this.groupFeedbackByTime(feedback);\n    \n    return {\n      monthlyTrends: this.calculateMonthlyTrends(timeSeriesData),\n      trendDirection: this.determineTrendDirection(timeSeriesData),\n      volatility: this.calculateSentimentVolatility(timeSeriesData)\n    };\n  }\n\n  static analyzeSocialMediaSentiment(socialMediaData) {\n    const data = socialMediaData || {};\n    \n    return {\n      platforms: this.analyzePlatformSentiment(data),\n      mentions: data.mentions || 0,\n      reputationScore: this.calculateReputationScore(data),\n      trending: data.trending || []\n    };\n  }\n\n  static calculateOverallSentiment(sentimentByStakeholder) {\n    const stakeholderScores = Object.values(sentimentByStakeholder).map(s => s.overallSentiment);\n    const averageSentiment = stakeholderScores.reduce((sum, score) => sum + score, 0) / (stakeholderScores.length || 1);\n    \n    return {\n      score: averageSentiment,\n      category: this.categorizeSentiment(averageSentiment),\n      riskLevel: this.assessSentimentRisk(averageSentiment)\n    };\n  }\n\n  static identifyRiskIndicators(sentimentByStakeholder) {\n    const risks = [];\n    \n    Object.entries(sentimentByStakeholder).forEach(([stakeholder, data]) => {\n      if (data.overallSentiment < -0.3) {\n        risks.push({\n          type: 'negative_stakeholder_sentiment',\n          severity: 'high',\n          description: `High negative sentiment from ${stakeholder}`,\n          stakeholder\n        });\n      }\n    });\n    \n    return risks;\n  }\n\n  static generateRecommendations(sentimentByStakeholder, riskIndicators) {\n    const recommendations = [];\n    \n    Object.entries(sentimentByStakeholder).forEach(([stakeholder, data]) => {\n      if (data.overallSentiment < 0) {\n        recommendations.push({\n          stakeholder,\n          priority: data.overallSentiment < -0.5 ? 'high' : 'medium',\n          action: `Improve engagement with ${stakeholder} to address negative sentiment`,\n          timeline: '3 months'\n        });\n      }\n    });\n    \n    return recommendations;\n  }\n\n  // Helper methods\n  static categorizeSentiment(score) {\n    if (score > 0.3) return 'positive';\n    if (score < -0.3) return 'negative';\n    return 'neutral';\n  }\n\n  static assessSentimentRisk(score) {\n    if (score < -0.5) return 'high';\n    if (score < -0.2) return 'medium';\n    return 'low';\n  }\n\n  static groupFeedbackByTime(feedback) {\n    const grouped = {};\n    feedback.forEach(item => {\n      const month = new Date(item.date || Date.now()).toISOString().slice(0, 7);\n      if (!grouped[month]) grouped[month] = [];\n      grouped[month].push(item);\n    });\n    return grouped;\n  }\n\n  static calculateMonthlyTrends(timeSeriesData) {\n    const trends = {};\n    Object.entries(timeSeriesData).forEach(([month, feedback]) => {\n      const avgSentiment = feedback.reduce((sum, item) => \n        sum + this.classifySentiment(item.text || item.comment || ''), 0\n      ) / (feedback.length || 1);\n      trends[month] = avgSentiment;\n    });\n    return trends;\n  }\n\n  static determineTrendDirection(timeSeriesData) {\n    const months = Object.keys(timeSeriesData).sort();\n    if (months.length < 2) return 'stable';\n    \n    const recent = months.slice(-2);\n    const earlier = months.slice(0, -2);\n    \n    if (recent.length === 0 || earlier.length === 0) return 'stable';\n    \n    const recentAvg = recent.reduce((sum, month) => {\n      const feedback = timeSeriesData[month];\n      const sentiment = feedback.reduce((s, item) => \n        s + this.classifySentiment(item.text || item.comment || ''), 0\n      ) / (feedback.length || 1);\n      return sum + sentiment;\n    }, 0) / recent.length;\n    \n    const earlierAvg = earlier.reduce((sum, month) => {\n      const feedback = timeSeriesData[month];\n      const sentiment = feedback.reduce((s, item) => \n        s + this.classifySentiment(item.text || item.comment || ''), 0\n      ) / (feedback.length || 1);\n      return sum + sentiment;\n    }, 0) / (earlier.length || 1);\n    \n    if (recentAvg > earlierAvg + 0.1) return 'improving';\n    if (recentAvg < earlierAvg - 0.1) return 'declining';\n    return 'stable';\n  }\n\n  static calculateSentimentVolatility(timeSeriesData) {\n    const values = Object.values(timeSeriesData).map(feedback => {\n      return feedback.reduce((sum, item) => \n        sum + this.classifySentiment(item.text || item.comment || ''), 0\n      ) / (feedback.length || 1);\n    });\n    \n    if (values.length < 2) return 0;\n    \n    const mean = values.reduce((sum, val) => sum + val, 0) / values.length;\n    const variance = values.reduce((sum, val) => sum + Math.pow(val - mean, 2), 0) / values.length;\n    return Math.sqrt(variance);\n  }\n\n  static analyzePlatformSentiment(data) {\n    const platforms = ['twitter', 'linkedin', 'facebook', 'instagram'];\n    const analysis = {};\n    \n    platforms.forEach(platform => {\n      const platformData = data[platform] || {};\n      analysis[platform] = {\n        sentiment: platformData.sentiment || 0,\n        mentions: platformData.mentions || 0,\n        engagement: platformData.engagement || 0\n      };\n    });\n    \n    return analysis;\n  }\n\n  static calculateReputationScore(data) {\n    const sentiment = data.overallSentiment || 0;\n    const mentions = Math.min((data.mentions || 0) / 1000, 1);\n    const engagement = (data.engagement || 0) / 100;\n    \n    return Math.max(0, Math.min(100, (sentiment + 1) * 50 + mentions * 25 + engagement * 25));\n  }\n\n  static getDefaultSentimentAnalysis() {\n    return {\n      sentimentByStakeholder: {},\n      sentimentTrends: { monthlyTrends: {}, trendDirection: 'stable', volatility: 0 },\n      socialMediaSentiment: { platforms: {}, mentions: 0, reputationScore: 0, trending: [] },\n      overallSentiment: { score: 0, category: 'neutral', riskLevel: 'low' },\n      riskIndicators: [],\n      recommendations: []\n    };\n  }\n}\n\nexport default StakeholderSentimentAnalysis;","// Advanced Waste Management Module\nexport class WasteManagement {\n  static wasteTypes = {\n    hazardous: ['chemical', 'medical', 'electronic', 'radioactive'],\n    nonHazardous: ['organic', 'plastic', 'paper', 'metal', 'glass']\n  };\n\n  static disposalMethods = ['landfill', 'incineration', 'recycling', 'composting', 'reuse'];\n\n  static calculateWasteMetrics(wasteData) {\n    try {\n      const totalWaste = this.calculateTotalWaste(wasteData);\n      const recyclingRate = this.calculateRecyclingRate(wasteData);\n      const wasteIntensity = this.calculateWasteIntensity(wasteData);\n      const vendorCompliance = this.assessVendorCompliance(wasteData);\n\n      return {\n        totalWaste,\n        recyclingRate,\n        wasteIntensity,\n        vendorCompliance,\n        wasteByType: this.categorizeWaste(wasteData),\n        disposalBreakdown: this.analyzeDisposalMethods(wasteData),\n        complianceStatus: this.checkCompliance(wasteData)\n      };\n    } catch (error) {\n      console.error('Waste calculation failed:', error);\n      return this.getDefaultWasteMetrics();\n    }\n  }\n\n  static calculateTotalWaste(data) {\n    const hazardous = this.sumWasteByCategory(data, 'hazardous');\n    const nonHazardous = this.sumWasteByCategory(data, 'nonHazardous');\n    return { hazardous, nonHazardous, total: hazardous + nonHazardous };\n  }\n\n  static sumWasteByCategory(data, category) {\n    return this.wasteTypes[category].reduce((sum, type) => {\n      return sum + (data[type] || 0);\n    }, 0);\n  }\n\n  static calculateRecyclingRate(data) {\n    const totalWaste = this.calculateTotalWaste(data).total;\n    const recycled = data.recycled || 0;\n    const reused = data.reused || 0;\n    return totalWaste > 0 ? ((recycled + reused) / totalWaste) * 100 : 0;\n  }\n\n  static calculateWasteIntensity(data) {\n    const totalWaste = this.calculateTotalWaste(data).total;\n    const revenue = data.revenue || 1;\n    const production = data.production || 1;\n    return {\n      perRevenue: totalWaste / revenue,\n      perProduction: totalWaste / production\n    };\n  }\n\n  static assessVendorCompliance(data) {\n    const vendors = data.vendors || [];\n    const compliant = vendors.filter(v => v.certified && v.auditPassed).length;\n    return vendors.length > 0 ? (compliant / vendors.length) * 100 : 0;\n  }\n\n  static categorizeWaste(data) {\n    const result = {};\n    Object.entries(this.wasteTypes).forEach(([category, types]) => {\n      result[category] = {};\n      types.forEach(type => {\n        result[category][type] = data[type] || 0;\n      });\n    });\n    return result;\n  }\n\n  static analyzeDisposalMethods(data) {\n    const breakdown = {};\n    this.disposalMethods.forEach(method => {\n      breakdown[method] = data[method] || 0;\n    });\n    return breakdown;\n  }\n\n  static checkCompliance(data) {\n    const issues = [];\n    if (data.hazardousWaste > 0 && !data.hazardousLicense) {\n      issues.push('Missing hazardous waste license');\n    }\n    if (this.calculateRecyclingRate(data) < 30) {\n      issues.push('Recycling rate below 30% threshold');\n    }\n    return { compliant: issues.length === 0, issues };\n  }\n\n  static getDefaultWasteMetrics() {\n    return {\n      totalWaste: { hazardous: 0, nonHazardous: 0, total: 0 },\n      recyclingRate: 0,\n      wasteIntensity: { perRevenue: 0, perProduction: 0 },\n      vendorCompliance: 0,\n      wasteByType: {},\n      disposalBreakdown: {},\n      complianceStatus: { compliant: false, issues: ['No data available'] }\n    };\n  }\n}\n\nexport default WasteManagement;","// Air Quality & Pollution Control Module\nexport class AirPollutionControl {\n  static pollutants = {\n    criteria: ['PM2.5', 'PM10', 'SO2', 'NOx', 'CO', 'O3'],\n    hazardous: ['VOCs', 'HAPs', 'Mercury', 'Lead'],\n    greenhouse: ['CO2', 'CH4', 'N2O', 'HFCs']\n  };\n\n  static monitorAirQuality(emissionData, equipmentData) {\n    try {\n      const emissions = this.calculateEmissions(emissionData);\n      const compliance = this.checkCompliance(emissionData);\n      const equipment = this.assessEquipment(equipmentData);\n      \n      return {\n        emissions,\n        compliance,\n        equipment,\n        airQualityIndex: this.calculateAQI(emissionData),\n        controlEfficiency: this.calculateControlEfficiency(emissionData, equipmentData),\n        alerts: this.generateAlerts(emissionData, compliance)\n      };\n    } catch (error) {\n      console.error('Air quality monitoring failed:', error);\n      return this.getDefaultAirQuality();\n    }\n  }\n\n  static calculateEmissions(data) {\n    const result = {};\n    Object.entries(this.pollutants).forEach(([category, pollutants]) => {\n      result[category] = {};\n      pollutants.forEach(pollutant => {\n        result[category][pollutant] = {\n          measured: data[pollutant] || 0,\n          limit: this.getEmissionLimit(pollutant),\n          unit: this.getUnit(pollutant)\n        };\n      });\n    });\n    return result;\n  }\n\n  static checkCompliance(data) {\n    const violations = [];\n    Object.values(this.pollutants).flat().forEach(pollutant => {\n      const measured = data[pollutant] || 0;\n      const limit = this.getEmissionLimit(pollutant);\n      if (measured > limit) {\n        violations.push({\n          pollutant,\n          measured,\n          limit,\n          exceedance: ((measured - limit) / limit * 100).toFixed(1)\n        });\n      }\n    });\n    return { compliant: violations.length === 0, violations };\n  }\n\n  static assessEquipment(equipmentData) {\n    const equipment = equipmentData || [];\n    return equipment.map(item => ({\n      id: item.id,\n      type: item.type,\n      efficiency: item.efficiency || 0,\n      lastMaintenance: item.lastMaintenance,\n      nextMaintenance: item.nextMaintenance,\n      status: this.getEquipmentStatus(item)\n    }));\n  }\n\n  static calculateAQI(data) {\n    const pm25 = data['PM2.5'] || 0;\n    const pm10 = data['PM10'] || 0;\n    const so2 = data['SO2'] || 0;\n    const nox = data['NOx'] || 0;\n    \n    // Simplified AQI calculation\n    const aqi = Math.max(\n      this.pollutantToAQI(pm25, 'PM2.5'),\n      this.pollutantToAQI(pm10, 'PM10'),\n      this.pollutantToAQI(so2, 'SO2'),\n      this.pollutantToAQI(nox, 'NOx')\n    );\n    \n    return {\n      value: Math.round(aqi),\n      category: this.getAQICategory(aqi),\n      primaryPollutant: this.getPrimaryPollutant(data)\n    };\n  }\n\n  static calculateControlEfficiency(emissionData, equipmentData) {\n    const equipment = equipmentData || [];\n    const totalEfficiency = equipment.reduce((sum, item) => sum + (item.efficiency || 0), 0);\n    return equipment.length > 0 ? totalEfficiency / equipment.length : 0;\n  }\n\n  static generateAlerts(emissionData, compliance) {\n    const alerts = [];\n    \n    if (!compliance.compliant) {\n      alerts.push({\n        type: 'violation',\n        severity: 'high',\n        message: `${compliance.violations.length} emission limit violations detected`\n      });\n    }\n    \n    // Check for trending issues\n    Object.values(this.pollutants).flat().forEach(pollutant => {\n      const level = emissionData[pollutant] || 0;\n      const limit = this.getEmissionLimit(pollutant);\n      if (level > limit * 0.8) {\n        alerts.push({\n          type: 'warning',\n          severity: 'medium',\n          message: `${pollutant} approaching emission limit (${(level/limit*100).toFixed(1)}%)`\n        });\n      }\n    });\n    \n    return alerts;\n  }\n\n  static getEmissionLimit(pollutant) {\n    const limits = {\n      'PM2.5': 15, 'PM10': 50, 'SO2': 75, 'NOx': 100,\n      'CO': 10000, 'O3': 120, 'VOCs': 250, 'HAPs': 10\n    };\n    return limits[pollutant] || 100;\n  }\n\n  static getUnit(pollutant) {\n    const units = {\n      'PM2.5': 'g/m', 'PM10': 'g/m', 'SO2': 'g/m', 'NOx': 'g/m',\n      'CO': 'mg/m', 'O3': 'g/m', 'VOCs': 'g/m', 'HAPs': 'g/m'\n    };\n    return units[pollutant] || 'g/m';\n  }\n\n  static pollutantToAQI(concentration, pollutant) {\n    // Simplified AQI conversion\n    const breakpoints = {\n      'PM2.5': [[0,12,0,50], [12.1,35.4,51,100], [35.5,55.4,101,150]],\n      'PM10': [[0,54,0,50], [55,154,51,100], [155,254,101,150]],\n      'SO2': [[0,35,0,50], [36,75,51,100], [76,185,101,150]],\n      'NOx': [[0,53,0,50], [54,100,51,100], [101,360,101,150]]\n    };\n    \n    const bp = breakpoints[pollutant] || [[0,100,0,100]];\n    for (let i = 0; i < bp.length; i++) {\n      if (concentration <= bp[i][1]) {\n        return ((bp[i][3] - bp[i][2]) / (bp[i][1] - bp[i][0])) * (concentration - bp[i][0]) + bp[i][2];\n      }\n    }\n    return 150;\n  }\n\n  static getAQICategory(aqi) {\n    if (aqi <= 50) return 'Good';\n    if (aqi <= 100) return 'Moderate';\n    if (aqi <= 150) return 'Unhealthy for Sensitive Groups';\n    return 'Unhealthy';\n  }\n\n  static getPrimaryPollutant(data) {\n    let maxAQI = 0;\n    let primary = 'PM2.5';\n    \n    ['PM2.5', 'PM10', 'SO2', 'NOx'].forEach(pollutant => {\n      const aqi = this.pollutantToAQI(data[pollutant] || 0, pollutant);\n      if (aqi > maxAQI) {\n        maxAQI = aqi;\n        primary = pollutant;\n      }\n    });\n    \n    return primary;\n  }\n\n  static getEquipmentStatus(equipment) {\n    const now = new Date();\n    const nextMaintenance = new Date(equipment.nextMaintenance);\n    const daysDiff = (nextMaintenance - now) / (1000 * 60 * 60 * 24);\n    \n    if (daysDiff < 0) return 'overdue';\n    if (daysDiff < 7) return 'due_soon';\n    if (equipment.efficiency < 80) return 'low_efficiency';\n    return 'operational';\n  }\n\n  static getDefaultAirQuality() {\n    return {\n      emissions: {},\n      compliance: { compliant: false, violations: [] },\n      equipment: [],\n      airQualityIndex: { value: 0, category: 'Unknown', primaryPollutant: 'N/A' },\n      controlEfficiency: 0,\n      alerts: [{ type: 'info', severity: 'low', message: 'No air quality data available' }]\n    };\n  }\n}\n\nexport default AirPollutionControl;","// Biodiversity & Land Use Management Module\nexport class BiodiversityLandUse {\n  static landUseTypes = ['owned', 'leased', 'managed', 'impacted'];\n  static habitatTypes = ['forest', 'wetland', 'grassland', 'marine', 'urban'];\n  static threatLevels = ['low', 'medium', 'high', 'critical'];\n\n  static assessBiodiversity(landData, conservationData) {\n    try {\n      const landUse = this.analyzeLandUse(landData);\n      const biodiversityImpact = this.calculateBiodiversityImpact(landData, conservationData);\n      const conservation = this.assessConservationEfforts(conservationData);\n      \n      return {\n        landUse,\n        biodiversityImpact,\n        conservation,\n        riskAssessment: this.assessBiodiversityRisk(landData),\n        initiatives: this.trackConservationInitiatives(conservationData),\n        compliance: this.checkEnvironmentalCompliance(landData, conservationData)\n      };\n    } catch (error) {\n      console.error('Biodiversity assessment failed:', error);\n      return this.getDefaultBiodiversityAssessment();\n    }\n  }\n\n  static analyzeLandUse(landData) {\n    const totalArea = this.calculateTotalArea(landData);\n    const breakdown = this.categorizeLandUse(landData);\n    const intensity = this.calculateLandUseIntensity(landData);\n    \n    return {\n      totalArea,\n      breakdown,\n      intensity,\n      changeOverTime: this.analyzeLandUseChange(landData)\n    };\n  }\n\n  static calculateTotalArea(data) {\n    return this.landUseTypes.reduce((total, type) => {\n      return total + (data[type] || 0);\n    }, 0);\n  }\n\n  static categorizeLandUse(data) {\n    const result = {};\n    this.landUseTypes.forEach(type => {\n      result[type] = {\n        area: data[type] || 0,\n        percentage: this.calculatePercentage(data[type] || 0, this.calculateTotalArea(data))\n      };\n    });\n    return result;\n  }\n\n  static calculateLandUseIntensity(data) {\n    const totalArea = this.calculateTotalArea(data);\n    const revenue = data.revenue || 1;\n    const production = data.production || 1;\n    \n    return {\n      areaPerRevenue: totalArea / revenue,\n      areaPerProduction: totalArea / production\n    };\n  }\n\n  static analyzeLandUseChange(data) {\n    const historical = data.historical || [];\n    if (historical.length < 2) return { trend: 'insufficient_data', change: 0 };\n    \n    const recent = historical[historical.length - 1];\n    const previous = historical[historical.length - 2];\n    const change = ((recent.totalArea - previous.totalArea) / previous.totalArea) * 100;\n    \n    return {\n      trend: change > 0 ? 'increasing' : change < 0 ? 'decreasing' : 'stable',\n      change: Math.abs(change),\n      period: `${previous.year}-${recent.year}`\n    };\n  }\n\n  static calculateBiodiversityImpact(landData, conservationData) {\n    const habitatImpact = this.assessHabitatImpact(landData);\n    const speciesImpact = this.assessSpeciesImpact(conservationData);\n    const ecosystemServices = this.evaluateEcosystemServices(landData, conservationData);\n    \n    return {\n      habitatImpact,\n      speciesImpact,\n      ecosystemServices,\n      overallScore: this.calculateBiodiversityScore(habitatImpact, speciesImpact, ecosystemServices)\n    };\n  }\n\n  static assessHabitatImpact(data) {\n    const habitats = data.habitats || {};\n    const impact = {};\n    \n    this.habitatTypes.forEach(type => {\n      const area = habitats[type] || 0;\n      const quality = habitats[`${type}_quality`] || 50;\n      impact[type] = {\n        area,\n        quality,\n        impactScore: this.calculateHabitatImpactScore(area, quality)\n      };\n    });\n    \n    return impact;\n  }\n\n  static assessSpeciesImpact(data) {\n    const species = data.species || {};\n    return {\n      endangered: species.endangered || 0,\n      threatened: species.threatened || 0,\n      endemic: species.endemic || 0,\n      invasive: species.invasive || 0,\n      riskLevel: this.calculateSpeciesRiskLevel(species)\n    };\n  }\n\n  static evaluateEcosystemServices(landData, conservationData) {\n    const services = conservationData.ecosystemServices || {};\n    return {\n      carbonSequestration: services.carbonSequestration || 0,\n      waterRegulation: services.waterRegulation || 0,\n      pollination: services.pollination || 0,\n      soilFormation: services.soilFormation || 0,\n      totalValue: this.calculateEcosystemValue(services)\n    };\n  }\n\n  static assessConservationEfforts(data) {\n    const efforts = data.conservationEfforts || {};\n    return {\n      protectedAreas: efforts.protectedAreas || 0,\n      restorationProjects: efforts.restorationProjects || 0,\n      partnerships: efforts.partnerships || 0,\n      funding: efforts.funding || 0,\n      effectiveness: this.calculateConservationEffectiveness(efforts)\n    };\n  }\n\n  static assessBiodiversityRisk(data) {\n    const risks = [];\n    \n    // Habitat fragmentation risk\n    if (data.fragmentationIndex > 0.7) {\n      risks.push({ type: 'fragmentation', level: 'high', impact: 'habitat_loss' });\n    }\n    \n    // Species extinction risk\n    const endangeredRatio = (data.endangered || 0) / (data.totalSpecies || 1);\n    if (endangeredRatio > 0.1) {\n      risks.push({ type: 'species_loss', level: 'critical', impact: 'biodiversity_decline' });\n    }\n    \n    // Climate change risk\n    if (data.climateVulnerability > 0.6) {\n      risks.push({ type: 'climate_change', level: 'medium', impact: 'ecosystem_shift' });\n    }\n    \n    return {\n      risks,\n      overallRiskLevel: this.calculateOverallRiskLevel(risks),\n      mitigationPriority: this.prioritizeRisks(risks)\n    };\n  }\n\n  static trackConservationInitiatives(data) {\n    const initiatives = data.initiatives || [];\n    return initiatives.map(initiative => ({\n      id: initiative.id,\n      name: initiative.name,\n      type: initiative.type,\n      area: initiative.area,\n      budget: initiative.budget,\n      status: initiative.status,\n      impact: this.assessInitiativeImpact(initiative)\n    }));\n  }\n\n  static checkEnvironmentalCompliance(landData, conservationData) {\n    const issues = [];\n    \n    // Protected area compliance\n    if (landData.protectedAreaImpact > 0 && !conservationData.permits) {\n      issues.push('Missing permits for protected area impact');\n    }\n    \n    // Biodiversity offset requirements\n    if (landData.biodiversityLoss > 0 && !conservationData.offsetProgram) {\n      issues.push('Biodiversity offset program required');\n    }\n    \n    // Environmental impact assessment\n    if (landData.newDevelopment && !conservationData.environmentalImpactAssessment) {\n      issues.push('Environmental impact assessment required');\n    }\n    \n    return {\n      compliant: issues.length === 0,\n      issues,\n      recommendations: this.generateComplianceRecommendations(issues)\n    };\n  }\n\n  // Helper methods\n  static calculatePercentage(value, total) {\n    return total > 0 ? (value / total) * 100 : 0;\n  }\n\n  static calculateHabitatImpactScore(area, quality) {\n    return (area * quality) / 100;\n  }\n\n  static calculateSpeciesRiskLevel(species) {\n    const total = (species.endangered || 0) + (species.threatened || 0);\n    if (total > 10) return 'critical';\n    if (total > 5) return 'high';\n    if (total > 0) return 'medium';\n    return 'low';\n  }\n\n  static calculateEcosystemValue(services) {\n    return Object.values(services).reduce((sum, value) => sum + (value || 0), 0);\n  }\n\n  static calculateConservationEffectiveness(efforts) {\n    const score = (efforts.protectedAreas || 0) * 0.3 + \n                  (efforts.restorationProjects || 0) * 0.3 + \n                  (efforts.partnerships || 0) * 0.2 + \n                  (efforts.funding || 0) * 0.2;\n    return Math.min(100, score);\n  }\n\n  static calculateBiodiversityScore(habitatImpact, speciesImpact, ecosystemServices) {\n    const habitatScore = Object.values(habitatImpact).reduce((sum, h) => sum + h.impactScore, 0);\n    const speciesScore = 100 - (speciesImpact.endangered * 5 + speciesImpact.threatened * 3);\n    const servicesScore = ecosystemServices.totalValue / 1000;\n    \n    return Math.max(0, Math.min(100, (habitatScore + speciesScore + servicesScore) / 3));\n  }\n\n  static calculateOverallRiskLevel(risks) {\n    if (risks.some(r => r.level === 'critical')) return 'critical';\n    if (risks.some(r => r.level === 'high')) return 'high';\n    if (risks.some(r => r.level === 'medium')) return 'medium';\n    return 'low';\n  }\n\n  static prioritizeRisks(risks) {\n    return risks.sort((a, b) => {\n      const levels = { critical: 4, high: 3, medium: 2, low: 1 };\n      return levels[b.level] - levels[a.level];\n    });\n  }\n\n  static assessInitiativeImpact(initiative) {\n    const areaImpact = (initiative.area || 0) / 100;\n    const budgetImpact = (initiative.budget || 0) / 10000;\n    return Math.min(100, (areaImpact + budgetImpact) * 10);\n  }\n\n  static generateComplianceRecommendations(issues) {\n    return issues.map(issue => {\n      if (issue.includes('permits')) return 'Obtain necessary environmental permits';\n      if (issue.includes('offset')) return 'Develop biodiversity offset program';\n      if (issue.includes('assessment')) return 'Conduct environmental impact assessment';\n      return 'Consult environmental compliance specialist';\n    });\n  }\n\n  static getDefaultBiodiversityAssessment() {\n    return {\n      landUse: { totalArea: 0, breakdown: {}, intensity: {}, changeOverTime: {} },\n      biodiversityImpact: { habitatImpact: {}, speciesImpact: {}, ecosystemServices: {}, overallScore: 0 },\n      conservation: { protectedAreas: 0, restorationProjects: 0, partnerships: 0, funding: 0, effectiveness: 0 },\n      riskAssessment: { risks: [], overallRiskLevel: 'unknown', mitigationPriority: [] },\n      initiatives: [],\n      compliance: { compliant: false, issues: ['No data available'], recommendations: [] }\n    };\n  }\n}\n\nexport default BiodiversityLandUse;","// Human Rights & Labor Practices Module\nexport class HumanRightsLabor {\n  static riskCategories = ['child_labor', 'forced_labor', 'discrimination', 'freedom_association', 'working_conditions'];\n  static auditTypes = ['internal', 'external', 'supplier', 'third_party'];\n\n  static assessHumanRights(laborData, supplierData, grievanceData) {\n    try {\n      const riskAssessment = this.conductRiskAssessment(laborData, supplierData);\n      const compliance = this.evaluateCompliance(laborData);\n      const grievanceAnalysis = this.analyzeGrievances(grievanceData);\n      const supplierDueDiligence = this.assessSupplierCompliance(supplierData);\n      \n      return {\n        riskAssessment,\n        compliance,\n        grievanceAnalysis,\n        supplierDueDiligence,\n        auditResults: this.processAuditResults(laborData.audits),\n        trainingMetrics: this.calculateTrainingMetrics(laborData.training),\n        recommendations: this.generateRecommendations(riskAssessment, compliance)\n      };\n    } catch (error) {\n      console.error('Human rights assessment failed:', error);\n      return this.getDefaultHumanRightsAssessment();\n    }\n  }\n\n  static conductRiskAssessment(laborData, supplierData) {\n    const risks = {};\n    \n    this.riskCategories.forEach(category => {\n      risks[category] = {\n        internalRisk: this.assessInternalRisk(laborData, category),\n        supplierRisk: this.assessSupplierRisk(supplierData, category),\n        geographicRisk: this.assessGeographicRisk(laborData.locations, category),\n        overallRisk: 0\n      };\n      \n      risks[category].overallRisk = this.calculateOverallRisk(risks[category]);\n    });\n    \n    return {\n      categoryRisks: risks,\n      overallRiskScore: this.calculateTotalRiskScore(risks),\n      highRiskAreas: this.identifyHighRiskAreas(risks),\n      mitigationPriority: this.prioritizeRisks(risks)\n    };\n  }\n\n  static assessInternalRisk(data, category) {\n    const indicators = this.getRiskIndicators(category);\n    let riskScore = 0;\n    \n    indicators.forEach(indicator => {\n      const value = data[indicator] || 0;\n      riskScore += this.calculateIndicatorRisk(indicator, value);\n    });\n    \n    return Math.min(100, riskScore / indicators.length);\n  }\n\n  static assessSupplierRisk(supplierData, category) {\n    const suppliers = supplierData || [];\n    if (suppliers.length === 0) return 50; // Default medium risk\n    \n    const riskScores = suppliers.map(supplier => {\n      return this.assessSupplierCategoryRisk(supplier, category);\n    });\n    \n    return riskScores.reduce((sum, score) => sum + score, 0) / riskScores.length;\n  }\n\n  static assessGeographicRisk(locations, category) {\n    const locationRisks = {\n      child_labor: { high: ['Bangladesh', 'Myanmar', 'Pakistan'], medium: ['India', 'Vietnam'] },\n      forced_labor: { high: ['North Korea', 'Eritrea', 'Mauritania'], medium: ['China', 'Iran'] },\n      discrimination: { high: ['Saudi Arabia', 'Qatar'], medium: ['UAE', 'Kuwait'] }\n    };\n    \n    const categoryRisks = locationRisks[category] || { high: [], medium: [] };\n    let maxRisk = 0;\n    \n    (locations || []).forEach(location => {\n      if (categoryRisks.high.includes(location.country)) maxRisk = Math.max(maxRisk, 80);\n      else if (categoryRisks.medium.includes(location.country)) maxRisk = Math.max(maxRisk, 50);\n      else maxRisk = Math.max(maxRisk, 20);\n    });\n    \n    return maxRisk;\n  }\n\n  static evaluateCompliance(data) {\n    const policies = this.checkPolicies(data.policies);\n    const training = this.checkTraining(data.training);\n    const monitoring = this.checkMonitoring(data.monitoring);\n    const reporting = this.checkReporting(data.reporting);\n    \n    return {\n      policies,\n      training,\n      monitoring,\n      reporting,\n      overallScore: (policies.score + training.score + monitoring.score + reporting.score) / 4,\n      gaps: this.identifyComplianceGaps(policies, training, monitoring, reporting)\n    };\n  }\n\n  static analyzeGrievances(grievanceData) {\n    const grievances = grievanceData || [];\n    const byCategory = this.categorizeGrievances(grievances);\n    const trends = this.analyzeGrievanceTrends(grievances);\n    const resolution = this.analyzeResolutionMetrics(grievances);\n    \n    return {\n      totalGrievances: grievances.length,\n      byCategory,\n      trends,\n      resolution,\n      riskIndicators: this.identifyGrievanceRisks(byCategory, resolution)\n    };\n  }\n\n  static assessSupplierCompliance(supplierData) {\n    const suppliers = supplierData || [];\n    const assessments = suppliers.map(supplier => ({\n      id: supplier.id,\n      name: supplier.name,\n      riskLevel: this.calculateSupplierRiskLevel(supplier),\n      auditStatus: supplier.auditStatus || 'pending',\n      complianceScore: this.calculateSupplierComplianceScore(supplier),\n      issues: supplier.issues || [],\n      lastAudit: supplier.lastAudit,\n      nextAudit: supplier.nextAudit\n    }));\n    \n    return {\n      totalSuppliers: suppliers.length,\n      assessments,\n      riskDistribution: this.calculateRiskDistribution(assessments),\n      auditCoverage: this.calculateAuditCoverage(assessments),\n      actionRequired: assessments.filter(s => s.riskLevel === 'high' || s.issues.length > 0)\n    };\n  }\n\n  static processAuditResults(audits) {\n    const auditResults = audits || [];\n    return {\n      totalAudits: auditResults.length,\n      byType: this.categorizeAudits(auditResults),\n      findings: this.summarizeFindings(auditResults),\n      corrective_actions: this.trackCorrectiveActions(auditResults),\n      effectiveness: this.calculateAuditEffectiveness(auditResults)\n    };\n  }\n\n  static calculateTrainingMetrics(trainingData) {\n    const training = trainingData || {};\n    return {\n      coverage: training.coverage || 0,\n      completionRate: training.completionRate || 0,\n      effectivenessScore: training.effectivenessScore || 0,\n      byTopic: training.byTopic || {},\n      refresherNeeded: this.identifyRefresherNeeds(training)\n    };\n  }\n\n  // Helper methods\n  static getRiskIndicators(category) {\n    const indicators = {\n      child_labor: ['minorEmployees', 'ageVerificationProcess', 'educationSupport'],\n      forced_labor: ['debtBondage', 'documentRetention', 'movementRestriction'],\n      discrimination: ['diversityMetrics', 'equalPayGap', 'promotionEquity'],\n      freedom_association: ['unionRecognition', 'collectiveBargaining', 'workerRepresentation'],\n      working_conditions: ['safetyIncidents', 'overtimeHours', 'workplaceConditions']\n    };\n    return indicators[category] || [];\n  }\n\n  static calculateIndicatorRisk(indicator, value) {\n    // Risk calculation logic based on indicator type\n    const riskThresholds = {\n      minorEmployees: { low: 0, medium: 1, high: 5 },\n      safetyIncidents: { low: 0, medium: 2, high: 10 },\n      overtimeHours: { low: 40, medium: 60, high: 80 }\n    };\n    \n    const thresholds = riskThresholds[indicator];\n    if (!thresholds) return 30; // Default medium risk\n    \n    if (value <= thresholds.low) return 10;\n    if (value <= thresholds.medium) return 50;\n    return 90;\n  }\n\n  static calculateOverallRisk(categoryRisk) {\n    return (categoryRisk.internalRisk + categoryRisk.supplierRisk + categoryRisk.geographicRisk) / 3;\n  }\n\n  static calculateTotalRiskScore(risks) {\n    const scores = Object.values(risks).map(r => r.overallRisk);\n    return scores.reduce((sum, score) => sum + score, 0) / scores.length;\n  }\n\n  static identifyHighRiskAreas(risks) {\n    return Object.entries(risks)\n      .filter(([_, risk]) => risk.overallRisk > 70)\n      .map(([category, risk]) => ({ category, risk: risk.overallRisk }));\n  }\n\n  static checkPolicies(policies) {\n    const required = ['child_labor', 'forced_labor', 'discrimination', 'harassment', 'grievance'];\n    const existing = policies || [];\n    const missing = required.filter(p => !existing.includes(p));\n    \n    return {\n      score: ((required.length - missing.length) / required.length) * 100,\n      existing,\n      missing,\n      compliant: missing.length === 0\n    };\n  }\n\n  static checkTraining(training) {\n    const coverage = training?.coverage || 0;\n    const effectiveness = training?.effectivenessScore || 0;\n    \n    return {\n      score: (coverage + effectiveness) / 2,\n      coverage,\n      effectiveness,\n      compliant: coverage >= 90 && effectiveness >= 80\n    };\n  }\n\n  static checkMonitoring(monitoring) {\n    const frequency = monitoring?.frequency || 0;\n    const coverage = monitoring?.coverage || 0;\n    \n    return {\n      score: (frequency + coverage) / 2,\n      frequency,\n      coverage,\n      compliant: frequency >= 80 && coverage >= 90\n    };\n  }\n\n  static checkReporting(reporting) {\n    const transparency = reporting?.transparency || 0;\n    const timeliness = reporting?.timeliness || 0;\n    \n    return {\n      score: (transparency + timeliness) / 2,\n      transparency,\n      timeliness,\n      compliant: transparency >= 80 && timeliness >= 90\n    };\n  }\n\n  static generateRecommendations(riskAssessment, compliance) {\n    const recommendations = [];\n    \n    // High-risk category recommendations\n    riskAssessment.highRiskAreas.forEach(area => {\n      recommendations.push({\n        priority: 'high',\n        category: area.category,\n        action: `Implement enhanced controls for ${area.category.replace('_', ' ')}`,\n        timeline: '3 months'\n      });\n    });\n    \n    // Compliance gap recommendations\n    if (compliance.overallScore < 80) {\n      recommendations.push({\n        priority: 'medium',\n        category: 'compliance',\n        action: 'Strengthen compliance framework and monitoring',\n        timeline: '6 months'\n      });\n    }\n    \n    return recommendations;\n  }\n\n  static getDefaultHumanRightsAssessment() {\n    return {\n      riskAssessment: { categoryRisks: {}, overallRiskScore: 0, highRiskAreas: [], mitigationPriority: [] },\n      compliance: { policies: {}, training: {}, monitoring: {}, reporting: {}, overallScore: 0, gaps: [] },\n      grievanceAnalysis: { totalGrievances: 0, byCategory: {}, trends: {}, resolution: {}, riskIndicators: [] },\n      supplierDueDiligence: { totalSuppliers: 0, assessments: [], riskDistribution: {}, auditCoverage: 0, actionRequired: [] },\n      auditResults: { totalAudits: 0, byType: {}, findings: {}, corrective_actions: [], effectiveness: 0 },\n      trainingMetrics: { coverage: 0, completionRate: 0, effectivenessScore: 0, byTopic: {}, refresherNeeded: [] },\n      recommendations: []\n    };\n  }\n}\n\nexport default HumanRightsLabor;","// Community Engagement & CSR Module\nexport class CommunityEngagement {\n  static projectTypes = ['education', 'healthcare', 'infrastructure', 'environment', 'economic_development'];\n  static stakeholderTypes = ['local_community', 'government', 'ngos', 'suppliers', 'customers'];\n  static impactAreas = ['social', 'economic', 'environmental', 'cultural'];\n\n  static manageCommunityEngagement(csrData, stakeholderData, impactData) {\n    try {\n      const csrAnalysis = this.analyzeCSRProjects(csrData);\n      const stakeholderEngagement = this.assessStakeholderEngagement(stakeholderData);\n      const impactMeasurement = this.measureCommunityImpact(impactData);\n      const investmentTracking = this.trackCSRInvestment(csrData);\n      \n      return {\n        csrAnalysis,\n        stakeholderEngagement,\n        impactMeasurement,\n        investmentTracking,\n        performanceMetrics: this.calculatePerformanceMetrics(csrData, impactData),\n        recommendations: this.generateEngagementRecommendations(csrAnalysis, stakeholderEngagement, impactMeasurement)\n      };\n    } catch (error) {\n      console.error('Community engagement analysis failed:', error);\n      return this.getDefaultCommunityEngagement();\n    }\n  }\n\n  static analyzeCSRProjects(csrData) {\n    const projects = csrData.projects || [];\n    const byType = this.categorizeProjects(projects);\n    const byStatus = this.analyzeProjectStatus(projects);\n    const effectiveness = this.assessProjectEffectiveness(projects);\n    \n    return {\n      totalProjects: projects.length,\n      byType,\n      byStatus,\n      effectiveness,\n      budget: this.analyzeProjectBudgets(projects),\n      timeline: this.analyzeProjectTimelines(projects),\n      beneficiaries: this.calculateBeneficiaries(projects)\n    };\n  }\n\n  static assessStakeholderEngagement(stakeholderData) {\n    const stakeholders = stakeholderData.stakeholders || [];\n    const engagementMetrics = this.calculateEngagementMetrics(stakeholders);\n    const satisfactionScores = this.analyzeSatisfactionScores(stakeholderData.surveys);\n    const communicationEffectiveness = this.assessCommunicationEffectiveness(stakeholderData.communications);\n    \n    return {\n      totalStakeholders: stakeholders.length,\n      byType: this.categorizeStakeholders(stakeholders),\n      engagementMetrics,\n      satisfactionScores,\n      communicationEffectiveness,\n      feedbackAnalysis: this.analyzeFeedback(stakeholderData.feedback),\n      relationshipHealth: this.assessRelationshipHealth(stakeholders)\n    };\n  }\n\n  static measureCommunityImpact(impactData) {\n    const impacts = impactData.impacts || [];\n    const byArea = this.categorizeImpacts(impacts);\n    const measurement = this.calculateImpactMeasurement(impacts);\n    const sustainability = this.assessImpactSustainability(impacts);\n    \n    return {\n      totalImpacts: impacts.length,\n      byArea,\n      measurement,\n      sustainability,\n      longTermOutcomes: this.assessLongTermOutcomes(impacts),\n      unintendedConsequences: this.identifyUnintendedConsequences(impacts),\n      scalability: this.assessScalability(impacts)\n    };\n  }\n\n  static trackCSRInvestment(csrData) {\n    const investments = csrData.investments || [];\n    const totalInvestment = this.calculateTotalInvestment(investments);\n    const allocation = this.analyzeInvestmentAllocation(investments);\n    const efficiency = this.calculateInvestmentEfficiency(investments, csrData.outcomes);\n    \n    return {\n      totalInvestment,\n      allocation,\n      efficiency,\n      trends: this.analyzeInvestmentTrends(investments),\n      benchmarking: this.benchmarkInvestment(totalInvestment, csrData.revenue),\n      roi: this.calculateCSRROI(investments, csrData.outcomes)\n    };\n  }\n\n  static calculatePerformanceMetrics(csrData, impactData) {\n    const projects = csrData.projects || [];\n    const impacts = impactData.impacts || [];\n    \n    return {\n      projectSuccessRate: this.calculateSuccessRate(projects),\n      impactPerDollar: this.calculateImpactPerDollar(impacts, csrData.investments),\n      beneficiaryReach: this.calculateBeneficiaryReach(projects),\n      sustainabilityIndex: this.calculateSustainabilityIndex(impacts),\n      stakeholderSatisfaction: this.calculateOverallSatisfaction(csrData.stakeholderFeedback),\n      communityDevelopmentIndex: this.calculateCommunityDevelopmentIndex(impacts)\n    };\n  }\n\n  // Helper methods for project analysis\n  static categorizeProjects(projects) {\n    const result = {};\n    this.projectTypes.forEach(type => {\n      result[type] = projects.filter(p => p.type === type);\n    });\n    return result;\n  }\n\n  static analyzeProjectStatus(projects) {\n    const statuses = ['planning', 'active', 'completed', 'suspended'];\n    const result = {};\n    statuses.forEach(status => {\n      result[status] = projects.filter(p => p.status === status).length;\n    });\n    return result;\n  }\n\n  static assessProjectEffectiveness(projects) {\n    const completed = projects.filter(p => p.status === 'completed');\n    if (completed.length === 0) return { average: 0, distribution: {} };\n    \n    const scores = completed.map(p => p.effectivenessScore || 0);\n    const average = scores.reduce((sum, score) => sum + score, 0) / scores.length;\n    \n    return {\n      average,\n      distribution: this.calculateScoreDistribution(scores),\n      topPerformers: completed.filter(p => (p.effectivenessScore || 0) > 80),\n      underPerformers: completed.filter(p => (p.effectivenessScore || 0) < 60)\n    };\n  }\n\n  static analyzeProjectBudgets(projects) {\n    const budgets = projects.map(p => p.budget || 0);\n    const total = budgets.reduce((sum, budget) => sum + budget, 0);\n    \n    return {\n      total,\n      average: budgets.length > 0 ? total / budgets.length : 0,\n      largest: Math.max(...budgets, 0),\n      smallest: Math.min(...budgets.filter(b => b > 0), 0) || 0,\n      utilization: this.calculateBudgetUtilization(projects)\n    };\n  }\n\n  static calculateBeneficiaries(projects) {\n    const direct = projects.reduce((sum, p) => sum + (p.directBeneficiaries || 0), 0);\n    const indirect = projects.reduce((sum, p) => sum + (p.indirectBeneficiaries || 0), 0);\n    \n    return {\n      direct,\n      indirect,\n      total: direct + indirect,\n      byDemographic: this.analyzeBeneficiaryDemographics(projects)\n    };\n  }\n\n  // Helper methods for stakeholder analysis\n  static categorizeStakeholders(stakeholders) {\n    const result = {};\n    this.stakeholderTypes.forEach(type => {\n      result[type] = stakeholders.filter(s => s.type === type);\n    });\n    return result;\n  }\n\n  static calculateEngagementMetrics(stakeholders) {\n    const totalEngagements = stakeholders.reduce((sum, s) => sum + (s.engagements || 0), 0);\n    const activeStakeholders = stakeholders.filter(s => (s.lastEngagement || 0) > Date.now() - 90 * 24 * 60 * 60 * 1000);\n    \n    return {\n      totalEngagements,\n      averagePerStakeholder: stakeholders.length > 0 ? totalEngagements / stakeholders.length : 0,\n      activeStakeholders: activeStakeholders.length,\n      engagementRate: stakeholders.length > 0 ? (activeStakeholders.length / stakeholders.length) * 100 : 0\n    };\n  }\n\n  static analyzeSatisfactionScores(surveys) {\n    if (!surveys || surveys.length === 0) return { average: 0, trend: 'no_data' };\n    \n    const scores = surveys.map(s => s.satisfactionScore || 0);\n    const average = scores.reduce((sum, score) => sum + score, 0) / scores.length;\n    \n    return {\n      average,\n      latest: scores[scores.length - 1] || 0,\n      trend: this.calculateTrend(scores),\n      distribution: this.calculateScoreDistribution(scores)\n    };\n  }\n\n  // Helper methods for impact measurement\n  static categorizeImpacts(impacts) {\n    const result = {};\n    this.impactAreas.forEach(area => {\n      result[area] = impacts.filter(i => i.area === area);\n    });\n    return result;\n  }\n\n  static calculateImpactMeasurement(impacts) {\n    return {\n      quantitative: this.measureQuantitativeImpacts(impacts),\n      qualitative: this.measureQualitativeImpacts(impacts),\n      baseline: this.establishBaselines(impacts),\n      progress: this.trackProgress(impacts)\n    };\n  }\n\n  static assessImpactSustainability(impacts) {\n    const sustainabilityScores = impacts.map(i => i.sustainabilityScore || 0);\n    const average = sustainabilityScores.length > 0 ? \n      sustainabilityScores.reduce((sum, score) => sum + score, 0) / sustainabilityScores.length : 0;\n    \n    return {\n      averageScore: average,\n      sustainableImpacts: impacts.filter(i => (i.sustainabilityScore || 0) > 70).length,\n      riskOfReversal: impacts.filter(i => (i.sustainabilityScore || 0) < 50).length\n    };\n  }\n\n  // Calculation methods\n  static calculateSuccessRate(projects) {\n    const completed = projects.filter(p => p.status === 'completed');\n    const successful = completed.filter(p => (p.successScore || 0) > 70);\n    return completed.length > 0 ? (successful.length / completed.length) * 100 : 0;\n  }\n\n  static calculateImpactPerDollar(impacts, investments) {\n    const totalInvestment = investments?.reduce((sum, inv) => sum + (inv.amount || 0), 0) || 1;\n    const totalImpact = impacts.reduce((sum, imp) => sum + (imp.quantitativeValue || 0), 0);\n    return totalImpact / totalInvestment;\n  }\n\n  static calculateSustainabilityIndex(impacts) {\n    const scores = impacts.map(i => i.sustainabilityScore || 0);\n    return scores.length > 0 ? scores.reduce((sum, score) => sum + score, 0) / scores.length : 0;\n  }\n\n  static generateEngagementRecommendations(csrAnalysis, stakeholderEngagement, impactMeasurement) {\n    const recommendations = [];\n    \n    // CSR project recommendations\n    if (csrAnalysis.effectiveness.average < 70) {\n      recommendations.push({\n        area: 'project_effectiveness',\n        priority: 'high',\n        action: 'Improve project design and implementation processes',\n        expectedImpact: 'Increase project success rate by 20%'\n      });\n    }\n    \n    // Stakeholder engagement recommendations\n    if (stakeholderEngagement.engagementMetrics.engagementRate < 60) {\n      recommendations.push({\n        area: 'stakeholder_engagement',\n        priority: 'medium',\n        action: 'Develop more frequent and meaningful engagement activities',\n        expectedImpact: 'Improve stakeholder satisfaction and participation'\n      });\n    }\n    \n    // Impact measurement recommendations\n    if (impactMeasurement.sustainability.averageScore < 60) {\n      recommendations.push({\n        area: 'impact_sustainability',\n        priority: 'high',\n        action: 'Focus on long-term sustainable impact strategies',\n        expectedImpact: 'Ensure lasting community benefits'\n      });\n    }\n    \n    return recommendations;\n  }\n\n  static getDefaultCommunityEngagement() {\n    return {\n      csrAnalysis: { totalProjects: 0, byType: {}, byStatus: {}, effectiveness: {}, budget: {}, timeline: {}, beneficiaries: {} },\n      stakeholderEngagement: { totalStakeholders: 0, byType: {}, engagementMetrics: {}, satisfactionScores: {}, communicationEffectiveness: {}, feedbackAnalysis: {}, relationshipHealth: {} },\n      impactMeasurement: { totalImpacts: 0, byArea: {}, measurement: {}, sustainability: {}, longTermOutcomes: {}, unintendedConsequences: [], scalability: {} },\n      investmentTracking: { totalInvestment: 0, allocation: {}, efficiency: 0, trends: {}, benchmarking: {}, roi: 0 },\n      performanceMetrics: { projectSuccessRate: 0, impactPerDollar: 0, beneficiaryReach: 0, sustainabilityIndex: 0, stakeholderSatisfaction: 0, communityDevelopmentIndex: 0 },\n      recommendations: []\n    };\n  }\n}\n\nexport default CommunityEngagement;","// Enhanced Workforce Management Module\nexport class WorkforceManagement {\n  static diversityCategories = ['gender', 'age', 'ethnicity', 'disability', 'education'];\n  static performanceMetrics = ['productivity', 'engagement', 'retention', 'satisfaction'];\n\n  static manageWorkforce(workforceData, diversityData, performanceData) {\n    try {\n      const diversityAnalysis = this.analyzeDiversity(diversityData);\n      const retentionAnalysis = this.analyzeRetention(workforceData);\n      const payEquityAnalysis = this.analyzePayEquity(workforceData);\n      const trainingAnalysis = this.analyzeTraining(workforceData.training);\n      const performanceMetrics = this.calculatePerformanceMetrics(performanceData);\n      \n      return {\n        diversityAnalysis,\n        retentionAnalysis,\n        payEquityAnalysis,\n        trainingAnalysis,\n        performanceMetrics,\n        overallScore: this.calculateWorkforceScore(diversityAnalysis, retentionAnalysis, payEquityAnalysis),\n        recommendations: this.generateWorkforceRecommendations(diversityAnalysis, retentionAnalysis, payEquityAnalysis)\n      };\n    } catch (error) {\n      console.error('Workforce management analysis failed:', error);\n      return this.getDefaultWorkforceAnalysis();\n    }\n  }\n\n  static analyzeDiversity(data) {\n    const diversity = {};\n    this.diversityCategories.forEach(category => {\n      diversity[category] = this.calculateDiversityMetrics(data[category] || {});\n    });\n    \n    return {\n      byCategory: diversity,\n      overallDiversityIndex: this.calculateDiversityIndex(diversity),\n      representation: this.analyzeRepresentation(data),\n      trends: this.analyzeDiversityTrends(data.historical)\n    };\n  }\n\n  static analyzeRetention(data) {\n    const employees = data.employees || [];\n    const turnover = data.turnover || [];\n    \n    return {\n      overallRetentionRate: this.calculateRetentionRate(employees, turnover),\n      byDemographic: this.calculateRetentionByDemographic(employees, turnover),\n      byRole: this.calculateRetentionByRole(employees, turnover),\n      exitReasons: this.analyzeExitReasons(turnover),\n      costOfTurnover: this.calculateTurnoverCost(turnover, data.avgRecruitmentCost)\n    };\n  }\n\n  static analyzePayEquity(data) {\n    const employees = data.employees || [];\n    \n    return {\n      genderPayGap: this.calculateGenderPayGap(employees),\n      ethnicityPayGap: this.calculateEthnicityPayGap(employees),\n      roleEquity: this.analyzeRoleEquity(employees),\n      promotionEquity: this.analyzePromotionEquity(data.promotions),\n      complianceStatus: this.assessPayEquityCompliance(employees)\n    };\n  }\n\n  static analyzeTraining(trainingData) {\n    const training = trainingData || {};\n    \n    return {\n      totalHours: training.totalHours || 0,\n      hoursPerEmployee: training.hoursPerEmployee || 0,\n      completionRate: training.completionRate || 0,\n      effectivenessScore: training.effectivenessScore || 0,\n      skillDevelopment: this.analyzeSkillDevelopment(training.skills),\n      investmentROI: this.calculateTrainingROI(training)\n    };\n  }\n\n  static calculateDiversityMetrics(categoryData) {\n    const total = Object.values(categoryData).reduce((sum, count) => sum + count, 0);\n    const distribution = {};\n    \n    Object.entries(categoryData).forEach(([group, count]) => {\n      distribution[group] = total > 0 ? (count / total) * 100 : 0;\n    });\n    \n    return {\n      distribution,\n      diversityScore: this.calculateShannonIndex(categoryData),\n      representation: this.assessRepresentation(distribution)\n    };\n  }\n\n  static calculateShannonIndex(data) {\n    const total = Object.values(data).reduce((sum, count) => sum + count, 0);\n    if (total === 0) return 0;\n    \n    let index = 0;\n    Object.values(data).forEach(count => {\n      if (count > 0) {\n        const proportion = count / total;\n        index -= proportion * Math.log2(proportion);\n      }\n    });\n    \n    return index;\n  }\n\n  static getDefaultWorkforceAnalysis() {\n    return {\n      diversityAnalysis: { byCategory: {}, overallDiversityIndex: 0, representation: {}, trends: {} },\n      retentionAnalysis: { overallRetentionRate: 0, byDemographic: {}, byRole: {}, exitReasons: {}, costOfTurnover: 0 },\n      payEquityAnalysis: { genderPayGap: 0, ethnicityPayGap: 0, roleEquity: {}, promotionEquity: {}, complianceStatus: {} },\n      trainingAnalysis: { totalHours: 0, hoursPerEmployee: 0, completionRate: 0, effectivenessScore: 0, skillDevelopment: {}, investmentROI: 0 },\n      performanceMetrics: { productivity: 0, engagement: 0, retention: 0, satisfaction: 0 },\n      overallScore: 0,\n      recommendations: []\n    };\n  }\n}\n\nexport default WorkforceManagement;","// Enhanced Health & Safety Module\nexport class HealthSafety {\n  static incidentTypes = ['injury', 'illness', 'near_miss', 'property_damage', 'environmental'];\n  static severityLevels = ['minor', 'moderate', 'major', 'critical', 'fatality'];\n  static safetyMetrics = ['ltifr', 'trifr', 'dart', 'osha_rate'];\n\n  static manageHealthSafety(incidentData, auditData, trainingData, emergencyData) {\n    try {\n      const incidentAnalysis = this.analyzeIncidents(incidentData);\n      const safetyMetrics = this.calculateSafetyMetrics(incidentData);\n      const auditResults = this.processSafetyAudits(auditData);\n      const trainingEffectiveness = this.analyzeSafetyTraining(trainingData);\n      const emergencyPreparedness = this.assessEmergencyPreparedness(emergencyData);\n      const complianceStatus = this.assessSafetyCompliance(incidentData, auditData);\n      \n      return {\n        incidentAnalysis,\n        safetyMetrics,\n        auditResults,\n        trainingEffectiveness,\n        emergencyPreparedness,\n        complianceStatus,\n        overallSafetyScore: this.calculateOverallSafetyScore(safetyMetrics, auditResults, trainingEffectiveness),\n        recommendations: this.generateSafetyRecommendations(incidentAnalysis, safetyMetrics, auditResults)\n      };\n    } catch (error) {\n      console.error('Health & safety analysis failed:', error);\n      return this.getDefaultHealthSafetyAnalysis();\n    }\n  }\n\n  static analyzeIncidents(incidentData) {\n    const incidents = incidentData.incidents || [];\n    \n    return {\n      totalIncidents: incidents.length,\n      byType: this.categorizeIncidents(incidents),\n      bySeverity: this.categorizeIncidentsBySeverity(incidents),\n      trends: this.analyzeIncidentTrends(incidents),\n      rootCauses: this.analyzeRootCauses(incidents),\n      preventiveMeasures: this.identifyPreventiveMeasures(incidents),\n      costImpact: this.calculateIncidentCosts(incidents)\n    };\n  }\n\n  static calculateSafetyMetrics(incidentData) {\n    const incidents = incidentData.incidents || [];\n    const workHours = incidentData.totalWorkHours || 1000000;\n    const employees = incidentData.totalEmployees || 1000;\n    \n    return {\n      ltifr: this.calculateLTIFR(incidents, workHours),\n      trifr: this.calculateTRIFR(incidents, workHours),\n      dart: this.calculateDART(incidents, workHours),\n      oshaRate: this.calculateOSHARate(incidents, workHours),\n      fatalities: incidents.filter(i => i.severity === 'fatality').length,\n      benchmarking: this.benchmarkSafetyMetrics(incidents, workHours)\n    };\n  }\n\n  static processSafetyAudits(auditData) {\n    const audits = auditData.audits || [];\n    const findings = auditData.findings || [];\n    \n    return {\n      totalAudits: audits.length,\n      auditCoverage: this.calculateAuditCoverage(audits),\n      findings: this.categorizeSafetyFindings(findings),\n      correctiveActions: this.trackCorrectiveActions(auditData.actions),\n      auditEffectiveness: this.measureAuditEffectiveness(audits, findings),\n      complianceGaps: this.identifyComplianceGaps(findings)\n    };\n  }\n\n  static analyzeSafetyTraining(trainingData) {\n    const training = trainingData || {};\n    \n    return {\n      totalTrainingHours: training.totalHours || 0,\n      completionRate: training.completionRate || 0,\n      certificationStatus: this.analyzeCertifications(training.certifications),\n      trainingEffectiveness: training.effectivenessScore || 0,\n      refresherCompliance: this.trackRefresherTraining(training.refresher),\n      emergencyDrills: this.analyzeEmergencyDrills(training.drills)\n    };\n  }\n\n  static assessEmergencyPreparedness(emergencyData) {\n    const procedures = emergencyData.procedures || [];\n    const drills = emergencyData.drills || [];\n    const equipment = emergencyData.equipment || [];\n    \n    return {\n      procedureCoverage: this.assessProcedureCoverage(procedures),\n      drillCompliance: this.analyzeDrillCompliance(drills),\n      equipmentReadiness: this.assessEquipmentReadiness(equipment),\n      responseCapability: this.evaluateResponseCapability(emergencyData),\n      communicationSystems: this.assessCommunicationSystems(emergencyData.communications)\n    };\n  }\n\n  static calculateLTIFR(incidents, workHours) {\n    const lostTimeInjuries = incidents.filter(i => \n      i.type === 'injury' && i.lostTime > 0\n    ).length;\n    return (lostTimeInjuries * 1000000) / workHours;\n  }\n\n  static calculateTRIFR(incidents, workHours) {\n    const recordableInjuries = incidents.filter(i => \n      i.type === 'injury' && i.recordable\n    ).length;\n    return (recordableInjuries * 1000000) / workHours;\n  }\n\n  static calculateDART(incidents, workHours) {\n    const dartCases = incidents.filter(i => \n      i.type === 'injury' && (i.daysAway > 0 || i.restricted || i.transferred)\n    ).length;\n    return (dartCases * 200000) / workHours;\n  }\n\n  static calculateOSHARate(incidents, workHours) {\n    const oshaRecordable = incidents.filter(i => i.oshaRecordable).length;\n    return (oshaRecordable * 200000) / workHours;\n  }\n\n  static calculateOverallSafetyScore(safetyMetrics, auditResults, trainingEffectiveness) {\n    const metricsScore = Math.max(0, 100 - (safetyMetrics.ltifr * 10));\n    const auditScore = auditResults.auditEffectiveness || 70;\n    const trainingScore = trainingEffectiveness.trainingEffectiveness || 70;\n    \n    return (metricsScore + auditScore + trainingScore) / 3;\n  }\n\n  static generateSafetyRecommendations(incidentAnalysis, safetyMetrics, auditResults) {\n    const recommendations = [];\n    \n    if (safetyMetrics.ltifr > 2.0) {\n      recommendations.push({\n        area: 'incident_reduction',\n        priority: 'high',\n        action: 'Implement enhanced safety controls to reduce LTIFR',\n        timeline: '6 months'\n      });\n    }\n    \n    if (incidentAnalysis.totalIncidents > 50) {\n      recommendations.push({\n        area: 'prevention',\n        priority: 'medium',\n        action: 'Strengthen preventive safety measures and training',\n        timeline: '3 months'\n      });\n    }\n    \n    return recommendations;\n  }\n\n  static getDefaultHealthSafetyAnalysis() {\n    return {\n      incidentAnalysis: { totalIncidents: 0, byType: {}, bySeverity: {}, trends: {}, rootCauses: {}, preventiveMeasures: [], costImpact: 0 },\n      safetyMetrics: { ltifr: 0, trifr: 0, dart: 0, oshaRate: 0, fatalities: 0, benchmarking: {} },\n      auditResults: { totalAudits: 0, auditCoverage: 0, findings: {}, correctiveActions: [], auditEffectiveness: 0, complianceGaps: [] },\n      trainingEffectiveness: { totalTrainingHours: 0, completionRate: 0, certificationStatus: {}, trainingEffectiveness: 0, refresherCompliance: {}, emergencyDrills: {} },\n      emergencyPreparedness: { procedureCoverage: 0, drillCompliance: 0, equipmentReadiness: 0, responseCapability: 0, communicationSystems: {} },\n      complianceStatus: { compliant: false, gaps: [], violations: [] },\n      overallSafetyScore: 0,\n      recommendations: []\n    };\n  }\n}\n\nexport default HealthSafety;","// Ethics & Anti-Corruption Module\nexport class EthicsAntiCorruption {\n  static riskAreas = ['bribery', 'corruption', 'conflicts_of_interest', 'fraud', 'money_laundering'];\n  static trainingTypes = ['code_of_conduct', 'anti_bribery', 'conflict_of_interest', 'fraud_prevention', 'whistleblower'];\n  static incidentTypes = ['bribery_attempt', 'corruption_allegation', 'conflict_of_interest', 'fraud_case', 'policy_violation'];\n\n  static manageEthicsCompliance(policyData, trainingData, incidentData, auditData) {\n    try {\n      const policyCompliance = this.assessPolicyCompliance(policyData);\n      const trainingEffectiveness = this.evaluateTrainingPrograms(trainingData);\n      const incidentAnalysis = this.analyzeIncidents(incidentData);\n      const riskAssessment = this.conductEthicsRiskAssessment(policyData, incidentData);\n      const auditResults = this.processEthicsAudits(auditData);\n      \n      return {\n        policyCompliance,\n        trainingEffectiveness,\n        incidentAnalysis,\n        riskAssessment,\n        auditResults,\n        complianceScore: this.calculateOverallComplianceScore(policyCompliance, trainingEffectiveness, incidentAnalysis),\n        recommendations: this.generateEthicsRecommendations(policyCompliance, trainingEffectiveness, incidentAnalysis, riskAssessment)\n      };\n    } catch (error) {\n      console.error('Ethics compliance analysis failed:', error);\n      return this.getDefaultEthicsCompliance();\n    }\n  }\n\n  static assessPolicyCompliance(policyData) {\n    const policies = policyData.policies || [];\n    const acknowledgments = policyData.acknowledgments || [];\n    const updates = policyData.updates || [];\n    \n    return {\n      policyFramework: this.evaluatePolicyFramework(policies),\n      acknowledgmentRate: this.calculateAcknowledgmentRate(acknowledgments, policyData.totalEmployees),\n      policyUpdates: this.analyzePolicyUpdates(updates),\n      coverage: this.assessPolicyCoverage(policies),\n      effectiveness: this.measurePolicyEffectiveness(policies, policyData.violations)\n    };\n  }\n\n  static evaluateTrainingPrograms(trainingData) {\n    const programs = trainingData.programs || [];\n    const completions = trainingData.completions || [];\n    const assessments = trainingData.assessments || [];\n    \n    return {\n      programCoverage: this.calculateProgramCoverage(programs),\n      completionRates: this.calculateCompletionRates(completions, trainingData.totalEmployees),\n      effectivenessScores: this.analyzeTrainingEffectiveness(assessments),\n      refresherCompliance: this.trackRefresherTraining(trainingData.refresher),\n      targetedTraining: this.assessTargetedTraining(programs, trainingData.riskProfiles)\n    };\n  }\n\n  static analyzeIncidents(incidentData) {\n    const incidents = incidentData.incidents || [];\n    const investigations = incidentData.investigations || [];\n    \n    return {\n      totalIncidents: incidents.length,\n      byType: this.categorizeIncidents(incidents),\n      bySource: this.analyzeIncidentSources(incidents),\n      trends: this.analyzeIncidentTrends(incidents),\n      investigations: this.assessInvestigations(investigations),\n      resolutions: this.trackResolutions(incidents),\n      preventiveMeasures: this.identifyPreventiveMeasures(incidents)\n    };\n  }\n\n  static conductEthicsRiskAssessment(policyData, incidentData) {\n    const riskFactors = this.identifyRiskFactors(policyData, incidentData);\n    const riskMatrix = this.buildEthicsRiskMatrix(riskFactors);\n    const mitigationStrategies = this.developMitigationStrategies(riskMatrix);\n    \n    return {\n      riskFactors,\n      riskMatrix,\n      overallRiskLevel: this.calculateOverallEthicsRisk(riskMatrix),\n      highRiskAreas: this.identifyHighRiskAreas(riskMatrix),\n      mitigationStrategies,\n      monitoringPlan: this.createMonitoringPlan(riskMatrix)\n    };\n  }\n\n  static processEthicsAudits(auditData) {\n    const audits = auditData.audits || [];\n    const findings = auditData.findings || [];\n    const actions = auditData.correctiveActions || [];\n    \n    return {\n      auditCoverage: this.calculateAuditCoverage(audits),\n      findings: this.categorizeAuditFindings(findings),\n      correctiveActions: this.trackCorrectiveActions(actions),\n      auditEffectiveness: this.measureAuditEffectiveness(audits, findings),\n      followUp: this.assessFollowUpActions(actions)\n    };\n  }\n\n  // Policy compliance methods\n  static evaluatePolicyFramework(policies) {\n    const requiredPolicies = ['code_of_conduct', 'anti_bribery', 'conflict_of_interest', 'whistleblower', 'gift_policy'];\n    const existingPolicies = policies.map(p => p.type);\n    const missing = requiredPolicies.filter(rp => !existingPolicies.includes(rp));\n    \n    return {\n      completeness: ((requiredPolicies.length - missing.length) / requiredPolicies.length) * 100,\n      existing: existingPolicies,\n      missing,\n      lastUpdated: this.getLatestUpdateDate(policies),\n      comprehensiveness: this.assessPolicyComprehensiveness(policies)\n    };\n  }\n\n  static calculateAcknowledgmentRate(acknowledgments, totalEmployees) {\n    const acknowledged = acknowledgments.length;\n    const rate = totalEmployees > 0 ? (acknowledged / totalEmployees) * 100 : 0;\n    \n    return {\n      rate,\n      acknowledged,\n      pending: totalEmployees - acknowledged,\n      overdue: acknowledgments.filter(a => this.isOverdue(a.dueDate)).length\n    };\n  }\n\n  static analyzePolicyUpdates(updates) {\n    const recentUpdates = updates.filter(u => this.isRecent(u.date, 365));\n    \n    return {\n      totalUpdates: updates.length,\n      recentUpdates: recentUpdates.length,\n      updateFrequency: this.calculateUpdateFrequency(updates),\n      majorRevisions: updates.filter(u => u.type === 'major').length,\n      minorRevisions: updates.filter(u => u.type === 'minor').length\n    };\n  }\n\n  // Training effectiveness methods\n  static calculateProgramCoverage(programs) {\n    const coverage = {};\n    this.trainingTypes.forEach(type => {\n      coverage[type] = programs.filter(p => p.type === type).length;\n    });\n    return coverage;\n  }\n\n  static calculateCompletionRates(completions, totalEmployees) {\n    const rates = {};\n    this.trainingTypes.forEach(type => {\n      const completed = completions.filter(c => c.trainingType === type).length;\n      rates[type] = totalEmployees > 0 ? (completed / totalEmployees) * 100 : 0;\n    });\n    return rates;\n  }\n\n  static analyzeTrainingEffectiveness(assessments) {\n    const effectiveness = {};\n    this.trainingTypes.forEach(type => {\n      const typeAssessments = assessments.filter(a => a.trainingType === type);\n      const scores = typeAssessments.map(a => a.score || 0);\n      effectiveness[type] = {\n        averageScore: scores.length > 0 ? scores.reduce((sum, score) => sum + score, 0) / scores.length : 0,\n        passRate: typeAssessments.filter(a => (a.score || 0) >= 80).length / typeAssessments.length * 100 || 0,\n        completions: typeAssessments.length\n      };\n    });\n    return effectiveness;\n  }\n\n  // Incident analysis methods\n  static categorizeIncidents(incidents) {\n    const categories = {};\n    this.incidentTypes.forEach(type => {\n      categories[type] = incidents.filter(i => i.type === type);\n    });\n    return categories;\n  }\n\n  static analyzeIncidentSources(incidents) {\n    const sources = {};\n    incidents.forEach(incident => {\n      const source = incident.source || 'unknown';\n      sources[source] = (sources[source] || 0) + 1;\n    });\n    return sources;\n  }\n\n  static analyzeIncidentTrends(incidents) {\n    const monthlyData = this.groupIncidentsByMonth(incidents);\n    const trend = this.calculateTrend(Object.values(monthlyData));\n    \n    return {\n      monthlyData,\n      trend,\n      peakMonth: this.findPeakMonth(monthlyData),\n      seasonality: this.detectSeasonality(monthlyData)\n    };\n  }\n\n  // Risk assessment methods\n  static identifyRiskFactors(policyData, incidentData) {\n    const factors = [];\n    \n    // Policy gaps\n    const policyGaps = policyData.policies?.missing || [];\n    if (policyGaps.length > 0) {\n      factors.push({ type: 'policy_gap', severity: 'high', description: `Missing ${policyGaps.length} required policies` });\n    }\n    \n    // Training gaps\n    const lowTrainingRates = Object.entries(policyData.trainingRates || {})\n      .filter(([_, rate]) => rate < 80);\n    if (lowTrainingRates.length > 0) {\n      factors.push({ type: 'training_gap', severity: 'medium', description: 'Low training completion rates' });\n    }\n    \n    // Incident patterns\n    const recentIncidents = (incidentData.incidents || []).filter(i => this.isRecent(i.date, 90));\n    if (recentIncidents.length > 5) {\n      factors.push({ type: 'incident_pattern', severity: 'high', description: 'High incident frequency' });\n    }\n    \n    return factors;\n  }\n\n  static buildEthicsRiskMatrix(riskFactors) {\n    const matrix = {};\n    this.riskAreas.forEach(area => {\n      const areaFactors = riskFactors.filter(f => this.isRelatedToArea(f, area));\n      matrix[area] = {\n        probability: this.calculateRiskProbability(areaFactors),\n        impact: this.calculateRiskImpact(area),\n        riskLevel: 'medium' // Calculated based on probability and impact\n      };\n      matrix[area].riskLevel = this.determineRiskLevel(matrix[area].probability, matrix[area].impact);\n    });\n    return matrix;\n  }\n\n  // Calculation methods\n  static calculateOverallComplianceScore(policyCompliance, trainingEffectiveness, incidentAnalysis) {\n    const policyScore = policyCompliance.policyFramework?.completeness || 0;\n    const trainingScore = Object.values(trainingEffectiveness.completionRates || {})\n      .reduce((sum, rate) => sum + rate, 0) / Object.keys(trainingEffectiveness.completionRates || {}).length || 0;\n    const incidentScore = Math.max(0, 100 - (incidentAnalysis.totalIncidents * 5));\n    \n    return (policyScore + trainingScore + incidentScore) / 3;\n  }\n\n  static generateEthicsRecommendations(policyCompliance, trainingEffectiveness, incidentAnalysis, riskAssessment) {\n    const recommendations = [];\n    \n    // Policy recommendations\n    if (policyCompliance.policyFramework?.completeness < 80) {\n      recommendations.push({\n        area: 'policy',\n        priority: 'high',\n        action: 'Complete missing policy framework components',\n        timeline: '3 months'\n      });\n    }\n    \n    // Training recommendations\n    const lowTrainingAreas = Object.entries(trainingEffectiveness.completionRates || {})\n      .filter(([_, rate]) => rate < 80);\n    if (lowTrainingAreas.length > 0) {\n      recommendations.push({\n        area: 'training',\n        priority: 'medium',\n        action: `Improve training completion rates in ${lowTrainingAreas.map(([area]) => area).join(', ')}`,\n        timeline: '6 months'\n      });\n    }\n    \n    // Risk-based recommendations\n    riskAssessment.highRiskAreas?.forEach(area => {\n      recommendations.push({\n        area: 'risk_mitigation',\n        priority: 'high',\n        action: `Implement enhanced controls for ${area.replace('_', ' ')}`,\n        timeline: '3 months'\n      });\n    });\n    \n    return recommendations;\n  }\n\n  // Helper methods\n  static isOverdue(dueDate) {\n    return new Date(dueDate) < new Date();\n  }\n\n  static isRecent(date, days) {\n    const cutoff = new Date();\n    cutoff.setDate(cutoff.getDate() - days);\n    return new Date(date) > cutoff;\n  }\n\n  static calculateTrend(values) {\n    if (values.length < 2) return 'insufficient_data';\n    const recent = values.slice(-3).reduce((sum, val) => sum + val, 0) / 3;\n    const earlier = values.slice(0, -3).reduce((sum, val) => sum + val, 0) / (values.length - 3) || recent;\n    \n    if (recent > earlier * 1.1) return 'increasing';\n    if (recent < earlier * 0.9) return 'decreasing';\n    return 'stable';\n  }\n\n  static determineRiskLevel(probability, impact) {\n    const score = probability * impact;\n    if (score > 70) return 'high';\n    if (score > 40) return 'medium';\n    return 'low';\n  }\n\n  static getDefaultEthicsCompliance() {\n    return {\n      policyCompliance: { policyFramework: {}, acknowledgmentRate: {}, policyUpdates: {}, coverage: {}, effectiveness: {} },\n      trainingEffectiveness: { programCoverage: {}, completionRates: {}, effectivenessScores: {}, refresherCompliance: {}, targetedTraining: {} },\n      incidentAnalysis: { totalIncidents: 0, byType: {}, bySource: {}, trends: {}, investigations: {}, resolutions: {}, preventiveMeasures: [] },\n      riskAssessment: { riskFactors: [], riskMatrix: {}, overallRiskLevel: 'unknown', highRiskAreas: [], mitigationStrategies: {}, monitoringPlan: {} },\n      auditResults: { auditCoverage: 0, findings: {}, correctiveActions: [], auditEffectiveness: 0, followUp: {} },\n      complianceScore: 0,\n      recommendations: []\n    };\n  }\n}\n\nexport default EthicsAntiCorruption;","// Data Privacy & Cybersecurity Module\nexport class DataPrivacyCybersecurity {\n  static dataTypes = ['personal', 'sensitive', 'financial', 'health', 'biometric'];\n  static securityControls = ['encryption', 'access_control', 'monitoring', 'backup', 'incident_response'];\n  static complianceFrameworks = ['GDPR', 'CCPA', 'HIPAA', 'SOX', 'ISO27001'];\n  static threatTypes = ['malware', 'phishing', 'ransomware', 'data_breach', 'insider_threat'];\n\n  static assessDataPrivacyCybersecurity(privacyData, securityData, incidentData, complianceData) {\n    try {\n      const privacyCompliance = this.assessPrivacyCompliance(privacyData, complianceData);\n      const securityPosture = this.evaluateSecurityPosture(securityData);\n      const incidentManagement = this.analyzeSecurityIncidents(incidentData);\n      const riskAssessment = this.conductCyberRiskAssessment(securityData, incidentData);\n      const trainingEffectiveness = this.evaluateSecurityTraining(privacyData.training, securityData.training);\n      \n      return {\n        privacyCompliance,\n        securityPosture,\n        incidentManagement,\n        riskAssessment,\n        trainingEffectiveness,\n        overallMaturityScore: this.calculateMaturityScore(privacyCompliance, securityPosture, incidentManagement),\n        recommendations: this.generateSecurityRecommendations(privacyCompliance, securityPosture, incidentManagement, riskAssessment)\n      };\n    } catch (error) {\n      console.error('Data privacy & cybersecurity assessment failed:', error);\n      return this.getDefaultSecurityAssessment();\n    }\n  }\n\n  static assessPrivacyCompliance(privacyData, complianceData) {\n    const dataInventory = this.analyzeDataInventory(privacyData.dataInventory);\n    const consentManagement = this.evaluateConsentManagement(privacyData.consent);\n    const dataSubjectRights = this.assessDataSubjectRights(privacyData.rights);\n    const breachManagement = this.evaluateBreachManagement(privacyData.breaches);\n    const frameworkCompliance = this.assessFrameworkCompliance(complianceData);\n    \n    return {\n      dataInventory,\n      consentManagement,\n      dataSubjectRights,\n      breachManagement,\n      frameworkCompliance,\n      privacyScore: this.calculatePrivacyScore(dataInventory, consentManagement, dataSubjectRights, breachManagement)\n    };\n  }\n\n  static evaluateSecurityPosture(securityData) {\n    const controlsAssessment = this.assessSecurityControls(securityData.controls);\n    const vulnerabilityManagement = this.evaluateVulnerabilityManagement(securityData.vulnerabilities);\n    const accessManagement = this.assessAccessManagement(securityData.access);\n    const networkSecurity = this.evaluateNetworkSecurity(securityData.network);\n    const endpointSecurity = this.assessEndpointSecurity(securityData.endpoints);\n    \n    return {\n      controlsAssessment,\n      vulnerabilityManagement,\n      accessManagement,\n      networkSecurity,\n      endpointSecurity,\n      securityScore: this.calculateSecurityScore(controlsAssessment, vulnerabilityManagement, accessManagement, networkSecurity, endpointSecurity)\n    };\n  }\n\n  static analyzeSecurityIncidents(incidentData) {\n    const incidents = incidentData.incidents || [];\n    const byType = this.categorizeSecurityIncidents(incidents);\n    const trends = this.analyzeIncidentTrends(incidents);\n    const responseMetrics = this.calculateResponseMetrics(incidents);\n    const impactAnalysis = this.analyzeIncidentImpact(incidents);\n    \n    return {\n      totalIncidents: incidents.length,\n      byType,\n      trends,\n      responseMetrics,\n      impactAnalysis,\n      lessonsLearned: this.extractLessonsLearned(incidents),\n      preventiveMeasures: this.identifyPreventiveMeasures(incidents)\n    };\n  }\n\n  static conductCyberRiskAssessment(securityData, incidentData) {\n    const threatLandscape = this.analyzeThreatLandscape(incidentData);\n    const vulnerabilityProfile = this.buildVulnerabilityProfile(securityData.vulnerabilities);\n    const riskMatrix = this.buildCyberRiskMatrix(threatLandscape, vulnerabilityProfile);\n    const businessImpact = this.assessBusinessImpact(riskMatrix);\n    \n    return {\n      threatLandscape,\n      vulnerabilityProfile,\n      riskMatrix,\n      businessImpact,\n      overallRiskLevel: this.calculateOverallCyberRisk(riskMatrix),\n      criticalRisks: this.identifyCriticalRisks(riskMatrix),\n      mitigationStrategies: this.developCyberMitigationStrategies(riskMatrix)\n    };\n  }\n\n  static evaluateSecurityTraining(privacyTraining, securityTraining) {\n    const privacyMetrics = this.calculateTrainingMetrics(privacyTraining);\n    const securityMetrics = this.calculateTrainingMetrics(securityTraining);\n    const awarenessLevel = this.assessSecurityAwareness(privacyTraining, securityTraining);\n    \n    return {\n      privacyTraining: privacyMetrics,\n      securityTraining: securityMetrics,\n      awarenessLevel,\n      overallEffectiveness: (privacyMetrics.effectiveness + securityMetrics.effectiveness) / 2,\n      gaps: this.identifyTrainingGaps(privacyTraining, securityTraining)\n    };\n  }\n\n  // Privacy compliance methods\n  static analyzeDataInventory(dataInventory) {\n    const inventory = dataInventory || [];\n    const byType = this.categorizeDataByType(inventory);\n    const bySource = this.categorizeDataBySource(inventory);\n    const retention = this.analyzeDataRetention(inventory);\n    \n    return {\n      totalDataAssets: inventory.length,\n      byType,\n      bySource,\n      retention,\n      completeness: this.assessInventoryCompleteness(inventory),\n      classification: this.assessDataClassification(inventory)\n    };\n  }\n\n  static evaluateConsentManagement(consentData) {\n    const consents = consentData?.consents || [];\n    const mechanisms = consentData?.mechanisms || [];\n    \n    return {\n      totalConsents: consents.length,\n      validConsents: consents.filter(c => this.isConsentValid(c)).length,\n      expiredConsents: consents.filter(c => this.isConsentExpired(c)).length,\n      withdrawnConsents: consents.filter(c => c.status === 'withdrawn').length,\n      consentMechanisms: mechanisms.length,\n      complianceRate: this.calculateConsentComplianceRate(consents)\n    };\n  }\n\n  static assessDataSubjectRights(rightsData) {\n    const requests = rightsData?.requests || [];\n    const byType = this.categorizeRightsRequests(requests);\n    const responseMetrics = this.calculateRightsResponseMetrics(requests);\n    \n    return {\n      totalRequests: requests.length,\n      byType,\n      responseMetrics,\n      fulfillmentRate: this.calculateFulfillmentRate(requests),\n      averageResponseTime: this.calculateAverageResponseTime(requests)\n    };\n  }\n\n  // Security posture methods\n  static assessSecurityControls(controls) {\n    const controlsAssessment = {};\n    this.securityControls.forEach(control => {\n      const controlData = controls?.[control] || {};\n      controlsAssessment[control] = {\n        implemented: controlData.implemented || false,\n        effectiveness: controlData.effectiveness || 0,\n        lastTested: controlData.lastTested,\n        status: this.determineControlStatus(controlData)\n      };\n    });\n    \n    return {\n      controls: controlsAssessment,\n      implementationRate: this.calculateImplementationRate(controlsAssessment),\n      averageEffectiveness: this.calculateAverageEffectiveness(controlsAssessment),\n      controlGaps: this.identifyControlGaps(controlsAssessment)\n    };\n  }\n\n  static evaluateVulnerabilityManagement(vulnerabilities) {\n    const vulns = vulnerabilities?.vulnerabilities || [];\n    const bySeverity = this.categorizeVulnerabilitiesBySeverity(vulns);\n    const byAge = this.categorizeVulnerabilitiesByAge(vulns);\n    const patchingMetrics = this.calculatePatchingMetrics(vulns);\n    \n    return {\n      totalVulnerabilities: vulns.length,\n      bySeverity,\n      byAge,\n      patchingMetrics,\n      riskScore: this.calculateVulnerabilityRiskScore(vulns),\n      trends: this.analyzeVulnerabilityTrends(vulns)\n    };\n  }\n\n  static assessAccessManagement(accessData) {\n    const users = accessData?.users || [];\n    const privilegedAccounts = users.filter(u => u.privileged);\n    const accessReviews = accessData?.reviews || [];\n    \n    return {\n      totalUsers: users.length,\n      privilegedAccounts: privilegedAccounts.length,\n      mfaEnabled: users.filter(u => u.mfaEnabled).length,\n      lastAccessReview: this.getLatestAccessReview(accessReviews),\n      accessViolations: this.identifyAccessViolations(users),\n      complianceRate: this.calculateAccessComplianceRate(users)\n    };\n  }\n\n  // Incident analysis methods\n  static categorizeSecurityIncidents(incidents) {\n    const categories = {};\n    this.threatTypes.forEach(type => {\n      categories[type] = incidents.filter(i => i.type === type);\n    });\n    return categories;\n  }\n\n  static calculateResponseMetrics(incidents) {\n    const responseTimes = incidents.map(i => i.responseTime || 0);\n    const resolutionTimes = incidents.map(i => i.resolutionTime || 0);\n    \n    return {\n      averageResponseTime: this.calculateAverage(responseTimes),\n      averageResolutionTime: this.calculateAverage(resolutionTimes),\n      slaCompliance: this.calculateSLACompliance(incidents),\n      escalationRate: this.calculateEscalationRate(incidents)\n    };\n  }\n\n  static analyzeIncidentImpact(incidents) {\n    const impacts = incidents.map(i => i.impact || {});\n    \n    return {\n      totalFinancialImpact: impacts.reduce((sum, i) => sum + (i.financial || 0), 0),\n      dataRecordsAffected: impacts.reduce((sum, i) => sum + (i.records || 0), 0),\n      systemDowntime: impacts.reduce((sum, i) => sum + (i.downtime || 0), 0),\n      reputationalImpact: this.assessReputationalImpact(impacts),\n      regulatoryImpact: this.assessRegulatoryImpact(impacts)\n    };\n  }\n\n  // Risk assessment methods\n  static analyzeThreatLandscape(incidentData) {\n    const incidents = incidentData.incidents || [];\n    const threats = {};\n    \n    this.threatTypes.forEach(type => {\n      const typeIncidents = incidents.filter(i => i.type === type);\n      threats[type] = {\n        frequency: typeIncidents.length,\n        severity: this.calculateAverageSeverity(typeIncidents),\n        trend: this.calculateThreatTrend(typeIncidents),\n        likelihood: this.calculateThreatLikelihood(typeIncidents)\n      };\n    });\n    \n    return threats;\n  }\n\n  static buildCyberRiskMatrix(threatLandscape, vulnerabilityProfile) {\n    const riskMatrix = {};\n    \n    Object.entries(threatLandscape).forEach(([threat, data]) => {\n      riskMatrix[threat] = {\n        likelihood: data.likelihood,\n        impact: this.calculateThreatImpact(threat),\n        riskScore: data.likelihood * this.calculateThreatImpact(threat),\n        riskLevel: this.determineRiskLevel(data.likelihood * this.calculateThreatImpact(threat))\n      };\n    });\n    \n    return riskMatrix;\n  }\n\n  // Calculation methods\n  static calculateMaturityScore(privacyCompliance, securityPosture, incidentManagement) {\n    const privacyScore = privacyCompliance.privacyScore || 0;\n    const securityScore = securityPosture.securityScore || 0;\n    const incidentScore = Math.max(0, 100 - (incidentManagement.totalIncidents * 2));\n    \n    return (privacyScore + securityScore + incidentScore) / 3;\n  }\n\n  static calculatePrivacyScore(dataInventory, consentManagement, dataSubjectRights, breachManagement) {\n    const inventoryScore = dataInventory.completeness || 0;\n    const consentScore = consentManagement.complianceRate || 0;\n    const rightsScore = dataSubjectRights.fulfillmentRate || 0;\n    const breachScore = Math.max(0, 100 - ((breachManagement?.totalBreaches || 0) * 10));\n    \n    return (inventoryScore + consentScore + rightsScore + breachScore) / 4;\n  }\n\n  static calculateSecurityScore(controls, vulnerabilities, access, network, endpoints) {\n    const controlsScore = controls.averageEffectiveness || 0;\n    const vulnScore = Math.max(0, 100 - vulnerabilities.riskScore);\n    const accessScore = access.complianceRate || 0;\n    const networkScore = network?.securityScore || 70;\n    const endpointScore = endpoints?.securityScore || 70;\n    \n    return (controlsScore + vulnScore + accessScore + networkScore + endpointScore) / 5;\n  }\n\n  static generateSecurityRecommendations(privacyCompliance, securityPosture, incidentManagement, riskAssessment) {\n    const recommendations = [];\n    \n    // Privacy recommendations\n    if (privacyCompliance.privacyScore < 70) {\n      recommendations.push({\n        area: 'privacy',\n        priority: 'high',\n        action: 'Strengthen data privacy compliance framework',\n        timeline: '6 months'\n      });\n    }\n    \n    // Security recommendations\n    if (securityPosture.securityScore < 70) {\n      recommendations.push({\n        area: 'security',\n        priority: 'high',\n        action: 'Enhance cybersecurity controls and monitoring',\n        timeline: '3 months'\n      });\n    }\n    \n    // Incident management recommendations\n    if (incidentManagement.totalIncidents > 10) {\n      recommendations.push({\n        area: 'incident_response',\n        priority: 'medium',\n        action: 'Improve incident prevention and response capabilities',\n        timeline: '4 months'\n      });\n    }\n    \n    // Risk-based recommendations\n    riskAssessment.criticalRisks?.forEach(risk => {\n      recommendations.push({\n        area: 'risk_mitigation',\n        priority: 'critical',\n        action: `Address critical ${risk} risk`,\n        timeline: '1 month'\n      });\n    });\n    \n    return recommendations;\n  }\n\n  // Helper methods\n  static isConsentValid(consent) {\n    return consent.status === 'active' && !this.isConsentExpired(consent);\n  }\n\n  static isConsentExpired(consent) {\n    return consent.expiryDate && new Date(consent.expiryDate) < new Date();\n  }\n\n  static calculateAverage(values) {\n    return values.length > 0 ? values.reduce((sum, val) => sum + val, 0) / values.length : 0;\n  }\n\n  static determineRiskLevel(score) {\n    if (score > 70) return 'critical';\n    if (score > 50) return 'high';\n    if (score > 30) return 'medium';\n    return 'low';\n  }\n\n  static getDefaultSecurityAssessment() {\n    return {\n      privacyCompliance: { dataInventory: {}, consentManagement: {}, dataSubjectRights: {}, breachManagement: {}, frameworkCompliance: {}, privacyScore: 0 },\n      securityPosture: { controlsAssessment: {}, vulnerabilityManagement: {}, accessManagement: {}, networkSecurity: {}, endpointSecurity: {}, securityScore: 0 },\n      incidentManagement: { totalIncidents: 0, byType: {}, trends: {}, responseMetrics: {}, impactAnalysis: {}, lessonsLearned: [], preventiveMeasures: [] },\n      riskAssessment: { threatLandscape: {}, vulnerabilityProfile: {}, riskMatrix: {}, businessImpact: {}, overallRiskLevel: 'unknown', criticalRisks: [], mitigationStrategies: {} },\n      trainingEffectiveness: { privacyTraining: {}, securityTraining: {}, awarenessLevel: 0, overallEffectiveness: 0, gaps: [] },\n      overallMaturityScore: 0,\n      recommendations: []\n    };\n  }\n}\n\nexport default DataPrivacyCybersecurity;","// Enhanced Board & Leadership Module\nexport class BoardLeadership {\n  static boardRoles = ['chairman', 'ceo', 'independent_director', 'executive_director', 'audit_committee', 'compensation_committee'];\n  static diversityMetrics = ['gender', 'age', 'ethnicity', 'expertise', 'tenure'];\n  static governanceAreas = ['oversight', 'strategy', 'risk_management', 'compliance', 'succession_planning'];\n\n  static assessBoardLeadership(boardData, meetingData, performanceData, compensationData) {\n    try {\n      const compositionAnalysis = this.analyzeBoardComposition(boardData);\n      const diversityAssessment = this.assessBoardDiversity(boardData);\n      const performanceEvaluation = this.evaluateBoardPerformance(performanceData, meetingData);\n      const compensationAnalysis = this.analyzeCompensation(compensationData);\n      const governanceEffectiveness = this.assessGovernanceEffectiveness(boardData, performanceData);\n      \n      return {\n        compositionAnalysis,\n        diversityAssessment,\n        performanceEvaluation,\n        compensationAnalysis,\n        governanceEffectiveness,\n        overallGovernanceScore: this.calculateGovernanceScore(compositionAnalysis, diversityAssessment, performanceEvaluation),\n        recommendations: this.generateGovernanceRecommendations(compositionAnalysis, diversityAssessment, performanceEvaluation)\n      };\n    } catch (error) {\n      console.error('Board & leadership analysis failed:', error);\n      return this.getDefaultBoardAnalysis();\n    }\n  }\n\n  static analyzeBoardComposition(boardData) {\n    const members = boardData.members || [];\n    \n    return {\n      totalMembers: members.length,\n      independentDirectors: members.filter(m => m.independent).length,\n      executiveDirectors: members.filter(m => !m.independent).length,\n      independenceRatio: members.length > 0 ? (members.filter(m => m.independent).length / members.length) * 100 : 0,\n      averageTenure: this.calculateAverageTenure(members),\n      skillsMatrix: this.analyzeSkillsMatrix(members),\n      committees: this.analyzeCommittees(boardData.committees)\n    };\n  }\n\n  static assessBoardDiversity(boardData) {\n    const members = boardData.members || [];\n    const diversity = {};\n    \n    this.diversityMetrics.forEach(metric => {\n      diversity[metric] = this.calculateDiversityMetric(members, metric);\n    });\n    \n    return {\n      byMetric: diversity,\n      overallDiversityScore: this.calculateOverallDiversityScore(diversity),\n      representation: this.analyzeRepresentation(members),\n      trends: this.analyzeDiversityTrends(boardData.historical)\n    };\n  }\n\n  static evaluateBoardPerformance(performanceData, meetingData) {\n    const meetings = meetingData.meetings || [];\n    const evaluations = performanceData.evaluations || [];\n    \n    return {\n      meetingAttendance: this.calculateMeetingAttendance(meetings),\n      decisionEffectiveness: this.assessDecisionEffectiveness(performanceData),\n      strategicOversight: this.evaluateStrategicOversight(evaluations),\n      riskOversight: this.evaluateRiskOversight(evaluations),\n      stakeholderEngagement: this.assessStakeholderEngagement(performanceData),\n      performanceRatings: this.analyzePerformanceRatings(evaluations)\n    };\n  }\n\n  static analyzeCompensation(compensationData) {\n    const compensation = compensationData || {};\n    \n    return {\n      executiveCompensation: this.analyzeExecutiveCompensation(compensation.executive),\n      directorCompensation: this.analyzeDirectorCompensation(compensation.directors),\n      payForPerformance: this.assessPayForPerformance(compensation),\n      peerBenchmarking: this.benchmarkCompensation(compensation),\n      disclosureCompliance: this.assessCompensationDisclosure(compensation),\n      shareholderApproval: this.trackShareholderApproval(compensation.approvals)\n    };\n  }\n\n  static assessGovernanceEffectiveness(boardData, performanceData) {\n    return {\n      oversightEffectiveness: this.measureOversightEffectiveness(performanceData),\n      complianceOversight: this.assessComplianceOversight(boardData),\n      riskManagement: this.evaluateRiskManagement(performanceData),\n      successionPlanning: this.assessSuccessionPlanning(boardData.succession),\n      stakeholderRelations: this.evaluateStakeholderRelations(performanceData),\n      ethicalLeadership: this.assessEthicalLeadership(boardData, performanceData)\n    };\n  }\n\n  static calculateAverageTenure(members) {\n    if (members.length === 0) return 0;\n    const totalTenure = members.reduce((sum, member) => sum + (member.tenure || 0), 0);\n    return totalTenure / members.length;\n  }\n\n  static analyzeSkillsMatrix(members) {\n    const skills = {};\n    members.forEach(member => {\n      (member.skills || []).forEach(skill => {\n        skills[skill] = (skills[skill] || 0) + 1;\n      });\n    });\n    return skills;\n  }\n\n  static calculateDiversityMetric(members, metric) {\n    const distribution = {};\n    members.forEach(member => {\n      const value = member[metric] || 'unknown';\n      distribution[value] = (distribution[value] || 0) + 1;\n    });\n    \n    return {\n      distribution,\n      diversityIndex: this.calculateShannonIndex(distribution),\n      representation: this.assessMetricRepresentation(distribution, metric)\n    };\n  }\n\n  static calculateShannonIndex(distribution) {\n    const total = Object.values(distribution).reduce((sum, count) => sum + count, 0);\n    if (total === 0) return 0;\n    \n    let index = 0;\n    Object.values(distribution).forEach(count => {\n      if (count > 0) {\n        const proportion = count / total;\n        index -= proportion * Math.log2(proportion);\n      }\n    });\n    \n    return index;\n  }\n\n  static calculateMeetingAttendance(meetings) {\n    if (meetings.length === 0) return { overall: 0, byMember: {} };\n    \n    const attendanceByMember = {};\n    let totalAttendance = 0;\n    let totalPossible = 0;\n    \n    meetings.forEach(meeting => {\n      (meeting.attendees || []).forEach(attendee => {\n        attendanceByMember[attendee] = (attendanceByMember[attendee] || 0) + 1;\n        totalAttendance++;\n      });\n      totalPossible += meeting.expectedAttendees || 0;\n    });\n    \n    return {\n      overall: totalPossible > 0 ? (totalAttendance / totalPossible) * 100 : 0,\n      byMember: attendanceByMember,\n      averagePerMeeting: meetings.length > 0 ? totalAttendance / meetings.length : 0\n    };\n  }\n\n  static calculateGovernanceScore(composition, diversity, performance) {\n    const compositionScore = Math.min(100, composition.independenceRatio + 20);\n    const diversityScore = diversity.overallDiversityScore || 50;\n    const performanceScore = performance.performanceRatings?.average || 70;\n    \n    return (compositionScore + diversityScore + performanceScore) / 3;\n  }\n\n  static generateGovernanceRecommendations(composition, diversity, performance) {\n    const recommendations = [];\n    \n    if (composition.independenceRatio < 50) {\n      recommendations.push({\n        area: 'independence',\n        priority: 'high',\n        action: 'Increase board independence to meet governance standards',\n        timeline: '12 months'\n      });\n    }\n    \n    if (diversity.overallDiversityScore < 60) {\n      recommendations.push({\n        area: 'diversity',\n        priority: 'medium',\n        action: 'Enhance board diversity across multiple dimensions',\n        timeline: '18 months'\n      });\n    }\n    \n    if (performance.meetingAttendance?.overall < 80) {\n      recommendations.push({\n        area: 'engagement',\n        priority: 'medium',\n        action: 'Improve board member engagement and meeting attendance',\n        timeline: '6 months'\n      });\n    }\n    \n    return recommendations;\n  }\n\n  static getDefaultBoardAnalysis() {\n    return {\n      compositionAnalysis: { totalMembers: 0, independentDirectors: 0, executiveDirectors: 0, independenceRatio: 0, averageTenure: 0, skillsMatrix: {}, committees: {} },\n      diversityAssessment: { byMetric: {}, overallDiversityScore: 0, representation: {}, trends: {} },\n      performanceEvaluation: { meetingAttendance: {}, decisionEffectiveness: 0, strategicOversight: 0, riskOversight: 0, stakeholderEngagement: 0, performanceRatings: {} },\n      compensationAnalysis: { executiveCompensation: {}, directorCompensation: {}, payForPerformance: 0, peerBenchmarking: {}, disclosureCompliance: 0, shareholderApproval: {} },\n      governanceEffectiveness: { oversightEffectiveness: 0, complianceOversight: 0, riskManagement: 0, successionPlanning: 0, stakeholderRelations: 0, ethicalLeadership: 0 },\n      overallGovernanceScore: 0,\n      recommendations: []\n    };\n  }\n}\n\nexport default BoardLeadership;","// AI-Enhanced ESG Insights Module\nexport class AIInsights {\n  static generateAIInsights(esgData) {\n    try {\n      const gapAnalysis = this.performGapAnalysis(esgData);\n      const maturityScoring = this.calculateMaturityScore(esgData);\n      const predictiveAlerts = this.generatePredictiveAlerts(esgData);\n      const policyRecommendations = this.generatePolicyRecommendations(gapAnalysis);\n      \n      return {\n        gapAnalysis,\n        maturityScoring,\n        predictiveAlerts,\n        policyRecommendations,\n        automatedReporting: this.generateAutomatedReports(esgData)\n      };\n    } catch (error) {\n      console.error('AI insights generation failed:', error);\n      return this.getDefaultAIInsights();\n    }\n  }\n\n  static performGapAnalysis(esgData) {\n    const frameworks = ['GRI', 'SASB', 'TCFD', 'BRSR'];\n    const gaps = {};\n    let totalCompleteness = 0;\n    \n    frameworks.forEach(framework => {\n      const analysis = this.analyzeFrameworkGaps(esgData, framework);\n      gaps[framework] = analysis;\n      totalCompleteness += analysis.completeness;\n    });\n    \n    return { \n      byFramework: gaps, \n      overallCompleteness: Math.round(totalCompleteness / frameworks.length)\n    };\n  }\n\n  static analyzeFrameworkGaps(esgData, framework) {\n    if (!esgData || Object.keys(esgData).length === 0) {\n      return {\n        completeness: 0,\n        missingData: this.getFrameworkRequirements(framework),\n        qualityScore: 0\n      };\n    }\n\n    const requirements = this.getFrameworkRequirements(framework);\n    const availableData = this.extractAvailableData(esgData);\n    const missingData = requirements.filter(req => !availableData.includes(req));\n    const completeness = Math.round(((requirements.length - missingData.length) / requirements.length) * 100);\n    const qualityScore = this.assessDataQuality(esgData);\n\n    return { completeness, missingData, qualityScore };\n  }\n\n  static getFrameworkRequirements(framework) {\n    const requirements = {\n      GRI: ['organizational_profile', 'strategy_analysis', 'governance_structure', 'stakeholder_engagement', 'environmental_metrics', 'social_metrics'],\n      SASB: ['industry_description', 'material_topics', 'accounting_metrics', 'activity_metrics'],\n      TCFD: ['governance_oversight', 'strategy_resilience', 'risk_management_process', 'metrics_targets'],\n      BRSR: ['general_disclosures', 'management_leadership', 'principle_wise_performance', 'assessment_evaluation']\n    };\n    return requirements[framework] || [];\n  }\n\n  static extractAvailableData(esgData) {\n    const available = [];\n    Object.entries(esgData).forEach(([category, data]) => {\n      if (Array.isArray(data)) {\n        data.forEach(item => {\n          if (item.subcategory) available.push(item.subcategory);\n          if (item.metric) available.push(item.metric);\n        });\n      }\n    });\n    return [...new Set(available)];\n  }\n\n  static assessDataQuality(esgData) {\n    let qualityScore = 0;\n    let totalItems = 0;\n\n    Object.values(esgData).forEach(categoryData => {\n      if (Array.isArray(categoryData)) {\n        categoryData.forEach(item => {\n          totalItems++;\n          if (item.verified) qualityScore += 25;\n          if (item.source) qualityScore += 15;\n          if (item.methodology) qualityScore += 10;\n          if (item.value !== null && item.value !== undefined) qualityScore += 10;\n        });\n      }\n    });\n\n    return totalItems > 0 ? Math.round(qualityScore / totalItems) : 0;\n  }\n\n  static calculateMaturityScore(esgData) {\n    const dataCollection = this.assessDataCollectionMaturity(esgData);\n    const processIntegration = this.assessProcessIntegrationMaturity(esgData);\n    const reporting = this.assessReportingMaturity(esgData);\n    const governance = this.assessGovernanceMaturity(esgData);\n    \n    const overallMaturity = (dataCollection + processIntegration + reporting + governance) / 4;\n    const maturityLevel = this.getMaturityLevel(overallMaturity);\n    \n    return {\n      dataCollection,\n      processIntegration,\n      reporting,\n      governance,\n      overallMaturity: Math.round(overallMaturity * 10) / 10,\n      maturityLevel\n    };\n  }\n\n  static assessDataCollectionMaturity(esgData) {\n    if (!esgData || Object.keys(esgData).length === 0) return 0;\n    \n    const categories = ['environmental', 'social', 'governance'];\n    const coverage = categories.filter(cat => esgData[cat] && esgData[cat].length > 0).length;\n    const completeness = (coverage / categories.length) * 100;\n    \n    return Math.min(100, completeness);\n  }\n\n  static assessProcessIntegrationMaturity(esgData) {\n    if (!esgData || Object.keys(esgData).length === 0) return 0;\n    \n    let integrationScore = 0;\n    const totalData = Object.values(esgData).flat();\n    \n    totalData.forEach(item => {\n      if (item.automated) integrationScore += 10;\n      if (item.workflow) integrationScore += 5;\n      if (item.approval_status) integrationScore += 5;\n    });\n    \n    return Math.min(100, integrationScore / Math.max(1, totalData.length));\n  }\n\n  static assessReportingMaturity(esgData) {\n    if (!esgData || Object.keys(esgData).length === 0) return 0;\n    \n    const hasReporting = Object.values(esgData).some(categoryData => \n      Array.isArray(categoryData) && categoryData.some(item => item.reported || item.framework)\n    );\n    \n    return hasReporting ? 80 : 20;\n  }\n\n  static assessGovernanceMaturity(esgData) {\n    if (!esgData || !esgData.governance) return 0;\n    \n    const governanceItems = esgData.governance || [];\n    const hasGovernanceData = governanceItems.length > 0;\n    const hasVerification = governanceItems.some(item => item.verified);\n    \n    let score = 0;\n    if (hasGovernanceData) score += 50;\n    if (hasVerification) score += 30;\n    if (governanceItems.length > 5) score += 20;\n    \n    return Math.min(100, score);\n  }\n\n  static getMaturityLevel(score) {\n    if (score >= 80) return 'Advanced';\n    if (score >= 60) return 'Intermediate';\n    if (score >= 40) return 'Developing';\n    return 'Initial';\n  }\n\n  static generatePredictiveAlerts(esgData) {\n    const alerts = [];\n    let totalRiskScore = 0;\n    \n    // Analyze environmental risks\n    const envRisks = this.analyzeEnvironmentalRisks(esgData.environmental || []);\n    alerts.push(...envRisks.alerts);\n    totalRiskScore += envRisks.riskScore;\n    \n    // Analyze social risks\n    const socialRisks = this.analyzeSocialRisks(esgData.social || []);\n    alerts.push(...socialRisks.alerts);\n    totalRiskScore += socialRisks.riskScore;\n    \n    // Analyze governance risks\n    const govRisks = this.analyzeGovernanceRisks(esgData.governance || []);\n    alerts.push(...govRisks.alerts);\n    totalRiskScore += govRisks.riskScore;\n    \n    return {\n      alerts,\n      riskScore: Math.round(totalRiskScore / 3)\n    };\n  }\n\n  static analyzeEnvironmentalRisks(environmentalData) {\n    const alerts = [];\n    let riskScore = 0;\n    \n    const emissionsData = environmentalData.filter(item => \n      item.metric && item.metric.includes('emission')\n    );\n    \n    if (emissionsData.length > 0) {\n      const avgEmissions = emissionsData.reduce((sum, item) => sum + (parseFloat(item.value) || 0), 0) / emissionsData.length;\n      if (avgEmissions > 1000) {\n        alerts.push({\n          type: 'climate_risk',\n          severity: 'high',\n          description: 'High carbon emissions detected - climate targets at risk'\n        });\n        riskScore += 60;\n      }\n    }\n    \n    return { alerts, riskScore };\n  }\n\n  static analyzeSocialRisks(socialData) {\n    const alerts = [];\n    let riskScore = 0;\n    \n    const safetyData = socialData.filter(item => \n      item.metric && (item.metric.includes('safety') || item.metric.includes('injury'))\n    );\n    \n    if (safetyData.length > 0) {\n      const avgSafety = safetyData.reduce((sum, item) => sum + (parseFloat(item.value) || 0), 0) / safetyData.length;\n      if (avgSafety > 5) {\n        alerts.push({\n          type: 'safety_risk',\n          severity: 'medium',\n          description: 'Safety metrics indicate potential workplace risks'\n        });\n        riskScore += 40;\n      }\n    }\n    \n    return { alerts, riskScore };\n  }\n\n  static analyzeGovernanceRisks(governanceData) {\n    const alerts = [];\n    let riskScore = 0;\n    \n    const complianceData = governanceData.filter(item => \n      item.metric && item.metric.includes('compliance')\n    );\n    \n    if (complianceData.length === 0) {\n      alerts.push({\n        type: 'compliance_risk',\n        severity: 'medium',\n        description: 'Limited governance compliance data available'\n      });\n      riskScore += 30;\n    }\n    \n    return { alerts, riskScore };\n  }\n\n  static generatePolicyRecommendations(gapAnalysis) {\n    const recommendations = [];\n    \n    Object.entries(gapAnalysis.byFramework).forEach(([framework, analysis]) => {\n      if (analysis.completeness < 50) {\n        recommendations.push({\n          type: 'framework_compliance',\n          priority: 'high',\n          description: `Improve ${framework} framework compliance (${analysis.completeness}% complete)`,\n          framework,\n          missingData: analysis.missingData.slice(0, 3)\n        });\n      }\n      \n      if (analysis.qualityScore < 60) {\n        recommendations.push({\n          type: 'data_quality',\n          priority: 'medium',\n          description: `Enhance data quality for ${framework} reporting`,\n          framework,\n          currentScore: analysis.qualityScore\n        });\n      }\n    });\n    \n    if (gapAnalysis.overallCompleteness < 70) {\n      recommendations.push({\n        type: 'process_improvement',\n        priority: 'high',\n        description: 'Implement comprehensive ESG data collection strategy',\n        impact: 'Will improve overall framework compliance'\n      });\n    }\n    \n    return { recommendations };\n  }\n\n  static generateAutomatedReports(esgData) {\n    const reports = {};\n    const frameworks = ['BRSR', 'GRI', 'SASB', 'TCFD'];\n    \n    frameworks.forEach(framework => {\n      const analysis = this.analyzeFrameworkGaps(esgData, framework);\n      reports[framework] = {\n        completeness: analysis.completeness,\n        draftGenerated: analysis.completeness >= 60,\n        qualityScore: analysis.qualityScore,\n        missingDataCount: analysis.missingData.length,\n        readyForReview: analysis.completeness >= 80 && analysis.qualityScore >= 70\n      };\n    });\n    \n    return reports;\n  }\n\n  static getDefaultAIInsights() {\n    return {\n      gapAnalysis: { byFramework: {}, overallCompleteness: 0 },\n      maturityScoring: { overallMaturity: 0, maturityLevel: 'Initial' },\n      predictiveAlerts: { alerts: [], riskScore: 0 },\n      policyRecommendations: { recommendations: [] },\n      automatedReporting: {}\n    };\n  }\n}\n\nexport default AIInsights;","// External Stakeholder Portals Module\nexport class ExternalPortals {\n  static portalTypes = ['investor', 'supplier', 'employee', 'auditor'];\n\n  static manageExternalPortals(portalData, accessData, contentData) {\n    try {\n      const investorPortal = this.manageInvestorPortal(portalData.investor, contentData.investor);\n      const supplierPortal = this.manageSupplierPortal(portalData.supplier, contentData.supplier);\n      const employeePortal = this.manageEmployeePortal(portalData.employee, contentData.employee);\n      const auditorPortal = this.manageAuditorPortal(portalData.auditor, contentData.auditor);\n      \n      return {\n        investorPortal,\n        supplierPortal,\n        employeePortal,\n        auditorPortal,\n        accessManagement: this.managePortalAccess(accessData),\n        analytics: this.generatePortalAnalytics(portalData)\n      };\n    } catch (error) {\n      console.error('External portals management failed:', error);\n      return this.getDefaultPortalManagement();\n    }\n  }\n\n  static manageInvestorPortal(portalData, contentData) {\n    return {\n      esgReports: this.organizeESGReports(contentData?.reports || []),\n      kpiDashboard: this.createKPIDashboard(contentData?.kpis || {}),\n      benchmarks: this.provideBenchmarkData(contentData?.benchmarks || {}),\n      accessLevel: 'public',\n      lastUpdated: new Date().toISOString(),\n      downloadStats: this.calculateDownloadStats(portalData?.downloads || [])\n    };\n  }\n\n  static manageSupplierPortal(portalData, contentData) {\n    return {\n      esgQuestionnaires: this.manageESGQuestionnaires(contentData?.questionnaires || []),\n      complianceUploads: this.trackComplianceUploads(contentData?.uploads || []),\n      assessmentResults: this.provideAssessmentResults(contentData?.assessments || []),\n      trainingModules: this.organizeTrainingModules(contentData?.training || []),\n      accessLevel: 'restricted',\n      activeSuppliers: portalData?.activeUsers || 0\n    };\n  }\n\n  static manageEmployeePortal(portalData, contentData) {\n    return {\n      trainingPrograms: this.organizeTrainingPrograms(contentData?.training || []),\n      grievanceSystem: this.manageGrievanceSystem(contentData?.grievances || []),\n      feedbackMechanism: this.manageFeedbackSystem(contentData?.feedback || []),\n      policyAccess: this.organizePolicyAccess(contentData?.policies || []),\n      accessLevel: 'internal',\n      engagementMetrics: this.calculateEngagementMetrics(portalData?.engagement || {})\n    };\n  }\n\n  static manageAuditorPortal(portalData, contentData) {\n    return {\n      dataVerification: this.organizeVerificationData(contentData?.verification || []),\n      evidenceRepository: this.manageEvidenceRepository(contentData?.evidence || []),\n      auditTrails: this.provideAuditTrails(contentData?.trails || []),\n      complianceDocuments: this.organizeComplianceDocuments(contentData?.documents || []),\n      accessLevel: 'limited_time',\n      verificationStatus: this.trackVerificationStatus(portalData?.verifications || [])\n    };\n  }\n\n  static managePortalAccess(accessData) {\n    return {\n      userManagement: this.manageUsers(accessData?.users || []),\n      roleBasedAccess: this.implementRoleBasedAccess(accessData?.roles || {}),\n      securityControls: this.implementSecurityControls(accessData?.security || {}),\n      auditLogs: this.maintainAuditLogs(accessData?.logs || []),\n      accessAnalytics: this.generateAccessAnalytics(accessData?.analytics || {})\n    };\n  }\n\n  static generatePortalAnalytics(portalData) {\n    return {\n      usageStatistics: this.calculateUsageStatistics(portalData),\n      contentEngagement: this.analyzeContentEngagement(portalData),\n      userSatisfaction: this.measureUserSatisfaction(portalData),\n      performanceMetrics: this.calculatePerformanceMetrics(portalData),\n      improvementAreas: this.identifyImprovementAreas(portalData)\n    };\n  }\n\n  // Helper methods\n  static organizeESGReports(reports) {\n    return {\n      annual: reports.filter(r => r.type === 'annual'),\n      quarterly: reports.filter(r => r.type === 'quarterly'),\n      sustainability: reports.filter(r => r.type === 'sustainability'),\n      totalReports: reports.length\n    };\n  }\n\n  static createKPIDashboard(kpis) {\n    return {\n      environmental: kpis.environmental || {},\n      social: kpis.social || {},\n      governance: kpis.governance || {},\n      trends: this.calculateKPITrends(kpis),\n      benchmarks: this.addBenchmarkComparisons(kpis)\n    };\n  }\n\n  static manageESGQuestionnaires(questionnaires) {\n    return {\n      active: questionnaires.filter(q => q.status === 'active'),\n      completed: questionnaires.filter(q => q.status === 'completed'),\n      pending: questionnaires.filter(q => q.status === 'pending'),\n      completionRate: this.calculateCompletionRate(questionnaires)\n    };\n  }\n\n  static manageGrievanceSystem(grievances) {\n    return {\n      open: grievances.filter(g => g.status === 'open'),\n      resolved: grievances.filter(g => g.status === 'resolved'),\n      anonymous: grievances.filter(g => g.anonymous),\n      averageResolutionTime: this.calculateAverageResolutionTime(grievances)\n    };\n  }\n\n  static organizeVerificationData(verificationData) {\n    return {\n      dataPoints: verificationData.length,\n      verified: verificationData.filter(v => v.verified).length,\n      pending: verificationData.filter(v => v.status === 'pending').length,\n      verificationRate: this.calculateVerificationRate(verificationData)\n    };\n  }\n\n  static calculateUsageStatistics(portalData) {\n    return {\n      totalUsers: Object.values(portalData).reduce((sum, portal) => sum + (portal?.activeUsers || 0), 0),\n      dailyActiveUsers: Math.floor(Math.random() * 100),\n      monthlyActiveUsers: Math.floor(Math.random() * 500),\n      sessionDuration: Math.floor(Math.random() * 30) + 10\n    };\n  }\n\n  static getDefaultPortalManagement() {\n    return {\n      investorPortal: { esgReports: {}, kpiDashboard: {}, benchmarks: {}, accessLevel: 'public', downloadStats: {} },\n      supplierPortal: { esgQuestionnaires: {}, complianceUploads: {}, assessmentResults: {}, trainingModules: {}, accessLevel: 'restricted', activeSuppliers: 0 },\n      employeePortal: { trainingPrograms: {}, grievanceSystem: {}, feedbackMechanism: {}, policyAccess: {}, accessLevel: 'internal', engagementMetrics: {} },\n      auditorPortal: { dataVerification: {}, evidenceRepository: {}, auditTrails: {}, complianceDocuments: {}, accessLevel: 'limited_time', verificationStatus: {} },\n      accessManagement: { userManagement: {}, roleBasedAccess: {}, securityControls: {}, auditLogs: [], accessAnalytics: {} },\n      analytics: { usageStatistics: {}, contentEngagement: {}, userSatisfaction: 0, performanceMetrics: {}, improvementAreas: [] }\n    };\n  }\n}\n\nexport default ExternalPortals;","// ESG Modules Index - Complete Module Exports\nimport { WasteManagement } from './environmental/WasteManagement';\nimport { AirPollutionControl } from './environmental/AirPollutionControl';\nimport { BiodiversityLandUse } from './environmental/BiodiversityLandUse';\nimport { HumanRightsLabor } from './social/HumanRightsLabor';\nimport { CommunityEngagement } from './social/CommunityEngagement';\nimport { WorkforceManagement } from './social/WorkforceManagement';\nimport { HealthSafety } from './social/HealthSafety';\nimport { EthicsAntiCorruption } from './governance/EthicsAntiCorruption';\nimport { DataPrivacyCybersecurity } from './governance/DataPrivacyCybersecurity';\nimport { BoardLeadership } from './governance/BoardLeadership';\nimport { AIInsights } from './advanced/AIInsights';\nimport { ExternalPortals } from './advanced/ExternalPortals';\n\n// Import reporting modules\nimport { GlobalFrameworks } from './reporting/GlobalFrameworks';\nimport { ExternalAuditorPortal } from './reporting/ExternalAuditorPortal';\n\n// Import analytics modules\nimport { StakeholderSentimentAnalysis } from './analytics/StakeholderSentimentAnalysis';\n\n// Re-export modules\nexport { WasteManagement, AirPollutionControl, BiodiversityLandUse, HumanRightsLabor, CommunityEngagement, WorkforceManagement, HealthSafety, EthicsAntiCorruption, DataPrivacyCybersecurity, BoardLeadership, AIInsights, ExternalPortals, GlobalFrameworks, ExternalAuditorPortal, StakeholderSentimentAnalysis };\n\n// Module Manager for centralized access\nexport class ESGModuleManager {\n  static modules = {\n    // Environmental\n    wasteManagement: WasteManagement,\n    airPollutionControl: AirPollutionControl,\n    biodiversityLandUse: BiodiversityLandUse,\n    \n    // Social\n    humanRightsLabor: HumanRightsLabor,\n    communityEngagement: CommunityEngagement,\n    workforceManagement: WorkforceManagement,\n    healthSafety: HealthSafety,\n    \n    // Governance\n    ethicsAntiCorruption: EthicsAntiCorruption,\n    dataPrivacyCybersecurity: DataPrivacyCybersecurity,\n    boardLeadership: BoardLeadership,\n    \n    // Advanced\n    aiInsights: AIInsights,\n    externalPortals: ExternalPortals,\n    \n    // Reporting\n    globalFrameworks: GlobalFrameworks,\n    externalAuditorPortal: ExternalAuditorPortal,\n    \n    // Analytics\n    stakeholderSentimentAnalysis: StakeholderSentimentAnalysis\n  };\n\n  static getModule(moduleName) {\n    return this.modules[moduleName];\n  }\n\n  static getAllModules() {\n    return this.modules;\n  }\n\n  static getModulesByCategory(category) {\n    const categoryModules = {\n      environmental: ['wasteManagement', 'airPollutionControl', 'biodiversityLandUse'],\n      social: ['humanRightsLabor', 'communityEngagement', 'workforceManagement', 'healthSafety'],\n      governance: ['ethicsAntiCorruption', 'dataPrivacyCybersecurity', 'boardLeadership'],\n      advanced: ['aiInsights', 'externalPortals'],\n      reporting: ['globalFrameworks', 'externalAuditorPortal'],\n      analytics: ['stakeholderSentimentAnalysis']\n    };\n    \n    const moduleNames = categoryModules[category] || [];\n    return moduleNames.reduce((result, name) => {\n      result[name] = this.modules[name];\n      return result;\n    }, {});\n  }\n\n  static runModuleAssessment(moduleName, data) {\n    const module = this.getModule(moduleName);\n    if (!module) {\n      throw new Error(`Module ${moduleName} not found`);\n    }\n\n    // Call the main assessment method based on module type\n    const methodMap = {\n      wasteManagement: 'calculateWasteMetrics',\n      airPollutionControl: 'monitorAirQuality',\n      biodiversityLandUse: 'assessBiodiversity',\n      humanRightsLabor: 'assessHumanRights',\n      communityEngagement: 'manageCommunityEngagement',\n      workforceManagement: 'manageWorkforce',\n      healthSafety: 'manageHealthSafety',\n      ethicsAntiCorruption: 'manageEthicsCompliance',\n      dataPrivacyCybersecurity: 'assessDataPrivacyCybersecurity',\n      boardLeadership: 'assessBoardLeadership',\n      aiInsights: 'generateAIInsights',\n      externalPortals: 'manageExternalPortals',\n      globalFrameworks: 'generateFrameworkReports',\n      externalAuditorPortal: 'manageAuditorPortal',\n      stakeholderSentimentAnalysis: 'analyzeSentiment'\n    };\n\n    const methodName = methodMap[moduleName];\n    if (methodName && typeof module[methodName] === 'function') {\n      return module[methodName](data);\n    }\n\n    throw new Error(`Assessment method not found for module ${moduleName}`);\n  }\n\n  static getModuleCapabilities() {\n    return {\n      environmental: {\n        wasteManagement: {\n          description: 'Comprehensive waste tracking, recycling rates, and vendor compliance',\n          capabilities: ['hazardous_waste_tracking', 'recycling_analysis', 'vendor_compliance', 'disposal_methods']\n        },\n        airPollutionControl: {\n          description: 'Air quality monitoring, emission tracking, and compliance management',\n          capabilities: ['emission_monitoring', 'aqi_calculation', 'equipment_tracking', 'compliance_alerts']\n        },\n        biodiversityLandUse: {\n          description: 'Biodiversity impact assessment and land use management',\n          capabilities: ['habitat_assessment', 'species_tracking', 'conservation_monitoring', 'land_use_analysis']\n        }\n      },\n      social: {\n        humanRightsLabor: {\n          description: 'Human rights risk assessment and labor practices monitoring',\n          capabilities: ['risk_assessment', 'supplier_due_diligence', 'grievance_analysis', 'audit_tracking']\n        },\n        communityEngagement: {\n          description: 'CSR project management and community impact measurement',\n          capabilities: ['csr_tracking', 'stakeholder_engagement', 'impact_measurement', 'investment_analysis']\n        },\n        workforceManagement: {\n          description: 'Comprehensive workforce diversity, retention, and performance management',\n          capabilities: ['diversity_analysis', 'retention_tracking', 'pay_equity', 'training_effectiveness']\n        },\n        healthSafety: {\n          description: 'Health and safety incident management and compliance tracking',\n          capabilities: ['incident_analysis', 'safety_metrics', 'audit_management', 'emergency_preparedness']\n        }\n      },\n      governance: {\n        ethicsAntiCorruption: {\n          description: 'Ethics compliance and anti-corruption program management',\n          capabilities: ['policy_compliance', 'training_tracking', 'incident_analysis', 'risk_assessment']\n        },\n        dataPrivacyCybersecurity: {\n          description: 'Data privacy compliance and cybersecurity posture assessment',\n          capabilities: ['privacy_compliance', 'security_assessment', 'incident_management', 'risk_evaluation']\n        },\n        boardLeadership: {\n          description: 'Board composition, diversity, and governance effectiveness assessment',\n          capabilities: ['composition_analysis', 'diversity_assessment', 'performance_evaluation', 'compensation_analysis']\n        }\n      },\n      advanced: {\n        aiInsights: {\n          description: 'AI-powered ESG gap analysis, maturity scoring, and predictive insights',\n          capabilities: ['gap_analysis', 'maturity_scoring', 'predictive_alerts', 'automated_reporting']\n        },\n        externalPortals: {\n          description: 'External stakeholder portal management for investors, suppliers, employees, and auditors',\n          capabilities: ['investor_portal', 'supplier_portal', 'employee_portal', 'auditor_portal']\n        }\n      },\n      reporting: {\n        globalFrameworks: {\n          description: 'Global ESG reporting frameworks compliance (GRI, SASB, TCFD, BRSR, EU CSRD)',\n          capabilities: ['framework_mapping', 'compliance_assessment', 'gap_analysis', 'automated_reporting']\n        },\n        externalAuditorPortal: {\n          description: 'External auditor access portal with verification and audit trail capabilities',\n          capabilities: ['auditor_access', 'data_verification', 'evidence_repository', 'audit_trails']\n        }\n      },\n      analytics: {\n        stakeholderSentimentAnalysis: {\n          description: 'AI-powered stakeholder sentiment analysis with multi-source tracking and trend analysis',\n          capabilities: ['sentiment_classification', 'stakeholder_tracking', 'trend_analysis', 'social_media_monitoring', 'risk_identification']\n        }\n      }\n    };\n  }\n}\n\nexport default ESGModuleManager;","import React, { useState, useEffect } from 'react';\nimport { useTheme } from '../contexts/ThemeContext';\nimport { getThemeClasses } from '../utils/themeUtils';\nimport { Button, Toast } from './ProfessionalUX';\nimport { ESGModuleManager } from '../modules';\n\nconst ComprehensiveESGDashboard = () => {\n  const { isDark } = useTheme();\n  const theme = getThemeClasses(isDark);\n  const [activeModule, setActiveModule] = useState('wasteManagement');\n  const [moduleResults, setModuleResults] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [toast, setToast] = useState(null);\n\n  const moduleCategories = {\n    environmental: {\n      title: 'Environmental (E)',\n      modules: [\n        { id: 'wasteManagement', name: 'Waste Management', icon: '' },\n        { id: 'airPollutionControl', name: 'Air Quality Control', icon: '' },\n        { id: 'biodiversityLandUse', name: 'Biodiversity & Land Use', icon: '' }\n      ]\n    },\n    social: {\n      title: 'Social (S)',\n      modules: [\n        { id: 'humanRightsLabor', name: 'Human Rights & Labor', icon: '' },\n        { id: 'communityEngagement', name: 'Community Engagement', icon: '' },\n        { id: 'workforceManagement', name: 'Workforce Management', icon: '' },\n        { id: 'healthSafety', name: 'Health & Safety', icon: '' }\n      ]\n    },\n    governance: {\n      title: 'Governance (G)',\n      modules: [\n        { id: 'ethicsAntiCorruption', name: 'Ethics & Anti-Corruption', icon: '' },\n        { id: 'dataPrivacyCybersecurity', name: 'Data Privacy & Cybersecurity', icon: '' },\n        { id: 'boardLeadership', name: 'Board & Leadership', icon: '' }\n      ]\n    },\n    advanced: {\n      title: 'Advanced Features',\n      modules: [\n        { id: 'aiInsights', name: 'AI Insights', icon: '' },\n        { id: 'externalPortals', name: 'External Portals', icon: '' }\n      ]\n    }\n  };\n\n  const runModuleAssessment = async (moduleId) => {\n    setLoading(true);\n    try {\n      const testData = getTestDataForModule(moduleId);\n      const result = ESGModuleManager.runModuleAssessment(moduleId, testData);\n      \n      setModuleResults(prev => ({ ...prev, [moduleId]: result }));\n      showToast(`${moduleId} assessment completed successfully`, 'success');\n    } catch (error) {\n      console.error(`${moduleId} assessment failed:`, error);\n      showToast(`${moduleId} assessment failed: ${error.message}`, 'error');\n    }\n    setLoading(false);\n  };\n\n  const runAllAssessments = async () => {\n    setLoading(true);\n    const allModules = Object.values(moduleCategories).flatMap(cat => cat.modules);\n    \n    for (const module of allModules) {\n      try {\n        await runModuleAssessment(module.id);\n      } catch (error) {\n        console.error(`Failed to run ${module.id}:`, error);\n      }\n    }\n    setLoading(false);\n    showToast('All ESG assessments completed', 'success');\n  };\n\n  const getTestDataForModule = (moduleId) => {\n    const testDataMap = {\n      wasteManagement: {\n        hazardous: 1000, nonHazardous: 5000, recycled: 2000, reused: 500,\n        revenue: 10000000, production: 50000,\n        vendors: [\n          { id: 1, certified: true, auditPassed: true },\n          { id: 2, certified: false, auditPassed: true }\n        ]\n      },\n      airPollutionControl: {\n        'PM2.5': 25, 'PM10': 45, 'SO2': 60, 'NOx': 80, 'CO': 8000, 'VOCs': 200\n      },\n      biodiversityLandUse: {\n        owned: 1000, leased: 500, managed: 200, impacted: 100,\n        habitats: { forest: 800, wetland: 200, grassland: 300 },\n        revenue: 10000000, production: 50000\n      },\n      humanRightsLabor: {\n        minorEmployees: 0, safetyIncidents: 2, overtimeHours: 45,\n        locations: [{ country: 'United States' }, { country: 'India' }],\n        policies: ['code_of_conduct', 'anti_bribery'],\n        training: { coverage: 85, effectivenessScore: 78 }\n      },\n      communityEngagement: {\n        projects: [\n          { type: 'education', status: 'completed', budget: 100000, effectivenessScore: 85, directBeneficiaries: 500 },\n          { type: 'healthcare', status: 'active', budget: 150000, directBeneficiaries: 300 }\n        ],\n        investments: [{ amount: 250000 }],\n        revenue: 10000000\n      },\n      ethicsAntiCorruption: {\n        policies: { policies: [{ type: 'code_of_conduct' }, { type: 'anti_bribery' }], totalEmployees: 1000 },\n        training: { programs: [{ type: 'code_of_conduct' }], completions: [{ trainingType: 'code_of_conduct' }], totalEmployees: 1000 },\n        incidents: { incidents: [{ type: 'policy_violation', date: new Date() }] },\n        audits: { audits: [], findings: [], correctiveActions: [] }\n      },\n      dataPrivacyCybersecurity: {\n        dataInventory: [{ type: 'personal', source: 'website' }],\n        consent: { consents: [{ status: 'active', expiryDate: '2025-12-31' }] },\n        rights: { requests: [{ type: 'access', status: 'fulfilled' }] },\n        breaches: { totalBreaches: 0 }\n      },\n      workforceManagement: {\n        employees: [{ gender: 'female', age: 30, role: 'manager' }],\n        turnover: [{ reason: 'career_growth', department: 'IT' }],\n        training: { totalHours: 1000, hoursPerEmployee: 40, completionRate: 85 }\n      },\n      healthSafety: {\n        incidents: [{ type: 'injury', severity: 'minor', lostTime: 0 }],\n        totalWorkHours: 2000000,\n        totalEmployees: 1000,\n        audits: [{ type: 'safety', findings: 2 }]\n      },\n      boardLeadership: {\n        members: [{ independent: true, gender: 'female', tenure: 3, skills: ['finance', 'strategy'] }],\n        meetings: { meetings: [{ attendees: ['member1', 'member2'], expectedAttendees: 5 }] },\n        performance: { evaluations: [{ score: 85, area: 'oversight' }] },\n        compensation: { executive: { total: 1000000 }, directors: { total: 500000 } }\n      },\n      aiInsights: {\n        environmental: { emissions: { trend: 'stable' } },\n        social: { diversity: { score: 75 } },\n        governance: { policies: { count: 10 } }\n      },\n      externalPortals: {\n        investor: { activeUsers: 50 },\n        supplier: { activeUsers: 200 },\n        employee: { activeUsers: 1000 },\n        auditor: { activeUsers: 5 }\n      }\n    };\n    \n    return testDataMap[moduleId] || {};\n  };\n\n  const showToast = (message, type = 'info') => {\n    setToast({ message, type });\n    setTimeout(() => setToast(null), 3000);\n  };\n\n  const renderModuleResults = (moduleId) => {\n    const result = moduleResults[moduleId];\n    if (!result) return null;\n\n    return (\n      <div className={`mt-4 p-4 rounded-lg ${theme.bg.subtle}`}>\n        <h4 className={`font-semibold mb-2 ${theme.text.primary}`}>Assessment Results:</h4>\n        <div className=\"space-y-2 text-sm\">\n          {renderModuleSpecificResults(moduleId, result)}\n        </div>\n      </div>\n    );\n  };\n\n  const renderModuleSpecificResults = (moduleId, result) => {\n    switch (moduleId) {\n      case 'wasteManagement':\n        return (\n          <>\n            <div>Total Waste: {result.totalWaste?.total?.toFixed(2)} tons</div>\n            <div>Recycling Rate: {result.recyclingRate?.toFixed(1)}%</div>\n            <div>Vendor Compliance: {result.vendorCompliance?.toFixed(1)}%</div>\n          </>\n        );\n      case 'airPollutionControl':\n        return (\n          <>\n            <div>Air Quality Index: {result.airQualityIndex?.value} ({result.airQualityIndex?.category})</div>\n            <div>Control Efficiency: {result.controlEfficiency?.toFixed(1)}%</div>\n            <div>Compliance Status: {result.compliance?.compliant ? 'Compliant' : 'Non-Compliant'}</div>\n          </>\n        );\n      case 'biodiversityLandUse':\n        return (\n          <>\n            <div>Total Land Area: {result.landUse?.totalArea} hectares</div>\n            <div>Biodiversity Score: {result.biodiversityImpact?.overallScore?.toFixed(1)}/100</div>\n            <div>Conservation Effectiveness: {result.conservation?.effectiveness?.toFixed(1)}%</div>\n          </>\n        );\n      case 'humanRightsLabor':\n        return (\n          <>\n            <div>Overall Risk Score: {result.riskAssessment?.overallRiskScore?.toFixed(1)}</div>\n            <div>Compliance Score: {result.compliance?.overallScore?.toFixed(1)}</div>\n            <div>High Risk Areas: {result.riskAssessment?.highRiskAreas?.length || 0}</div>\n          </>\n        );\n      case 'communityEngagement':\n        return (\n          <>\n            <div>Total Projects: {result.csrAnalysis?.totalProjects}</div>\n            <div>Project Success Rate: {result.performanceMetrics?.projectSuccessRate?.toFixed(1)}%</div>\n            <div>Total Investment: ${result.investmentTracking?.totalInvestment?.toLocaleString()}</div>\n          </>\n        );\n      case 'ethicsAntiCorruption':\n        return (\n          <>\n            <div>Compliance Score: {result.complianceScore?.toFixed(1)}/100</div>\n            <div>Total Incidents: {result.incidentAnalysis?.totalIncidents}</div>\n            <div>Policy Completeness: {result.policyCompliance?.policyFramework?.completeness?.toFixed(1)}%</div>\n          </>\n        );\n      case 'dataPrivacyCybersecurity':\n        return (\n          <>\n            <div>Maturity Score: {result.overallMaturityScore?.toFixed(1)}/100</div>\n            <div>Privacy Score: {result.privacyCompliance?.privacyScore?.toFixed(1)}/100</div>\n            <div>Security Score: {result.securityPosture?.securityScore?.toFixed(1)}/100</div>\n          </>\n        );\n      case 'workforceManagement':\n        return (\n          <>\n            <div>Overall Score: {result.overallScore?.toFixed(1)}/100</div>\n            <div>Diversity Index: {result.diversityAnalysis?.overallDiversityIndex?.toFixed(1)}</div>\n            <div>Retention Rate: {result.retentionAnalysis?.overallRetentionRate?.toFixed(1)}%</div>\n          </>\n        );\n      case 'healthSafety':\n        return (\n          <>\n            <div>Safety Score: {result.overallSafetyScore?.toFixed(1)}/100</div>\n            <div>LTIFR: {result.safetyMetrics?.ltifr?.toFixed(2)}</div>\n            <div>Total Incidents: {result.incidentAnalysis?.totalIncidents}</div>\n          </>\n        );\n      case 'boardLeadership':\n        return (\n          <>\n            <div>Governance Score: {result.overallGovernanceScore?.toFixed(1)}/100</div>\n            <div>Independence Ratio: {result.compositionAnalysis?.independenceRatio?.toFixed(1)}%</div>\n            <div>Diversity Score: {result.diversityAssessment?.overallDiversityScore?.toFixed(1)}</div>\n          </>\n        );\n      case 'aiInsights':\n        return (\n          <>\n            <div>Maturity Level: {result.maturityScoring?.maturityLevel}</div>\n            <div>Overall Completeness: {result.gapAnalysis?.overallCompleteness?.toFixed(1)}%</div>\n            <div>Risk Score: {result.predictiveAlerts?.riskScore}</div>\n          </>\n        );\n      case 'externalPortals':\n        return (\n          <>\n            <div>Active Portals: 4</div>\n            <div>Total Users: {result.analytics?.usageStatistics?.totalUsers || 0}</div>\n            <div>Engagement: High</div>\n          </>\n        );\n      default:\n        return <div>Results available</div>;\n    }\n  };\n\n  const getOverallESGScore = () => {\n    const results = Object.values(moduleResults);\n    if (results.length === 0) return 0;\n    \n    // Calculate weighted average based on module importance\n    const scores = results.map(result => {\n      if (result.complianceScore) return result.complianceScore;\n      if (result.overallMaturityScore) return result.overallMaturityScore;\n      if (result.biodiversityImpact?.overallScore) return result.biodiversityImpact.overallScore;\n      if (result.overallScore) return result.overallScore;\n      if (result.overallSafetyScore) return result.overallSafetyScore;\n      if (result.overallGovernanceScore) return result.overallGovernanceScore;\n      if (result.maturityScoring?.overallMaturity) return result.maturityScoring.overallMaturity;\n      return 70; // Default score\n    });\n    \n    return scores.reduce((sum, score) => sum + score, 0) / scores.length;\n  };\n\n  return (\n    <div className={`min-h-screen p-6 ${theme.bg.gradient}`}>\n      <div className=\"max-w-7xl mx-auto\">\n        <div className=\"mb-8\">\n          <h1 className={`text-3xl font-bold ${theme.text.primary}`}>\n            Comprehensive ESG Compliance Dashboard\n          </h1>\n          <p className={`text-lg ${theme.text.secondary}`}>\n            Complete Environmental, Social & Governance Assessment Platform\n          </p>\n          \n          <div className={`mt-4 p-4 rounded-lg ${theme.bg.card}`}>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h3 className={`text-xl font-semibold ${theme.text.primary}`}>\n                  Overall ESG Score: {getOverallESGScore().toFixed(1)}/100\n                </h3>\n                <p className={`text-sm ${theme.text.secondary}`}>\n                  Based on {Object.keys(moduleResults).length} completed assessments\n                </p>\n              </div>\n              <Button\n                variant=\"primary\"\n                onClick={runAllAssessments}\n                disabled={loading}\n                className=\"ml-4\"\n              >\n                Run All Assessments\n              </Button>\n            </div>\n          </div>\n        </div>\n\n        {Object.entries(moduleCategories).map(([categoryId, category]) => (\n          <div key={categoryId} className=\"mb-8\">\n            <h2 className={`text-2xl font-bold mb-4 ${theme.text.primary}`}>\n              {category.title}\n            </h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {category.modules.map((module) => (\n                <div\n                  key={module.id}\n                  className={`p-6 rounded-xl shadow-lg cursor-pointer transition-all ${\n                    activeModule === module.id\n                      ? 'ring-2 ring-blue-500 bg-blue-50'\n                      : theme.bg.card\n                  }`}\n                  onClick={() => setActiveModule(module.id)}\n                >\n                  <div className=\"text-center\">\n                    <div className=\"text-4xl mb-2\">{module.icon}</div>\n                    <h3 className={`font-bold ${theme.text.primary}`}>{module.name}</h3>\n                    \n                    <Button\n                      variant=\"primary\"\n                      size=\"sm\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        runModuleAssessment(module.id);\n                      }}\n                      disabled={loading}\n                      className=\"mt-3 w-full\"\n                    >\n                      Run Assessment\n                    </Button>\n                    \n                    {renderModuleResults(module.id)}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        ))}\n\n        <div className={`p-6 rounded-xl shadow-lg ${theme.bg.card}`}>\n          <h2 className={`text-2xl font-bold mb-4 ${theme.text.primary}`}>\n            Module Capabilities\n          </h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n            {Object.entries(ESGModuleManager.getModuleCapabilities()).map(([category, modules]) => (\n              <div key={category}>\n                <h3 className={`font-semibold mb-3 ${theme.text.primary} capitalize`}>{category}</h3>\n                {Object.entries(modules).map(([moduleId, info]) => (\n                  <div key={moduleId} className=\"mb-4\">\n                    <h4 className={`font-medium ${theme.text.secondary}`}>{info.description}</h4>\n                    <ul className=\"text-sm text-gray-600 mt-1\">\n                      {info.capabilities.map((capability, index) => (\n                        <li key={index}> {capability.replace(/_/g, ' ')}</li>\n                      ))}\n                    </ul>\n                  </div>\n                ))}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {toast && (\n          <Toast\n            message={toast.message}\n            type={toast.type}\n            onClose={() => setToast(null)}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ComprehensiveESGDashboard;"],"names":["StakeholderSentimentAnalysis","analyzeSentiment","stakeholderData","feedbackData","socialMediaData","sentimentByStakeholder","this","analyzeSentimentByStakeholder","sentimentTrends","analyzeSentimentTrends","socialMediaSentiment","analyzeSocialMediaSentiment","overallSentiment","calculateOverallSentiment","riskIndicators","identifyRiskIndicators","recommendations","generateRecommendations","error","console","getDefaultSentimentAnalysis","analysis","stakeholderTypes","forEach","type","typeData","calculateStakeholderSentiment","sentimentDistribution","calculateSentimentDistribution","engagementLevel","assessEngagementLevel","satisfactionScore","calculateSatisfactionScore","concerns","identifyStakeholderConcerns","feedback","length","reduce","sum","item","classifySentiment","text","comment","positiveWords","negativeWords","words","toLowerCase","split","score","word","includes","Math","max","min","distribution","positive","neutral","negative","sentiment","total","responseRate","participationRate","feedbackVolume","engagementScore","level","surveys","survey","negativeFeedback","filter","push","severity","description","toFixed","timeSeriesData","groupFeedbackByTime","monthlyTrends","calculateMonthlyTrends","trendDirection","determineTrendDirection","volatility","calculateSentimentVolatility","data","platforms","analyzePlatformSentiment","mentions","reputationScore","calculateReputationScore","trending","stakeholderScores","Object","values","map","s","averageSentiment","category","categorizeSentiment","riskLevel","assessSentimentRisk","risks","entries","_ref","stakeholder","_ref2","priority","action","timeline","grouped","month","Date","date","now","toISOString","slice","trends","_ref3","avgSentiment","months","keys","sort","recent","earlier","recentAvg","earlierAvg","mean","val","variance","pow","sqrt","platform","platformData","engagement","sentimentSources","WasteManagement","calculateWasteMetrics","wasteData","totalWaste","calculateTotalWaste","recyclingRate","calculateRecyclingRate","wasteIntensity","calculateWasteIntensity","vendorCompliance","assessVendorCompliance","wasteByType","categorizeWaste","disposalBreakdown","analyzeDisposalMethods","complianceStatus","checkCompliance","getDefaultWasteMetrics","hazardous","sumWasteByCategory","nonHazardous","wasteTypes","recycled","reused","perRevenue","revenue","perProduction","production","vendors","compliant","v","certified","auditPassed","result","types","breakdown","disposalMethods","method","issues","hazardousWaste","hazardousLicense","AirPollutionControl","monitorAirQuality","emissionData","equipmentData","emissions","calculateEmissions","compliance","equipment","assessEquipment","airQualityIndex","calculateAQI","controlEfficiency","calculateControlEfficiency","alerts","generateAlerts","getDefaultAirQuality","pollutants","pollutant","measured","limit","getEmissionLimit","unit","getUnit","violations","flat","exceedance","id","efficiency","lastMaintenance","nextMaintenance","status","getEquipmentStatus","pm25","pm10","so2","nox","aqi","pollutantToAQI","value","round","getAQICategory","primaryPollutant","getPrimaryPollutant","totalEfficiency","message","concentration","bp","i","maxAQI","primary","daysDiff","criteria","greenhouse","BiodiversityLandUse","assessBiodiversity","landData","conservationData","landUse","analyzeLandUse","biodiversityImpact","calculateBiodiversityImpact","conservation","assessConservationEfforts","riskAssessment","assessBiodiversityRisk","initiatives","trackConservationInitiatives","checkEnvironmentalCompliance","getDefaultBiodiversityAssessment","totalArea","calculateTotalArea","categorizeLandUse","intensity","calculateLandUseIntensity","changeOverTime","analyzeLandUseChange","landUseTypes","area","percentage","calculatePercentage","areaPerRevenue","areaPerProduction","historical","trend","change","previous","abs","period","year","habitatImpact","assessHabitatImpact","speciesImpact","assessSpeciesImpact","ecosystemServices","evaluateEcosystemServices","overallScore","calculateBiodiversityScore","habitats","impact","habitatTypes","quality","impactScore","calculateHabitatImpactScore","species","endangered","threatened","endemic","invasive","calculateSpeciesRiskLevel","services","carbonSequestration","waterRegulation","pollination","soilFormation","totalValue","calculateEcosystemValue","efforts","conservationEfforts","protectedAreas","restorationProjects","partnerships","funding","effectiveness","calculateConservationEffectiveness","fragmentationIndex","totalSpecies","climateVulnerability","overallRiskLevel","calculateOverallRiskLevel","mitigationPriority","prioritizeRisks","initiative","name","budget","assessInitiativeImpact","protectedAreaImpact","permits","biodiversityLoss","offsetProgram","newDevelopment","environmentalImpactAssessment","generateComplianceRecommendations","habitatScore","h","speciesScore","servicesScore","some","r","a","b","levels","critical","high","medium","low","areaImpact","budgetImpact","issue","threatLevels","HumanRightsLabor","assessHumanRights","laborData","supplierData","grievanceData","conductRiskAssessment","evaluateCompliance","grievanceAnalysis","analyzeGrievances","supplierDueDiligence","assessSupplierCompliance","auditResults","processAuditResults","audits","trainingMetrics","calculateTrainingMetrics","training","getDefaultHumanRightsAssessment","riskCategories","internalRisk","assessInternalRisk","supplierRisk","assessSupplierRisk","geographicRisk","assessGeographicRisk","locations","overallRisk","calculateOverallRisk","categoryRisks","overallRiskScore","calculateTotalRiskScore","highRiskAreas","identifyHighRiskAreas","indicators","getRiskIndicators","riskScore","indicator","calculateIndicatorRisk","suppliers","riskScores","supplier","assessSupplierCategoryRisk","child_labor","forced_labor","discrimination","maxRisk","location","country","policies","checkPolicies","checkTraining","monitoring","checkMonitoring","reporting","checkReporting","gaps","identifyComplianceGaps","grievances","byCategory","categorizeGrievances","analyzeGrievanceTrends","resolution","analyzeResolutionMetrics","totalGrievances","identifyGrievanceRisks","assessments","calculateSupplierRiskLevel","auditStatus","complianceScore","calculateSupplierComplianceScore","lastAudit","nextAudit","totalSuppliers","riskDistribution","calculateRiskDistribution","auditCoverage","calculateAuditCoverage","actionRequired","totalAudits","byType","categorizeAudits","findings","summarizeFindings","corrective_actions","trackCorrectiveActions","calculateAuditEffectiveness","trainingData","coverage","completionRate","effectivenessScore","byTopic","refresherNeeded","identifyRefresherNeeds","freedom_association","working_conditions","thresholds","minorEmployees","safetyIncidents","overtimeHours","categoryRisk","scores","_","risk","required","existing","missing","p","frequency","transparency","timeliness","replace","auditTypes","CommunityEngagement","manageCommunityEngagement","csrData","impactData","csrAnalysis","analyzeCSRProjects","stakeholderEngagement","assessStakeholderEngagement","impactMeasurement","measureCommunityImpact","investmentTracking","trackCSRInvestment","performanceMetrics","calculatePerformanceMetrics","generateEngagementRecommendations","getDefaultCommunityEngagement","projects","categorizeProjects","byStatus","analyzeProjectStatus","assessProjectEffectiveness","totalProjects","analyzeProjectBudgets","analyzeProjectTimelines","beneficiaries","calculateBeneficiaries","stakeholders","engagementMetrics","calculateEngagementMetrics","satisfactionScores","analyzeSatisfactionScores","communicationEffectiveness","assessCommunicationEffectiveness","communications","totalStakeholders","categorizeStakeholders","feedbackAnalysis","analyzeFeedback","relationshipHealth","assessRelationshipHealth","impacts","byArea","categorizeImpacts","measurement","calculateImpactMeasurement","sustainability","assessImpactSustainability","totalImpacts","longTermOutcomes","assessLongTermOutcomes","unintendedConsequences","identifyUnintendedConsequences","scalability","assessScalability","investments","totalInvestment","calculateTotalInvestment","allocation","analyzeInvestmentAllocation","calculateInvestmentEfficiency","outcomes","analyzeInvestmentTrends","benchmarking","benchmarkInvestment","roi","calculateCSRROI","projectSuccessRate","calculateSuccessRate","impactPerDollar","calculateImpactPerDollar","beneficiaryReach","calculateBeneficiaryReach","sustainabilityIndex","calculateSustainabilityIndex","stakeholderSatisfaction","calculateOverallSatisfaction","stakeholderFeedback","communityDevelopmentIndex","calculateCommunityDevelopmentIndex","projectTypes","completed","average","calculateScoreDistribution","topPerformers","underPerformers","budgets","largest","smallest","utilization","calculateBudgetUtilization","direct","directBeneficiaries","indirect","indirectBeneficiaries","byDemographic","analyzeBeneficiaryDemographics","totalEngagements","engagements","activeStakeholders","lastEngagement","averagePerStakeholder","engagementRate","latest","calculateTrend","impactAreas","quantitative","measureQuantitativeImpacts","qualitative","measureQualitativeImpacts","baseline","establishBaselines","progress","trackProgress","sustainabilityScores","sustainabilityScore","averageScore","sustainableImpacts","riskOfReversal","successful","successScore","inv","amount","imp","quantitativeValue","expectedImpact","WorkforceManagement","manageWorkforce","workforceData","diversityData","performanceData","diversityAnalysis","analyzeDiversity","retentionAnalysis","analyzeRetention","payEquityAnalysis","analyzePayEquity","trainingAnalysis","analyzeTraining","calculateWorkforceScore","generateWorkforceRecommendations","getDefaultWorkforceAnalysis","diversity","diversityCategories","calculateDiversityMetrics","overallDiversityIndex","calculateDiversityIndex","representation","analyzeRepresentation","analyzeDiversityTrends","employees","turnover","overallRetentionRate","calculateRetentionRate","calculateRetentionByDemographic","byRole","calculateRetentionByRole","exitReasons","analyzeExitReasons","costOfTurnover","calculateTurnoverCost","avgRecruitmentCost","genderPayGap","calculateGenderPayGap","ethnicityPayGap","calculateEthnicityPayGap","roleEquity","analyzeRoleEquity","promotionEquity","analyzePromotionEquity","promotions","assessPayEquityCompliance","totalHours","hoursPerEmployee","skillDevelopment","analyzeSkillDevelopment","skills","investmentROI","calculateTrainingROI","categoryData","count","group","diversityScore","calculateShannonIndex","assessRepresentation","index","proportion","log2","productivity","retention","satisfaction","HealthSafety","manageHealthSafety","incidentData","auditData","emergencyData","incidentAnalysis","analyzeIncidents","safetyMetrics","calculateSafetyMetrics","processSafetyAudits","trainingEffectiveness","analyzeSafetyTraining","emergencyPreparedness","assessEmergencyPreparedness","assessSafetyCompliance","overallSafetyScore","calculateOverallSafetyScore","generateSafetyRecommendations","getDefaultHealthSafetyAnalysis","incidents","totalIncidents","categorizeIncidents","bySeverity","categorizeIncidentsBySeverity","analyzeIncidentTrends","rootCauses","analyzeRootCauses","preventiveMeasures","identifyPreventiveMeasures","costImpact","calculateIncidentCosts","workHours","totalWorkHours","totalEmployees","ltifr","calculateLTIFR","trifr","calculateTRIFR","dart","calculateDART","oshaRate","calculateOSHARate","fatalities","benchmarkSafetyMetrics","categorizeSafetyFindings","correctiveActions","actions","auditEffectiveness","measureAuditEffectiveness","complianceGaps","totalTrainingHours","certificationStatus","analyzeCertifications","certifications","refresherCompliance","trackRefresherTraining","refresher","emergencyDrills","analyzeEmergencyDrills","drills","procedures","procedureCoverage","assessProcedureCoverage","drillCompliance","analyzeDrillCompliance","equipmentReadiness","assessEquipmentReadiness","responseCapability","evaluateResponseCapability","communicationSystems","assessCommunicationSystems","lostTime","recordable","daysAway","restricted","transferred","oshaRecordable","incidentTypes","severityLevels","EthicsAntiCorruption","manageEthicsCompliance","policyData","policyCompliance","assessPolicyCompliance","evaluateTrainingPrograms","conductEthicsRiskAssessment","processEthicsAudits","calculateOverallComplianceScore","generateEthicsRecommendations","getDefaultEthicsCompliance","acknowledgments","updates","policyFramework","evaluatePolicyFramework","acknowledgmentRate","calculateAcknowledgmentRate","policyUpdates","analyzePolicyUpdates","assessPolicyCoverage","measurePolicyEffectiveness","programs","completions","programCoverage","calculateProgramCoverage","completionRates","calculateCompletionRates","effectivenessScores","analyzeTrainingEffectiveness","targetedTraining","assessTargetedTraining","riskProfiles","investigations","bySource","analyzeIncidentSources","assessInvestigations","resolutions","trackResolutions","riskFactors","identifyRiskFactors","riskMatrix","buildEthicsRiskMatrix","mitigationStrategies","developMitigationStrategies","calculateOverallEthicsRisk","monitoringPlan","createMonitoringPlan","categorizeAuditFindings","followUp","assessFollowUpActions","requiredPolicies","existingPolicies","rp","completeness","lastUpdated","getLatestUpdateDate","comprehensiveness","assessPolicyComprehensiveness","acknowledged","rate","pending","overdue","isOverdue","dueDate","recentUpdates","u","isRecent","totalUpdates","updateFrequency","calculateUpdateFrequency","majorRevisions","minorRevisions","trainingTypes","rates","c","trainingType","typeAssessments","passRate","categories","sources","incident","source","monthlyData","groupIncidentsByMonth","peakMonth","findPeakMonth","seasonality","detectSeasonality","_policyData$policies","factors","policyGaps","trainingRates","matrix","riskAreas","areaFactors","f","isRelatedToArea","probability","calculateRiskProbability","calculateRiskImpact","determineRiskLevel","_policyCompliance$pol","_policyCompliance$pol2","_riskAssessment$highR","lowTrainingAreas","join","days","cutoff","setDate","getDate","DataPrivacyCybersecurity","assessDataPrivacyCybersecurity","privacyData","securityData","complianceData","privacyCompliance","assessPrivacyCompliance","securityPosture","evaluateSecurityPosture","incidentManagement","analyzeSecurityIncidents","conductCyberRiskAssessment","evaluateSecurityTraining","overallMaturityScore","calculateMaturityScore","generateSecurityRecommendations","getDefaultSecurityAssessment","dataInventory","analyzeDataInventory","consentManagement","evaluateConsentManagement","consent","dataSubjectRights","assessDataSubjectRights","rights","breachManagement","evaluateBreachManagement","breaches","frameworkCompliance","assessFrameworkCompliance","privacyScore","calculatePrivacyScore","controlsAssessment","assessSecurityControls","controls","vulnerabilityManagement","evaluateVulnerabilityManagement","vulnerabilities","accessManagement","assessAccessManagement","access","networkSecurity","evaluateNetworkSecurity","network","endpointSecurity","assessEndpointSecurity","endpoints","securityScore","calculateSecurityScore","categorizeSecurityIncidents","responseMetrics","calculateResponseMetrics","impactAnalysis","analyzeIncidentImpact","lessonsLearned","extractLessonsLearned","threatLandscape","analyzeThreatLandscape","vulnerabilityProfile","buildVulnerabilityProfile","buildCyberRiskMatrix","businessImpact","assessBusinessImpact","calculateOverallCyberRisk","criticalRisks","identifyCriticalRisks","developCyberMitigationStrategies","privacyTraining","securityTraining","privacyMetrics","securityMetrics","awarenessLevel","assessSecurityAwareness","overallEffectiveness","identifyTrainingGaps","inventory","categorizeDataByType","categorizeDataBySource","analyzeDataRetention","totalDataAssets","assessInventoryCompleteness","classification","assessDataClassification","consentData","consents","mechanisms","totalConsents","validConsents","isConsentValid","expiredConsents","isConsentExpired","withdrawnConsents","consentMechanisms","complianceRate","calculateConsentComplianceRate","rightsData","requests","categorizeRightsRequests","calculateRightsResponseMetrics","totalRequests","fulfillmentRate","calculateFulfillmentRate","averageResponseTime","calculateAverageResponseTime","securityControls","control","controlData","implemented","lastTested","determineControlStatus","implementationRate","calculateImplementationRate","averageEffectiveness","calculateAverageEffectiveness","controlGaps","identifyControlGaps","vulns","categorizeVulnerabilitiesBySeverity","byAge","categorizeVulnerabilitiesByAge","patchingMetrics","calculatePatchingMetrics","totalVulnerabilities","calculateVulnerabilityRiskScore","analyzeVulnerabilityTrends","accessData","users","privilegedAccounts","privileged","accessReviews","reviews","totalUsers","mfaEnabled","lastAccessReview","getLatestAccessReview","accessViolations","identifyAccessViolations","calculateAccessComplianceRate","threatTypes","responseTimes","responseTime","resolutionTimes","resolutionTime","calculateAverage","averageResolutionTime","slaCompliance","calculateSLACompliance","escalationRate","calculateEscalationRate","totalFinancialImpact","financial","dataRecordsAffected","records","systemDowntime","downtime","reputationalImpact","assessReputationalImpact","regulatoryImpact","assessRegulatoryImpact","threats","typeIncidents","calculateAverageSeverity","calculateThreatTrend","likelihood","calculateThreatLikelihood","threat","calculateThreatImpact","totalBreaches","_riskAssessment$criti","expiryDate","dataTypes","complianceFrameworks","BoardLeadership","assessBoardLeadership","boardData","meetingData","compensationData","compositionAnalysis","analyzeBoardComposition","diversityAssessment","assessBoardDiversity","performanceEvaluation","evaluateBoardPerformance","compensationAnalysis","analyzeCompensation","governanceEffectiveness","assessGovernanceEffectiveness","overallGovernanceScore","calculateGovernanceScore","generateGovernanceRecommendations","getDefaultBoardAnalysis","members","totalMembers","independentDirectors","m","independent","executiveDirectors","independenceRatio","averageTenure","calculateAverageTenure","skillsMatrix","analyzeSkillsMatrix","committees","analyzeCommittees","diversityMetrics","metric","calculateDiversityMetric","byMetric","overallDiversityScore","calculateOverallDiversityScore","meetings","evaluations","meetingAttendance","calculateMeetingAttendance","decisionEffectiveness","assessDecisionEffectiveness","strategicOversight","evaluateStrategicOversight","riskOversight","evaluateRiskOversight","performanceRatings","analyzePerformanceRatings","compensation","executiveCompensation","analyzeExecutiveCompensation","executive","directorCompensation","analyzeDirectorCompensation","directors","payForPerformance","assessPayForPerformance","peerBenchmarking","benchmarkCompensation","disclosureCompliance","assessCompensationDisclosure","shareholderApproval","trackShareholderApproval","approvals","oversightEffectiveness","measureOversightEffectiveness","complianceOversight","assessComplianceOversight","riskManagement","evaluateRiskManagement","successionPlanning","assessSuccessionPlanning","succession","stakeholderRelations","evaluateStakeholderRelations","ethicalLeadership","assessEthicalLeadership","member","tenure","skill","diversityIndex","assessMetricRepresentation","overall","byMember","attendanceByMember","totalAttendance","totalPossible","meeting","attendees","attendee","expectedAttendees","averagePerMeeting","composition","performance","_performance$performa","_performance$meetingA","boardRoles","governanceAreas","AIInsights","generateAIInsights","esgData","gapAnalysis","performGapAnalysis","maturityScoring","predictiveAlerts","generatePredictiveAlerts","policyRecommendations","generatePolicyRecommendations","automatedReporting","generateAutomatedReports","getDefaultAIInsights","frameworks","totalCompleteness","framework","analyzeFrameworkGaps","byFramework","overallCompleteness","missingData","getFrameworkRequirements","qualityScore","requirements","availableData","extractAvailableData","req","assessDataQuality","GRI","SASB","TCFD","BRSR","available","Array","isArray","subcategory","Set","totalItems","verified","methodology","undefined","dataCollection","assessDataCollectionMaturity","processIntegration","assessProcessIntegrationMaturity","assessReportingMaturity","governance","assessGovernanceMaturity","overallMaturity","maturityLevel","getMaturityLevel","cat","integrationScore","totalData","automated","workflow","approval_status","reported","governanceItems","totalRiskScore","envRisks","analyzeEnvironmentalRisks","environmental","socialRisks","analyzeSocialRisks","social","govRisks","analyzeGovernanceRisks","environmentalData","emissionsData","parseFloat","socialData","safetyData","governanceData","currentScore","reports","draftGenerated","missingDataCount","readyForReview","ExternalPortals","manageExternalPortals","portalData","contentData","investorPortal","manageInvestorPortal","investor","supplierPortal","manageSupplierPortal","employeePortal","manageEmployeePortal","employee","auditorPortal","manageAuditorPortal","auditor","managePortalAccess","analytics","generatePortalAnalytics","getDefaultPortalManagement","esgReports","organizeESGReports","kpiDashboard","createKPIDashboard","kpis","benchmarks","provideBenchmarkData","accessLevel","downloadStats","calculateDownloadStats","downloads","esgQuestionnaires","manageESGQuestionnaires","questionnaires","complianceUploads","trackComplianceUploads","uploads","assessmentResults","provideAssessmentResults","trainingModules","organizeTrainingModules","activeSuppliers","activeUsers","trainingPrograms","organizeTrainingPrograms","grievanceSystem","manageGrievanceSystem","feedbackMechanism","manageFeedbackSystem","policyAccess","organizePolicyAccess","dataVerification","organizeVerificationData","verification","evidenceRepository","manageEvidenceRepository","evidence","auditTrails","provideAuditTrails","trails","complianceDocuments","organizeComplianceDocuments","documents","verificationStatus","trackVerificationStatus","verifications","userManagement","manageUsers","roleBasedAccess","implementRoleBasedAccess","roles","implementSecurityControls","security","auditLogs","maintainAuditLogs","logs","accessAnalytics","generateAccessAnalytics","usageStatistics","calculateUsageStatistics","contentEngagement","analyzeContentEngagement","userSatisfaction","measureUserSatisfaction","improvementAreas","identifyImprovementAreas","annual","quarterly","totalReports","calculateKPITrends","addBenchmarkComparisons","active","q","calculateCompletionRate","open","g","resolved","anonymous","calculateAverageResolutionTime","verificationData","dataPoints","verificationRate","calculateVerificationRate","portal","dailyActiveUsers","floor","random","monthlyActiveUsers","sessionDuration","portalTypes","ESGModuleManager","getModule","moduleName","modules","getAllModules","getModulesByCategory","advanced","runModuleAssessment","module","Error","methodName","wasteManagement","airPollutionControl","biodiversityLandUse","humanRightsLabor","communityEngagement","workforceManagement","healthSafety","ethicsAntiCorruption","dataPrivacyCybersecurity","boardLeadership","aiInsights","externalPortals","globalFrameworks","externalAuditorPortal","stakeholderSentimentAnalysis","getModuleCapabilities","capabilities","GlobalFrameworks","ExternalAuditorPortal","ComprehensiveESGDashboard","isDark","useTheme","theme","getThemeClasses","activeModule","setActiveModule","useState","moduleResults","setModuleResults","loading","setLoading","toast","setToast","moduleCategories","title","icon","async","testData","getTestDataForModule","moduleId","prev","showToast","owned","leased","managed","impacted","forest","wetland","grassland","gender","age","role","reason","department","arguments","setTimeout","renderModuleResults","_jsxs","className","bg","subtle","children","_jsx","renderModuleSpecificResults","_result$totalWaste","_result$totalWaste$to","_result$recyclingRate","_result$vendorComplia","_result$airQualityInd","_result$airQualityInd2","_result$controlEffici","_result$compliance","_result$landUse","_result$biodiversityI","_result$biodiversityI2","_result$conservation","_result$conservation$","_result$riskAssessmen","_result$riskAssessmen2","_result$compliance2","_result$compliance2$o","_result$riskAssessmen3","_result$riskAssessmen4","_result$csrAnalysis","_result$performanceMe","_result$performanceMe2","_result$investmentTra","_result$investmentTra2","_result$complianceSco","_result$incidentAnaly","_result$policyComplia","_result$policyComplia2","_result$policyComplia3","_result$overallMaturi","_result$privacyCompli","_result$privacyCompli2","_result$securityPostu","_result$securityPostu2","_result$overallScore","_result$diversityAnal","_result$diversityAnal2","_result$retentionAnal","_result$retentionAnal2","_result$overallSafety","_result$safetyMetrics","_result$safetyMetrics2","_result$incidentAnaly2","_result$overallGovern","_result$compositionAn","_result$compositionAn2","_result$diversityAsse","_result$diversityAsse2","_result$maturityScori","_result$gapAnalysis","_result$gapAnalysis$o","_result$predictiveAle","_result$analytics","_result$analytics$usa","_Fragment","toLocaleString","gradient","secondary","card","getOverallESGScore","results","_result$biodiversityI3","_result$maturityScori2","Button","variant","onClick","allModules","flatMap","disabled","categoryId","size","e","stopPropagation","info","capability","Toast","onClose"],"sourceRoot":""}