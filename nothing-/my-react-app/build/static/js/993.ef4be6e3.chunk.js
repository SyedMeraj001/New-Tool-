"use strict";(self.webpackChunkmy_react_app=self.webpackChunkmy_react_app||[]).push([[993],{993:(e,s,t)=>{t.r(s),t.d(s,{default:()=>d});var a=t(5043),r=t(3216),l=t(3005),n=t(579);const d=()=>{const e=(0,r.Zp)(),{isDark:s}=(0,l.D)(),[t,d]=(0,a.useState)([]),[i,g]=(0,a.useState)([]);(0,a.useEffect)(()=>{"admin@esgenius.com"===localStorage.getItem("currentUser")?c():e("/")},[e]);const c=()=>{const e=JSON.parse(localStorage.getItem("pendingUsers")||"[]"),s=JSON.parse(localStorage.getItem("approvedUsers")||"[]");d(e.filter(e=>"pending"===e.status)),g(s)};return(0,n.jsx)("div",{className:"min-h-screen p-6 "+(s?"bg-gray-900 text-white":"bg-gray-50 text-gray-900"),children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"Admin Panel - User Management"}),(0,n.jsx)("button",{onClick:()=>e("/"),className:"px-4 py-2 rounded-lg "+(s?"bg-gray-700 hover:bg-gray-600":"bg-white hover:bg-gray-100"),children:"Back to Dashboard"})]}),(0,n.jsxs)("div",{className:"rounded-lg p-6 mb-6 "+(s?"bg-gray-800":"bg-white"),children:[(0,n.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Pending Approvals (",t.length,")"]}),0===t.length?(0,n.jsx)("p",{className:s?"text-gray-400":"text-gray-600",children:"No pending requests"}):(0,n.jsx)("div",{className:"space-y-3",children:t.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border "+(s?"border-gray-700 bg-gray-700/50":"border-gray-200 bg-gray-50"),children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium",children:e.fullName}),(0,n.jsx)("div",{className:"text-sm "+(s?"text-gray-400":"text-gray-600"),children:e.email}),(0,n.jsxs)("div",{className:"text-xs text-gray-500",children:["Requested: ",new Date(e.requestDate).toLocaleDateString()]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:()=>(e=>{const s=JSON.parse(localStorage.getItem("pendingUsers")||"[]"),t=JSON.parse(localStorage.getItem("approvedUsers")||"[]"),a=s.findIndex(s=>s.email===e);if(-1!==a){const e=s[a];e.status="approved",e.approvedDate=(new Date).toISOString(),t.push(e),s.splice(a,1),localStorage.setItem("pendingUsers",JSON.stringify(s)),localStorage.setItem("approvedUsers",JSON.stringify(t)),c()}})(e.email),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Approve"}),(0,n.jsx)("button",{onClick:()=>(e=>{const s=JSON.parse(localStorage.getItem("pendingUsers")||"[]"),t=s.findIndex(s=>s.email===e);-1!==t&&(s.splice(t,1),localStorage.setItem("pendingUsers",JSON.stringify(s)),c())})(e.email),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reject"})]})]},t))})]}),(0,n.jsxs)("div",{className:"rounded-lg p-6 "+(s?"bg-gray-800":"bg-white"),children:[(0,n.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Approved Users (",i.length,")"]}),0===i.length?(0,n.jsx)("p",{className:s?"text-gray-400":"text-gray-600",children:"No approved users"}):(0,n.jsx)("div",{className:"space-y-3",children:i.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg border "+(s?"border-gray-700 bg-gray-700/50":"border-gray-200 bg-gray-50"),children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium",children:e.fullName}),(0,n.jsx)("div",{className:"text-sm "+(s?"text-gray-400":"text-gray-600"),children:e.email}),(0,n.jsxs)("div",{className:"text-xs text-gray-500",children:["Approved: ",new Date(e.approvedDate).toLocaleDateString()]})]}),(0,n.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:"Approved"})]},t))})]})]})})}}}]);
//# sourceMappingURL=993.ef4be6e3.chunk.js.map